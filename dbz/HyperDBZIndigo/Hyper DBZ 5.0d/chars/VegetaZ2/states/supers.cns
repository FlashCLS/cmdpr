;===============================================
; CNS File for Vegeta Z2 by Balthazar & Cybaster
; Majin Vegeta Z2 by XGargoyle
; Super Moves
;===============================================


;===========================================================================
; <<<<< GALICK HO >>>>>
; State = 2000
; Helper : 2001
;===========================================================================

[Statedef 2000]
type = S
physics = S
movetype = A
anim = 2000
ctrl = 0
velset = 0,0
sprpriority = 1
;poweradd = cond(var(53)>0,0,-1000)
poweradd = -1000

[State 3000, width]
type = width
trigger1 = 1 ;animelemtime(23)<0
value = 30,0

[State 0, for trial]
type = VarSet
trigger1 = !time
var(18) = 1

[State 0, disable rage mode]
type = null;VarSet
trigger1 = !time
var(53) = 0

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet] ;QCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;QCF+2P
triggerall = statetype!=A
type = VarSet
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;AIR QCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;2xQCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;AIR 2xQCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;2xQCF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;AIR 2xQCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;DP+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR DP+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;DP+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;AIR DP+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;QCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;AIR 2xQCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;DP+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR DP+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;DP+2K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;AIR DP+2K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;FF+SK
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064)))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;AIR FF+SK
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90001016),NumExplod(90001064))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;QCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;QCB+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;AIR QCB+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;2xQCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;AIR 2xQCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;QCBF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;AIR QCBF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;QCBF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;AIR QCBF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;QCBF+3P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;AIR QCBF+3P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;QCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;AIR 2xQCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;QCBF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28
[State 800, VarSet] ;AIR QCBF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28

[State 800, VarSet]
type = VarSet
trigger1 = time > 62
trigger1 = AILevel>0 && numenemy && random<200
trigger1 = (enemynear,Movetype=H) && power>=2000
trigger1 = numhelper(2001)
trigger1 = helper(2001),movehit
var(3) = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(24)<0     ;4
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(26) < 0    ;6
time = 1
value = SCA

[State 200, Galick Ho voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 0
value = 2000,7+random%3
volume = 355
channel = 0

[State 200, Galick Ho voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 0
value = 2402,0
volume = 355
channel = 0

[State 200, Galick Ho voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 0
value = 2002,random%2
volume = 300
channel = 0

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 0, Super FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -125,20 ;-120,3
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Charge Ball FX]
type = Explod
trigger1 = time = 5
anim = 2007
id = 2007
pos = -10,-90 ;-5,-107
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 41
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0


[State 0, Front Arm]
type = null ;Explod
trigger1 = time = 5
anim = 2010
id = 2010
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 41
sprpriority = 4
ownpal = 0
bindtime = -1
scale = 1,1
persistent = 0


[State 0, Mouth LOL]
type = Explod
trigger1 = time = 5
anim = 2011
id = 2011
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[state 1215, Smoke FX]
type = explod
trigger1 = anim=2000 && animelemtime(25)=0     ;5
anim = 1207
id = 1207
pos = -25,3
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[state 1215, Flash FX]
type = null ;explod
trigger1 = anim=2000 && animelemtime(25)=0      ;5
anim = 2005
id = 2005
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = 10
persistent = 0
ignorehitpause = 1
removeongethit = 1

[state 1215, Back Trail FX]
type = explod
triggerall = !Numexplod(2004)
trigger1 = anim=2000 && animelemtime(25)=0   ;5
trigger2 = anim=2000 && animelemtime(27)=1     ;7
trigger3 = anim=2000 && animelemtime(29)=0     ;9
trigger4 = anim=2000 && animelemtime(30)=1      ;10
trigger5 = anim=2000 && animelemtime(32)=0      ;12
anim = 2004
id = 2004
pos = 30,-60
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
;persistent = 0
ignorehitpause = 1

[State 0, Launch Ball FX]
type = Explod
trigger1 = anim=2000 && animelemtime(25)=0    ;5
trigger2 = anim=2000 && animelemtime(27)=1     ;7
trigger3 = anim=2000 && animelemtime(29)=0     ;9
trigger4 = anim=2000 && animelemtime(30)=1      ;10
trigger5 = anim=2000 && animelemtime(32)=0      ;12
anim = 2002
id = 2002
pos = 70,-60
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1

[State 3000, Galick Ho]
type = helper
trigger1 = anim=2000 && animelemtime(25)=0     ;5
trigger2 = anim=2000 && animelemtime(27)=1     ;7
trigger3 = anim=2000 && animelemtime(29)=0     ;9
trigger4 = anim=2000 && animelemtime(30)=1    ;10
helpertype = normal
stateno = 2001
ID = 2001
name = "galick1"
postype = p1
pos = 80,-60
ownpal = 1

[State 0, Launch Face]
type = Explod
trigger1 = anim=2000 && animelemtime(26)=0
anim = 2010
id = 2010
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 4
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3000, Galick Ho LAST]
type = helper
trigger1 = anim=2000 && animelemtime(32)=0  ;12
helpertype = normal
stateno = 2003
ID = 2001
name = "galick1"
postype = p1
pos = 80,-60
ownpal = 1

[State 1000, Chou Galick Ho]
type = ChangeState
triggerall = power>=2000
triggerall = var(1) = 1 ;Normal Vegeta only
;triggerall = var(53)=0 ;No rage mode
triggerall = roundstate = 2
triggerall = AnimElemTime(32)>=2
;trigger1 = var(18)=0
trigger1 = Var(3)=6
value = 2400
ctrl = 0

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
; <<<<< AIR GALICK HO >>>>>
; State beginning : 2100
; State launch : 2101
; Helper : 2102
; Return & land : 2120
;===========================================================================

[Statedef 2100]
type = A
physics = N
movetype = A
anim = 2100
ctrl = 0
velset = 0,0
sprpriority = 1
;poweradd = cond(var(53)>0,0,-1000)
poweradd = -1000
facep2 = 1

[State 0, disable rage mode]
type = null;VarSet
trigger1 = !time
var(53) = 0

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet] ;QCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;QCF+2P
triggerall = statetype!=A
type = VarSet
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;AIR QCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;2xQCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;AIR 2xQCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;2xQCF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;AIR 2xQCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;DP+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR DP+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;DP+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;AIR DP+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;QCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;AIR 2xQCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;DP+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR DP+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;DP+2K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;AIR DP+2K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;FF+SK
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064)))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;AIR FF+SK
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90001016),NumExplod(90001064))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;QCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;QCB+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;AIR QCB+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;2xQCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;AIR 2xQCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;QCBF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;AIR QCBF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;QCBF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;AIR QCBF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;QCBF+3P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;AIR QCBF+3P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;QCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;AIR 2xQCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;QCBF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28
[State 800, VarSet] ;AIR QCBF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time>=5
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 200, Galick Ho voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 0
value = 2000,7+random%3
volume = 355
channel = 0

[State 200, Galick Ho voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 0
value = 2402,0
volume = 355
channel = 0

[State 200, Galick Ho voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 0
value = 2002,random%2
volume = 300
channel = 0

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = time=[5,47]
time = 1
color=0
mul=0,0,0

[State 0, Super FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -105,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 1
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Front Arm]
type = Explod
trigger1 = time = 5
anim = 2103
id = 2103
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 42
sprpriority = 4
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, Charge Ball FX]
type = Explod
trigger1 = time = 5
anim = 2007
id = 2007
pos = 8,-112
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 42
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, mouth LOL]
type = Explod
trigger1 = time = 5
anim = 2110
id = 2110
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 6
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

;[State 200, 1];Woosh
;type = PlaySnd
;trigger1 = animelem = 5
;value = 0, 0
;channel = 1

[State 3000, end]
type = changestate
trigger1 = time = 47
value = 2101
ctrl = 0

;-------------------------
;Launch Galick Ho
[Statedef 2101]
type = A
physics = N
movetype = A
anim = 2101
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, mouth LOL]
type = RemoveExplod
trigger1 = !time
ID = 2110

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet] ;QCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;QCF+2P
triggerall = statetype!=A
type = VarSet
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;AIR QCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;2xQCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;AIR 2xQCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;2xQCF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;AIR 2xQCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;DP+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR DP+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;DP+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;AIR DP+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;QCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;AIR 2xQCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;DP+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR DP+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;DP+2K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;AIR DP+2K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;FF+SK
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064)))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;AIR FF+SK
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90001016),NumExplod(90001064))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;QCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;QCB+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;AIR QCB+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;2xQCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;AIR 2xQCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;QCBF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;AIR QCBF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;QCBF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;AIR QCBF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;QCBF+3P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;AIR QCBF+3P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;QCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;AIR 2xQCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;QCBF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28
[State 800, VarSet] ;AIR QCBF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28


[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(8)>=0
trigger1 = AILevel>0 && numenemy && random<200
trigger1 = (enemynear,Movetype=H) && power>=2000
trigger1 = numhelper(2102)
trigger1 = helper(2102),movehit
var(3) = 1

[state 1215, Flash FX]
type = null ;explod
trigger1 = animelemtime(3)=0
anim = 2104
id = 2104
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = 10
persistent = 0
ignorehitpause = 1
removeongethit = 1

[State 3000, Galick Ho]
type = helper
trigger1 = animelemtime(3)=0
trigger2 = animelemtime(5)=1
trigger3 = animelemtime(7)=0
trigger4 = animelemtime(9)=1
helpertype = normal
stateno = 2102
ID = 2102
name = "galick_ho_aerial"
postype = p1
pos = 0,-20
ownpal = 1

[State 3000, Galick Ho LAST]
type = helper
trigger1 = animelemtime(10)=0
helpertype = normal
stateno = 2105
ID = 2102
name = "galick_ho_aerial"
postype = p1
pos = 0,-20
ownpal = 1

[State 1000, Chou Galick Ho]
type = ChangeState
triggerall = power>=2000
triggerall = var(1) = 1 ;Normal Vegeta only
;triggerall = var(53)=0 ;No rage mode
triggerall = roundstate = 2
triggerall = AnimElemTime(12)>=0
;trigger1 = var(18)=0
trigger1 = Var(3)=6
value = 2450

[State 0, Launch mouth LOL]
type = Explod
trigger1 = AnimElemtime(8)=0
anim = 2112
id = 2112
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1 ;30
sprpriority = 2
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemtime(19)=0
id = 2112
ignorehitpause = 1
;persistent =


[State 3000, end]
type = changestate
trigger1 = !animtime
value = 2120 ;50
ctrl = 0

;---------------------------
;Return & Landing from Aerial move

[Statedef 2120]
type = A
physics = N
movetype = I
anim = 44
ctrl = 0
sprpriority = 2

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0

[State 40, 4]; fall
type = Veladd
trigger1 = anim = 44
Y = 0.9

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = Anim = 44
trigger1 = Pos Y = 0
value = 2120

[State 4001, Stop]
type = VelSet
trigger1 = Vel Y > abs(Pos Y)
Y = 0

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2120
X = 0

[State 4001, Replace]
type = PosSet
trigger1 = Vel Y = 0
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2120
persistent = 0
statetype = S
physics = N

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2120
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2120
anim=17100
id=17100
pos=7,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,1

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2120
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===========================================================================
; <<<<< BAKUHATSUHA >>>>>
; State : 2300
; Helper : 2301
;===========================================================================

[Statedef 2300]
type = S
physics = S
movetype = A
anim = 2300
ctrl = 0
velset = 0,0
sprpriority = 1
;poweradd = cond(var(53)>0,0,-1000)
poweradd = -1000
;facep2 = 1

[State 0, disable rage mode]
type = null;VarSet
trigger1 = !time
var(53) = 0

[State 100, jump SND]
type = playsnd
trigger1 = !time
value = 40,1

[state 1215, Rising Effect]
type = explod
trigger1 = !time
anim = 1216
id = 1216
pos = 10,12
postype = P1
sprpriority = -3
ownpal = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 0

[State 40, 4]
type = VelSet
trigger1 = Time = 0
trigger2 =  animelemtime(18)=0 ;4
x = const(velocity.jump.back.x)/1.2
y = const(velocity.jump.y)/1.5

[State 40, 4]
type = VelSet
trigger1 =  animelemtime(3)=0
x = 0
y = 0

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(1)>0
physics = N
statetype = A

[State 100, "Bakuhatsuha" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5
value = 2300,random%5
channel = 0
volume = 300

[State 100, "What the, FU BItch !!!" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 5
value = 2305,0
channel = 0
volume = 300

[State 100, "Bakuhatsuha" voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2300,10+random%4
channel = 0
volume = 300

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(20) < 0   ;6
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(21) < 0    ;7
time = 1
value = SCA

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 2500, bgpalfx1]
type = null ;bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 2200, Slow Gravity]
type = VelAdd
trigger1 = animelemtime(18)>=0 ;4
Y = 0.35

[State 0, Super FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -142,43
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 8
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 19 ;5
value = 0, 0
channel = 1

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2300 && animelem=20 ;6
helpertype = normal
stateno = 2301
ID = 2301
name = "baku"
postype = p1
pos = 100,ceil(-pos Y)
ownpal = 1

[State 200, 1];Explosion
type = PlaySnd
trigger1 = animelem = 20 ;6
value = 2483,0
volume = -100
channel = 2

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 0

;===========================================================================
; <<<<< AIR BAKUHATSUHA >>>>>
; State : 2310
; Helper : 2301
;===========================================================================

[Statedef 2310]
type = A
physics = N
movetype = A
anim = 2300
ctrl = 0
velset = 0,0
sprpriority = 1
;poweradd = cond(var(53)>0,0,-1000)
poweradd = -1000
;facep2 = 1

[State 0, disable rage mode]
type = null;VarSet
trigger1 = !time
var(53) = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(20) < 0    ;6
flag = noBG
flag2 = noFG

[State 100, "Bakuhatsuha" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5
value = 2300,random%5
channel = 0
volume = 300

[State 100, "What the, FU BItch !!!" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 5
value = 2305,0
channel = 0
volume = 300

[State 100, "Bakuhatsuha" voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2300,10+random%4
channel = 0
volume = 300

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(21) < 0 ;7
time = 1
value = SCA

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0
movetime = 40

[State 2500, bgpalfx1]
type = null ;bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 40, 4]; Rebound in air
type = VelSet
trigger1 = animelemtime(20)=0  ;6
x = const(velocity.jump.back.x)/2.0
y = const(velocity.jump.y)/3.0

[State 2200, sts]
type = null ;statetypeset
trigger1 = animelemtime(20)>=0  ;6
physics = A

[State 2200, Slow Gravity]
type = VelAdd
trigger1 = animelemtime(20)>=0   ;6
Y = 0.35

[State 0, Super FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -142,43
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 8
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 5
value = 0, 0
channel = 1

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2300 && animelem=20 ;6
helpertype = normal
stateno = 2301
ID = 2301
name = "baku"
postype = p1
pos = 100,ceil(-pos Y)
ownpal = 1

[State 200, 1];Explosion
type = PlaySnd
trigger1 = animelem = 20 ;6
value = 2483,0
volume = -100
channel = 2

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 0

;===========================================================================
; <<<<< BAKUHATSUHA LV.2 >>>>>
; State : 2320
; Helper : 2321
;===========================================================================

[Statedef 2320]
type = S
physics = S
movetype = A
anim = 2320
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000
;facep2 = 1

[State 100, "Like 'Em Well Done" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5
value = 2320,random%3
channel = 0
volume = 300

[State 100, "What the, FU BItch !!!" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 5
value = 2305,0
channel = 0
volume = 300

[State 100, Baku Lv2 voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2321,random%3
channel = 0
volume = 300

[State 100, jump SND]
type = playsnd
trigger1 = !time
value = 40,1

[state 1215, Rising Effect]
type = explod
trigger1 = !time
anim = 1216
id = 1216
pos = 10,12
postype = P1
sprpriority = -3
ownpal = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 0

[State 40, 4]
type = VelSet
trigger1 = Time = 0
trigger2 =  animelemtime(18)=0 ;4
x = const(velocity.jump.back.x)/1.1
y = const(velocity.jump.y)/1.4

[State 40, 4]
type = VelSet
trigger1 =  animelemtime(3)=0
x = 0
y = 0

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(1)>0
physics = N
statetype = A

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(20) < 0 ;6
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(21) < 0 ;7
time = 1
value = SCA

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(18)>=0   ;4
physics = A

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,0
darken = 0
movetime = 40

[State 0, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2442 ;2440 ;anim 2442 is 6 ticks longer!
id = 2440
pos = -25,-70
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 6
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 19  ;5
trigger2 = animelem = 24 ;10
value = 0, 0
channel = 1

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2320 && animelem=20 ;6
helpertype = normal
stateno = 2321
ID = 2321
name = "baku"
postype = p1
pos = 100,ceil(-pos Y)
ownpal = 1

[State 40, 4]; Rebound in air
type = VelSet
trigger1 = animelemtime(26)=0  ;12
x = const(velocity.jump.back.x)/2.0
y = const(velocity.jump.y)/3.0

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2320 && animelem=26 ;12
helpertype = normal
stateno = 2321
ID = 2321
name = "baku"
postype = p1
pos = cond(FrontEdgeDist<200,150,200),ceil(-pos Y)
ownpal = 1

[State 200, 1];Explosion
type = PlaySnd
trigger1 = animelem = 20 ;6
trigger2 = animelem = 26 ;12
value = 2483,0
volume = -100
channel = 2

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 0

;===========================================================================
; <<<<< BAKUHATSUHA LV.2 in AIR >>>>>
; State : 2330
; Helper : 2321
;===========================================================================

[Statedef 2330]
type = A
physics = N
movetype = A
anim = 2320
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000
;facep2 = 1

[State 100, "Like 'Em Well Done" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 2320,random%3
channel = 0
volume = 300

[State 100, "What the, FU BItch !!!" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 5
value = 2305,0
channel = 0
volume = 300

[State 100, Baku Lv2 voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2321,random%3
channel = 0
volume = 300

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(1)>0
physics = N
statetype = A

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(20) < 0   ;6
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(21) < 0     ;7
time = 1
value = SCA

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,0
darken = 0
movetime = 40

[State 0, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2442 ;2440 ;anim 2442 is 6 ticks longer!
id = 2440
pos = -25,-70
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 6
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 19 ;5
trigger2 = animelem = 24 ;10
value = 0, 0
channel = 1

[State 40, 4]; Rebound in air
type = VelSet
trigger1 = animelemtime(20)=0  ;6
x = const(velocity.jump.back.x)/1.5
y = const(velocity.jump.y)/2.0

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(20)>=0  ;6
physics = A

[State 2200, Slow Gravity]
type = null ;VelAdd
trigger1 = animelemtime(20)>=0   ;6
Y = 0.35

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2320 && animelem=20 ;6
helpertype = normal
stateno = 2321
ID = 2321
name = "baku"
postype = p1
pos = 100,ceil(-pos Y)
ownpal = 1

[State 40, 4]; Rebound in air
type = VelSet
trigger1 = animelemtime(26)=0 ;12
x = const(velocity.jump.back.x)/2.0
y = const(velocity.jump.y)/3.0

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2320 && animelem=26 ;12
helpertype = normal
stateno = 2321
ID = 2322
name = "baku"
postype = p1
pos = cond(FrontEdgeDist<200,150,200),ceil(-pos Y)
ownpal = 1

[State 200, 1];Explosion
type = PlaySnd
trigger1 = animelem = 20 ;6
trigger2 = animelem = 26 ;12
value = 2483,0
volume = -100
channel = 2

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 0


;===========================================================================
; <<<<< BAKUHATSUHA LV.3 >>>>>
; State : 2340
; Helper : 2341
;===========================================================================

[Statedef 2340]
type = S
physics = S
movetype = A
anim = 2340
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -3000
;facep2 = 1

[State 100, "Super Bakuhatusha" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5
value = 2340,random%5
channel = 0
volume = 300

[State 100, "What the, FU BItch !!!" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 5
value = 2305,0
channel = 0
volume = 300

[State 100, Baku Lv3 voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2341,random%3
channel = 0
volume = 300

[State 100, jump SND]
type = playsnd
trigger1 = !time
value = 40,1

[state 1215, Rising Effect]
type = explod
trigger1 = !time
anim = 1216
id = 1216
pos = 10,12
postype = P1
sprpriority = -3
ownpal = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 0

[State 40, 4]
type = VelSet
trigger1 = Time = 0
trigger2 =  animelemtime(18)=0 ;4
x = const(velocity.jump.back.x)/1.1
y = const(velocity.jump.y)/1.4

[State 40, 4]
type = VelSet
trigger1 =  animelemtime(3)=0
x = 0
y = 0

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(1)>0
physics = N
statetype = A

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(20) < 0 ;6
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(21) < 0 ;7
time = 1
value = SCA

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(18)>=0  ;4
physics = A

[State 2200, Slow Gravity]
type = null ;VelAdd
trigger1 = animelemtime(18)>=0  ;4
Y = 0.35

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,1
darken = 0
movetime = 40

[State 0, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = -25,-70
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 6
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 19 ;5
trigger2 = animelem = 24 ;10
trigger3 = animelem = 29 ;15
value = 0, 0
channel = 1

[State 3000, Bakuhatsuha 1]
type = helper
trigger1 = anim=2340 && animelem=20 ;6
helpertype = normal
stateno = 2341
ID = 2341
name = "baku"
postype = p1
pos = 100,ceil(-pos Y)
ownpal = 1

[State 40, 4]; Rebound in air
type = VelSet
trigger1 = animelemtime(26)=0 ;12
trigger2 = animelemtime(30)=0  ;16
x = const(velocity.jump.back.x)/2.0
y = const(velocity.jump.y)/3.0

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2340 && animelem=26 ;12
helpertype = normal
stateno = 2341
ID = 2342
name = "baku"
postype = p1
pos = cond(FrontEdgeDist<200,150,200),ceil(-pos Y)
ownpal = 1

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2340 && animelem=30 ;16
helpertype = normal
stateno = 2341
ID = 2343
name = "baku"
postype = p1
pos = cond(FrontEdgeDist<200,150,260),ceil(-pos Y)
ownpal = 1

[State 200, 1];Explosion
type = PlaySnd
trigger1 = animelem = 20 ;6
trigger2 = animelem = 26 ;12
trigger3 = animelem = 30 ;16
value = 2483,0
volume = -100
channel = 2

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 0

;===========================================================================
; <<<<< BAKUHATSUHA LV.3 in AIR >>>>>
; State : 2350
; Helper : 2341
;===========================================================================

[Statedef 2350]
type = A
physics = N
movetype = A
anim = 2340
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -3000
;facep2 = 1

[State 100, "Super Bakuhatusha" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 2340,random%5
channel = 0
volume = 300

[State 100, "What the, FU BItch !!!" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 2305,0
channel = 0
volume = 300

[State 100, Baku Lv3 voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2341,random%3
channel = 0
volume = 300

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(1)>0
physics = N
statetype = A

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(20) < 0 ;6
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(21) < 0  ;7
time = 1
value = SCA

[State 2200, sts]
type = statetypeset
trigger1 = animelemtime(20)>=0  ;6
physics = A

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,1
darken = 0
movetime = 40

[State 0, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = -25,-70
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 6
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 19 ;5
trigger2 = animelem = 24 ;10
trigger3 = animelem = 29 ;15
value = 0, 0
channel = 1

[State 40, 4]; Rebound in air
type = VelSet
trigger1 = animelemtime(20)=0  ;6
x = const(velocity.jump.back.x)/1.5
y = const(velocity.jump.y)/2.0

[State 40, 4]; Rebound in air
type = VelSet
trigger1 = animelemtime(26)=0 ;12
trigger2 = animelemtime(30)=0 ;16
x = const(velocity.jump.back.x)/2.0
y = const(velocity.jump.y)/3.0

[State 3000, Bakuhatsuha 1]
type = helper
trigger1 = anim=2340 && animelem=20 ;6
helpertype = normal
stateno = 2341
ID = 2341
name = "baku"
postype = p1
pos = 100,ceil(-pos Y)
ownpal = 1

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2340 && animelem=26 ;12
helpertype = normal
stateno = 2341
ID = 2342
name = "baku"
postype = p1
pos = cond(FrontEdgeDist<200,150,200),ceil(-pos Y)
ownpal = 1

[State 3000, Bakuhatsuha]
type = helper
trigger1 = anim=2340 && animelem=30 ;16
helpertype = normal
stateno = 2341
ID = 2343
name = "baku"
postype = p1
pos = cond(FrontEdgeDist<200,150,260),ceil(-pos Y)
ownpal = 1

[State 200, 1];Explosion
type = PlaySnd
trigger1 = animelem = 20 ;6
trigger2 = animelem = 26 ;12
trigger3 = animelem = 30 ;16
value = 2483,0
volume = -100
channel = 2

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 0


;===========================================================================
; <<<<< CHOU GALICK HO >>>>>
; State = 2400
; Helper : 2401
; Helper Last : 2403
;===========================================================================

[Statedef 2400]
type = S
physics = S
movetype = A
anim = 2400
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000

[State 200, Chou Galick Ho voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 0
value = 2400,5+random%3
volume = 355
channel = 0

[State 200, Chou Galick Ho voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 0
value = 2402,0
volume = 355
channel = 0

[State 200, Galick Gun voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 0
value = 2403,0
volume = 355
channel = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 200, Super Ball sound]
type = PlaySnd
trigger1 = time = 5
value = 2400,10

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 80
p2defmul = 1
unhittable = 1
anim = -1
;sound = s2350,0
darken = 0
movetime = 80

[State 200, Superpause charge sound]
type = PlaySnd
trigger1 = time = 5
value = 2350,0

[State 0, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2442 ;2440 ;anim 2442 is 6 ticks longer!
id = 2440
pos = -10,-88 ;-5,-105
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 85
color=0
mul=0,0,0

[State 3000, width]
type = width
trigger1 = 1
value = 30,0

[State 0, for trial]
type = VarSet
trigger1 = !time
var(18) = 1

[State 0, Charge Ball FX]
type = Explod
trigger1 = time = 5
anim = 2407
id = 2407
pos = -10,-90 ;-5,-107
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 80 ;-1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, Front Arm]
type = null;Explod
trigger1 = time = 5
anim = 2010
id = 2010
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 80 ;-1
sprpriority = 4
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, Mouth LOL]
type = Explod
trigger1 = time = 5
anim = 2011 ;2012
id = 2012
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 80 ;-2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

;Throw CGH
[State 901, ChangeAnim]
type = ChangeState
triggerall = Anim=2400
trigger1 = time>=85
value = 2405
ctrl = 0

;-----------------------------
;Throwing Chou Galick Ho
[Statedef 2405]
type = S
physics = S
movetype = A
anim = 2405
ctrl = 0
velset = 0,0
sprpriority = 1

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(3) < 0
time = 1
value = SCA

[state 17100, charge ball FX]
type = removeexplod
trigger1 = !time
ID = 2407
[state 17100, front arm]
type = removeexplod
trigger1 = !time
ID = 2010

[state 1215, Smoke FX]
type = explod
trigger1 = animelemtime(2)=0
anim = 1207
id = 1207
pos = -25,3
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1

[state 1215, Flash FX]
type = null ;explod
trigger1 = animelemtime(2)=0
anim = 2005
id = 2005
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = 30
persistent = 0
ignorehitpause = 1
removeongethit = 1

[state 1215, Back Trail FX]
type = explod
triggerall = !Numexplod(2004)
trigger1 = animelemtime(2)=0
trigger2 = animelemtime(5)=1
trigger3 = animelemtime(7)=0
trigger4 = animelemtime(8)=1
trigger5 = animelemtime(10)=0
trigger6 = animelemtime(11)=1
trigger7 = animelemtime(13)=0
trigger8 = animelemtime(14)=1
trigger9 = animelemtime(16)=0
trigger10 = animelemtime(17)=1
trigger11 = animelemtime(19)=0
trigger12 = animelemtime(20)=1
trigger13 = animelemtime(22)=0
trigger14 = animelemtime(23)=1
trigger15 = animelemtime(25)=0
trigger16 = animelemtime(26)=1
trigger17 = animelemtime(28)=0
trigger18 = animelemtime(29)=1
trigger19 = animelemtime(31)=0
trigger20 = animelemtime(32)=1
anim = 2004
id = 2004
pos= 30,-60
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
;persistent = 0
ignorehitpause = 1

[State 0, Launch Ball FX]
type = Explod
trigger1 = animelemtime(2)=0
trigger2 = animelemtime(5)=1
trigger3 = animelemtime(7)=0
trigger4 = animelemtime(8)=1
trigger5 = animelemtime(10)=0
trigger6 = animelemtime(11)=1
trigger7 = animelemtime(13)=0
trigger8 = animelemtime(14)=1
trigger9 = animelemtime(16)=0
trigger10 = animelemtime(17)=1
trigger11 = animelemtime(19)=0
trigger12 = animelemtime(20)=1
trigger13 = animelemtime(22)=0
trigger14 = animelemtime(23)=1
trigger15 = animelemtime(25)=0
trigger16 = animelemtime(26)=1
trigger17 = animelemtime(28)=0
trigger18 = animelemtime(29)=1
trigger19 = animelemtime(31)=0
trigger20 = animelemtime(32)=1
anim = 2002
id = 2002
pos = 70,-60
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1

[State 3000, Galick Ho]
type = helper
trigger1 = animelemtime(2)=0
trigger2 = animelemtime(5)=1
trigger3 = animelemtime(7)=0
trigger4 = animelemtime(8)=1
trigger5 = animelemtime(10)=0
trigger6 = animelemtime(11)=1
trigger7 = animelemtime(13)=0
trigger8 = animelemtime(14)=1
trigger9 = animelemtime(16)=0
trigger10 = animelemtime(17)=1
trigger11 = animelemtime(19)=0
trigger12 = animelemtime(20)=1
trigger13 = animelemtime(22)=0
trigger14 = animelemtime(23)=1
trigger15 = animelemtime(25)=0
trigger16 = animelemtime(26)=1
trigger17 = animelemtime(28)=0
trigger18 = animelemtime(29)=1
trigger19 = animelemtime(31)=0
helpertype = normal
stateno = 2401
ID = 2401
name = "galick1"
postype = p1
pos = 80,-60
ownpal = 1

[State 0, Launch Face]
type = Explod
trigger1 = animelemtime(3)=0
anim = 2010
id = 2010
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 4
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3000, Galick Ho LAST]
type = helper
trigger1 = animelemtime(32)=1
helpertype = normal
stateno = 2403
ID = 2401
name = "galick1"
postype = p1
pos = 80,-60
ownpal = 1

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;===========================================================================
; <<<<< AIR CHOU GALICK HO >>>>>
; State beginning : 2450
; State launch : 2451
; Helper : 2452, 2453
;===========================================================================

[Statedef 2450]
type = A
physics = N
movetype = A
anim = 2100
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 5
flag = noBG
flag2 = noFG

[State 200, Super Ball sound]
type = PlaySnd
trigger1 = time = 5
value = 2400,10

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 80
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,0
darken = 0
movetime = 80 ;40

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 83  ;45
color=0
mul=0,0,0

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 200, Chou Galick Ho voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 0
value = 2400,5+random%3
volume = 355
channel = 0

[State 200, Chou Galick Ho voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 0
value = 2402,0
volume = 355
channel = 0

[State 200, Galick Gun voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 0
value = 2403,0
volume = 355
channel = 0

[State 0, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2442 ;2440 ;anim 2442 is 6 ticks longer!
id = 2440
pos = 8,-112
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = -4
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Charge Ball FX]
type = Explod
trigger1 = time = 5
anim = 2407
id = 2407
pos = 8,-112
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 80  ;41
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Front Arm]
type = Explod
trigger1 = time = 5
anim = 2103
id = 2103
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 80 ;42
sprpriority = 5
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, mouth LOL]
type = Explod
trigger1 = time = 5
anim = 2111
id = 2111
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 6
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

;[State 200, 1];Woosh
;type = PlaySnd
;trigger1 = animelem = 5
;value = 0, 0
;channel = 1

[State 3000, end]
type = changestate
trigger1 = time = 85 ;47
value = 2451
ctrl = 0

;-------------------------
;Launch Air Chou Galick Ho
[Statedef 2451]
type = A
physics = N
movetype = A
anim = 2456
ctrl = 0
velset = 0,0
sprpriority = 1

[state 1215, Flash FX]
type = null ;explod
trigger1 = animelemtime(3)=0
anim = 2104
id = 2104
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = 10
persistent = 0
ignorehitpause = 1
removeongethit = 1

[State 3000, Galick Ho]
type = helper
trigger1 = animelemtime(3)=0
trigger2 = animelemtime(5)=1
trigger3 = animelemtime(7)=0
trigger4 = animelemtime(9)=1
trigger5 = animelemtime(11)=0
trigger6 = animelemtime(13)=1
trigger7 = animelemtime(15)=0
trigger8 = animelemtime(17)=1
trigger9 = animelemtime(19)=0
trigger10 = animelemtime(21)=1
trigger11 = animelemtime(23)=0
trigger12 = animelemtime(25)=1
trigger13 = animelemtime(27)=0
trigger14 = animelemtime(29)=1
trigger15 = animelemtime(31)=0
trigger16 = animelemtime(33)=1
trigger17 = animelemtime(35)=0
trigger18 = animelemtime(37)=1
trigger19 = animelemtime(39)=0
helpertype = normal
stateno = 2452
ID = 2452
name = "galick_ho_aerial"
postype = p1
pos = 0,-20
ownpal = 1

[State 3000, Galick Ho LAST]
type = helper
trigger1 = animelemtime(41)=1
helpertype = normal
stateno = 2453
ID = 2453
name = "galick_ho_aerial"
postype = p1
pos = 0,-20
ownpal = 1

[State 0, Launch mouth LOL]
type = Explod
trigger1 = AnimElemtime(14)=0
anim = 2112
id = 2112
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1 ;78
sprpriority = 2
ownpal = 0
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemtime(43)=0
id =  2112
;gnorehitpause = 1
;persistent =


[State 3000, end]
type = changestate
trigger1 = !animtime
value = 2120 ;50
ctrl = 0


;===========================================================================
; <<<<< BEAM COUNTER >>>>>
;===========================================================================

;Beam counter - Big Portraits
[Statedef 2480]
type = S
physics = S
movetype = A
anim = 2480   ;2400
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[state 1215, big portrait P1]
type = explod
trigger1 = !time && facing=1
anim = 2470
id = 2470
pos = 0,-10
postype = Left
sprpriority = -5
;ontop = 1
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
scale = 0.71875,0.71875
vel = -.7,0
supermovetime = 99999
pausemovetime = 99999

[state 1215, big portrait mouth P1]
type = explod
trigger1 = !time && facing=1
anim = 2472
id = 2470
pos = 0,-10
postype = Left
sprpriority = -4
;ontop = 1
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
scale = 0.71875,0.71875
vel = -.7,0
supermovetime = 99999
pausemovetime = 99999

[state 1215, big portrait arm P1]
type = explod
trigger1 = !time && facing=1
anim = 2471
id = 2470
pos = 0,-10
postype = Left
sprpriority = -3
;ontop = 1
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
scale = 0.71875,0.71875
vel = -.7,0
supermovetime = 99999
pausemovetime = 99999

[state 1215, Flash P1]
type = explod
trigger1 = !time && facing=1
anim = 2473
id = 2473
pos = 0,-10
postype = Left
sprpriority = -2
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
scale = 0.71875,0.71875
vel = -.7,0
supermovetime = 99999
pausemovetime = 99999

[state 1215, big portrait P2]
type = explod
trigger1 = !time && facing=-1
anim = 2470
id = 2470
pos = 320,-10
postype = Left
sprpriority = -5
;ontop = 1
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
facing = -1
scale = 0.71875,0.71875
vel = .7,0
supermovetime = 99999
pausemovetime = 99999

[state 1215, big portrait mouth P2]
type = explod
trigger1 = !time && facing=-1
anim = 2472
id = 2470
pos = 320,-10
postype = Left
sprpriority = -4
;ontop = 1
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
facing = -1
scale = 0.71875,0.71875
vel = .7,0
supermovetime = 99999
pausemovetime = 99999

[state 1215, big portrait arm P2]
type = explod
trigger1 = !time && facing=-1
anim = 2471
id = 2470
pos = 320,-10
postype = Left
sprpriority = -4
;ontop = 1
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
facing = -1
scale = 0.71875,0.71875
vel = .7,0
supermovetime = 99999
pausemovetime = 99999

[state 1215, Flash P2]
type = explod
trigger1 = !time && facing=-1
anim = 2473
id = 2473
pos = 320,-10
postype = Left
sprpriority = -2
;ontop = 1
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
facing = -1
scale = 0.71875,0.71875
vel = .7,0
supermovetime = 99999
pausemovetime = 99999

[State 3000, width]
type=width
trigger1 = 1
value = 25,0

[State 3000, nhb]
type = nothitby
trigger1 = anim = 2480
time = 1
value = SCA

[State 200, Chou Galick Ho voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 0
value = 2400,5+random%3
volume = 355
channel = 0

[State 200, Chou Galick Ho voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 0
value = 2402,0
volume = 355
channel = 0

[State 200, Galick Gun voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 0
value = 2403,0
volume = 355
channel = 0

[State 200, Kmh charge]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 30
value = 2000,10
volume = 355

[State 200, Superpause sound]
type = PlaySnd
trigger1 = time=5
value = 2350,0

[State 0, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = -4,-102
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Charge Ball FX]
type = Explod
trigger1 = time = 5
anim = 2407
id = 2407
pos = -5,-107
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Front Arm]
type = Explod
trigger1 = time = 5
anim = 2010
id = 2010
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 4
ownpal = 0
bindtime = -1
scale = 1,1
persistent = 0

[State 1000, Fade to Black]
type = Helper
trigger1 = time=100
helpertype = Normal
name = "fade"
id = 2771
pos = 0,0
postype = p1
facing = 1
stateno = 2771
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;Throw Kmh
[State 901, ChangeAnim]
type = ChangeState
trigger1 = enemy,name = "Goku Z2" || enemy,name = "Yellow Suika" || enemy,name = "Combo Stickman" || enemy,name="Vegeta Z2" || enemy,name = "SSJ Goku Z2" || enemy,name = "Gohan Z2"
trigger1 = Anim=2480 && time>=200
value = 2481
ctrl = 0

;-----------------------------
;Throwing Chou Galick Ho as Beam Counter
[Statedef 2481]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 1

;Proportionality variable
[State 800, count]
type = VarSet
trigger1 = !time
fvar(20) = 0.5

[state 17100, charge ball FX]
type = removeexplod
trigger1 = !time
ID = 2407
[state 17100, front arm]
type = removeexplod
trigger1 = !time
ID = 2010

[State -2, notification]
type = helper
trigger1 = !time && numhelper(13250)=0 && teamside = 1
helpertype=normal
stateno=13250
ID=13250
name="notif-col"
ownpal=1
pausemovetime=65535
supermovetime=65535
ignorehitpause=1

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[state 0, 1 tick fix]
type = ChangeAnim
trigger1 = enemy,stateno = 2481 && anim!=2481
value = 2481

[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2470
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2473
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2420
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2430
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2440
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 24000

[State 13100, shake]
type = envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 3

[State 0, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,.5
[State 0, Position]
type = PosSet
trigger1 = 1
X = cond(facing=1, -130, 130)
Y = -20

[State -2];Counter variable from state -2
type = VarSet
trigger1 = !time
var(31) = 0

[State 4500, 1];Scream
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 8,2
volume = 500
channel = 0
[State 4500, 1];Scream
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 2481,0
volume = 500
channel = 0
[State 4500, 1];Scream
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 8,22
volume = 500
channel = 0

[State 200, 1];Launching SFX
type = PlaySnd
trigger1 = time=4
value = 2401,1
[State 200, 1];Beam clash
type = PlaySnd
trigger1 = time=4
value = 2480,0
loop = 1
channel = 5

[State 200, 1];Beam collision voice struggling
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time>40 && fvar(20)<=0.2
value = 2481,5
volume = 500
channel = 5
persistent = 0
[State 200, 1];Beam collision voice struggling
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time>40 && fvar(20)<=0.2
value = 2481,6
volume = 500
channel = 5
persistent = 0
[State 200, 1];Beam collision voice struggling
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time>40 && fvar(20)<=0.2
value = 2481,7
volume = 500
channel = 5
persistent = 0

[state 1215, Smoke FX]
type = explod
trigger1 = anim=2481 && animelem=2
anim = 1206+(var(2)=0)
id = 1206
pos = -12,2
postype = P1
sprpriority = 3
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 1
scale = .5,.5

[State -2, Explod];On hands explod
type = Explod
triggerall = !numexplod(2403)
trigger1 = anim=2481 && animelem=2
anim = 2403
removetime = -1
supermove = 1
sprpriority = 3
id = 2481
ownpal = 1
pos = 23,-27
ignorehitpause = 1
pausemovetime = -1
bindtime = -1
scale = 0.25,.5

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(2481)
scale = 0.25+0.1*(fvar(20)-0.5) ,0.5+0.3*(fvar(20)-0.5)
id = 2481
ignorehitpause = 1

[State -2, Explod];Scaling part
type = Explod
triggerall = !numexplod(2464)
trigger1 = anim=2481 && animelem=2
anim = 2464
removetime = -1
supermove = 1
sprpriority = 2
id = 2464
pos = 36,-27
scale = .5,.5
bindtime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(2464)
scale = fvar(20)*2. ,0.5+0.3*(fvar(20)-0.5)
id = 2464
ignorehitpause = 1

[State 3000, Center Ball]
type = helper
triggerall = !numhelper(2483)
trigger1 = anim=2481 && animelem=2
helpertype = normal
stateno = 2483
ID = 2483
name = "centerball"
postype = left
pos = 0,0
ownpal = 1

[state 3250, speedlines1 WIN]
type = explod
trigger1 = numexplod(2923)<6 && teamside = 1
trigger1 = fvar(20)>0.5
anim = 2923
ID = 2923
postype = back
pos = 0,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines2 WIN]
type = explod
trigger1 = numexplod(2923)<6 && teamside = 1
trigger1 = fvar(20)>0.5
anim = 2923
ID = 2923
postype = back
pos = 149,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines3 WIN]
type = explod
trigger1 = numexplod(2923)<6 && teamside = 1
trigger1 = fvar(20)>0.5
anim = 2923
ID = 2923
postype = back
pos = 298,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines4 WIN]
type = explod
trigger1 = numexplod(2923)<6 && teamside = 1
trigger1 = fvar(20)>0.5
anim = 2923
ID = 2923
postype = back
pos = 0,120
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines5 WIN]
type = explod
trigger1 = numexplod(2923)<6 && teamside = 1
trigger1 = fvar(20)>0.5
anim = 2923
ID = 2923
postype = back
pos = 149,120
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines6 WIN]
type = explod
trigger1 = numexplod(2923)<6 && teamside = 1
trigger1 = fvar(20)>0.5
anim = 2923
ID = 2923
postype = back
pos = 298,120
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[State 800, trans speedlines WIN]
type = ModifyExplod
trigger1 = fvar(20) > 0.5
trans = addalpha
alpha = ceil(512*(fvar(20)-0.5)), ceil(256-512*(fvar(20)-0.5))
ID = 2923
[State 800, remove speedlines WIN]
type = RemoveExplod
trigger1 = fvar(20) <= 0.5
ID = 2923

[state 3250, speedlines1 LOSE]
type = explod
trigger1 = numexplod(2922)<6 && teamside = 1
trigger1 = fvar(20)<0.5
anim = 2922
ID = 2922
postype = back
pos = 0,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines2 LOSE]
type = explod
trigger1 = numexplod(2922)<6 && teamside = 1
trigger1 = fvar(20)<0.5
anim = 2922
ID = 2922
postype = back
pos = 149,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines3 LOSE]
type = explod
trigger1 = numexplod(2922)<6 && teamside = 1
trigger1 = fvar(20)<0.5
anim = 2922
ID = 2922
postype = back
pos = 298,0
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines4 LOSE]
type = explod
trigger1 = numexplod(2922)<6 && teamside = 1
trigger1 = fvar(20)<0.5
anim = 2922
ID = 2922
postype = back
pos = 0,120
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines5 LOSE]
type = explod
trigger1 = numexplod(2922)<6 && teamside = 1
trigger1 = fvar(20)<0.5
anim = 2922
ID = 2922
postype = back
pos = 149,120
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[state 3250, speedlines6 LOSE]
type = explod
trigger1 = numexplod(2922)<6 && teamside = 1
trigger1 = fvar(20)<0.5
anim = 2922
ID = 2922
postype = back
pos = 298,120
bindtime = -1
supermove = 0
sprpriority = -1
ontop = 0
ownpal = 1
facing = 1
ignorehitpause = 1
removetime = -1
scale = 0.5,0.5
[State 800, trans speedlines LOSE]
type = ModifyExplod
trigger1 = fvar(20) < 0.5
trans = addalpha
alpha = ceil(-512*(fvar(20)-0.5)), ceil(256+512*(fvar(20)-0.5))
ID = 2922
[State 800, remove speedlines LOSE]
type = RemoveExplod
trigger1 = fvar(20) >= 0.5
ID = 2922

[State 800, count];Smashing counter set
type = VarSet
trigger1 = !time
var(30) = 0
[State 800, count];Smashing counter
type = VarAdd
trigger1 = command="x" || command="y" || command="z" || command="a" || command="b" || command="c"
trigger2 = command = "up" || command = "down" || command = "back" || command = "fwd"
trigger3 = AILevel>0 && (time%4)=0		;AI smashing
var(30) = 1

[State 800, count];Dump power
type = VarAdd
triggerall = power>0
trigger1 = command="start" || command="holdstart"
trigger1 = time%5 = 0
var(30) = 1
[State 800, count];Dump power
type = PowerAdd
triggerall = power>0
trigger1 = command="start" || command="holdstart"
trigger1 = time%5 = 0
value = -20
[State 800, count];Dump power
type = PalFX
triggerall = power>0
trigger1 = command="start" || command="holdstart"
trigger1 = time%5 = 0
time = 5
add = 150,0,0
mul = 200,200,200
;sin = 50,50,50

;Proportionality variable for scaling : =1 when beating the opponent by 20, =0 when beaten by 20.
[State 800, count]
type = VarSet
trigger1 = 1
fvar(20) = 0.5+(var(30)-enemy,var(30))/40.0

[State 800, WIN]
type = ChangeState
triggerall = time>10
trigger1 = fvar(20)>=.9
value = 2485

[State 800, no winner, both take damage]
type = ChangeState
trigger1 = time>=300
value = 2489

;-----------------------------
;WIN Chou Galick Ho Beam Counter
[Statedef 2485]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 2485

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 800, hit]
type = hitdef
trigger1 = !movehit
attr = S,HA
hitflag = MAF
priority = 7,Hit
damage = 0,0
sparkno = -1

[State 3025, p2state - killed]
type = targetstate
trigger1 = movehit && numtarget
value = cond(target,life > 350,2486,2487)
ignorehitpause = 1

[State 3025, killed, beam fatality sound]
type = playsnd
trigger1 = numenemy
trigger1 = enemy,stateno=2487 && enemy,time=40
value = 5941,0
volume = 300
persistent = 0

[state 0, remove explod];center ball
type = RemoveExplod
trigger1 = !time
ID = 2483

[State 200, 1];Beam clash stop
type = StopSnd
trigger1 = !time
channel = 5

[State 13100, shake]
type = envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 3

[State 0, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,.5
[State 0, Position]
type = PosSet
trigger1 = 1
X = cond(facing=1, -130, 130)
Y = -20

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(2481)
scale = 0.25+0.1*(fvar(20)-0.5) ,0.5+0.3*(fvar(20)-0.5)
id = 2481
ignorehitpause = 1

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(2464)
scale = fvar(20)*2. ,0.5+0.3*(fvar(20)-0.5)
id = 2464
ignorehitpause = 1

;Proportionality variable for scaling
[State 800, count]
type = VarSet
trigger1 = 1
fvar(20) = 2.0

[State 1315, Sparks]
type=explod
trigger1= time<60 && !(time%3)
anim=7030
sprpriority=6
postype=p2
pos=(random%20), -floor(p2dist y)+(random%20)-30
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
pausemovetime=100
supermovetime=100
scale = .5,.5

[State 3000, hitsound]
type = PlaySnd
trigger1= time<60 && !(time%3)
value = 1000,0
volume = -100

[State 3000, hitadd]
type = HitAdd
trigger1= time<60 && !(time%3)
value = 20

[State 800, WIN]
type = ChangeState
trigger1 = time=120
value = 2488
ctrl = 0

;-----------------------------
;LOSE Chou Galick Ho Beam Counter (normal)
[Statedef 2486]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 5
anim = 5017

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[state 0, remove explod];center ball
type = RemoveExplod
trigger1 = !time
ID = 2483
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 1206
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2403
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2464
[state 0, remove explod];on hands
type = RemoveExplod
trigger1 = !time
ID = 2481
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2922
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2923

[State 200, 1];Beam clash stop
type = StopSnd
trigger1 = !time
channel = 5

[State 13100, shake]
type = envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 3

[State 0, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,.5
[State 0, Position]
type = PosSet
trigger1 = 1
X = cond(facing=1, -230, 230)
Y = -20

[State 10000, Explod]; White BG
type = Explod
trigger1 = time = 20
anim = 2763
id = 19875
pos =  160,120
postype = left
sprpriority = 7
bindtime = -1
ownpal = 1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
supermove = 1
scale = 1.50,1.50
ignorehitpause = 1
persistent = 0

[State 3000, shaking]
type = PosAdd
trigger1 = time<30
X = cond(time%4=0,-2,cond(time%4=2,2,0))
ignorehitpause = 1

[State 3000, Killed sound]
type = PlaySnd
trigger1 = time=20
value = 11,0
volume = 255

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1

[State 13100, Hurt]
type = LifeAdd
trigger1 = !time
value = -350

[State 800, hitground]
type = SelfState
trigger1 = time=120
value = 5110
;ctrl = 0

;-----------------------------
;LOSE Chou Galick Ho Counter (Fatality)
[Statedef 2487]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 15999

[State 10500, snd]
type = playsnd
trigger1 = time=60
value = 9,0

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[state 0, remove explod];center ball
type = RemoveExplod
trigger1 = !time
ID = 2483
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 1206
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2403
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2464
[state 0, remove explod];on hands
type = RemoveExplod
trigger1 = !time
ID = 2481
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2922
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2923

[State 200, 1];Beam clash stop
type = StopSnd
trigger1 = !time
channel = 5

[State 13100, shake]
type = envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 3

[State 0, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,.5
[State 0, Position]
type = PosSet
trigger1 = 1
X = cond(facing=1, -130, 130)
Y = -20

[State 10000, Explod]; White BG
type = Explod
trigger1 = time = 20
anim = 2763
id = 19875
pos =  160,120
postype = left
sprpriority = 7
bindtime = -1
ownpal = 1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
supermove = 1
scale = 1.50,1.50
ignorehitpause = 1
persistent = 0

[State 10000, Explod]; White BG front holes
type = Explod
triggerall = !SelfAnimExist(5941)
trigger1 = time=30
anim = 5944
id = 5944
postype = p1
pos =  0, -20
sprpriority = 10
bindtime = -1
ownpal = 1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
supermove = 1
ignorehitpause = 1
persistent = 0
facing = -1
ontop = 1
scale = .5,.5

[State 3000, shaking]
type = PosAdd
trigger1 = time<30
X = cond(time%4=0,-2,cond(time%4=2,2,0))
ignorehitpause = 1

[State 1315, Goku]
type = explod
triggerall = !SelfAnimExist(5941)
trigger1 = !time
anim = 5943
ID = 5943
sprpriority=7
postype = p1
pos = 0,-7
removetime=-2
ownpal=0
ignorehitpause=1
bindtime = -1
ontop = 1
scale = 0.5,0.5
[State 1315, Goku]
type = explod
triggerall = SelfAnimExist(5941)
trigger1 = !time
anim = 5941
ID = 5941
sprpriority=7
postype = p1
pos = 0,-7
removetime=-2
ownpal=0
ignorehitpause=1
bindtime = -1
ontop = 1
scale = 0.5,0.5
[State 1315, Goku]
type = explod
triggerall = SelfAnimExist(5942)
trigger1 = !time
anim = 5942
ID = 5942
sprpriority=7
postype = p1
pos = 0,-7
removetime=-2
ownpal=0
ignorehitpause=1
bindtime = -1
ontop = 1
scale = 0.5,0.5

[State 13300, Fadeout]
type = PalFX
trigger1 = Time = [0,30]
time = 1
add = -8*(Time),-8*(Time),-8*(Time)

[State 13300, Fadeout]
type = PalFX
trigger1 = Time >= 30
time = 1
add = -256,-256,-256

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1

;This prevent freeze game
[State 49999, 5]
type = ChangeState
trigger1 = time = 120
value = 5942

;-----------------------------
;WIN Beam collision, remove explods, posset
[Statedef 2488]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 0

[state 0, put on ground]
type = PosSet
trigger1 = !time
Y = 0

[state 0, remove explod];center ball
type = RemoveExplod
trigger1 = !time
ID = 2483
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 1206
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2403
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2464
[state 0, remove explod];on hands
type = RemoveExplod
trigger1 = !time
ID = 2481
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2922
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2923

[State 800, WIN]
type = ChangeState
trigger1 = time=1
value = 0
ctrl = 1

;-----------------------------
;NO WINNER Chou Kamehameha Beam Counter
[Statedef 2489]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 2485

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 200, 1];Beam clash stop
type = StopSnd
trigger1 = !time
channel = 5

[State 13100, shake]
type = envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 3

[State 0, Scale]
type = AngleDraw
trigger1 = time>0
scale = .5,.5
[State 0, Position]
type = PosSet
trigger1 = 1
X = cond(facing=1, -130, 130)
Y = -20

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(2481)
scale = 0.25+0.1*(fvar(20)-0.5) ,0.5+0.3*(fvar(20)-0.5)
id = 2481
ignorehitpause = 1
[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(2464)
scale = fvar(20)*2. ,0.5+0.3*(fvar(20)-0.5)
id = 2464
ignorehitpause = 1

[State 10000, Explod]; White BG
type = Explod
trigger1 = time = 10
anim = 2489   ;2763
id = 19875
pos =  160,120
postype = left
sprpriority = 7
bindtime = -1
ownpal = 1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
supermove = 1
scale = 1.50,1.50
ignorehitpause = 1
persistent = 0

[State 3000, Killed sound]
type = PlaySnd
trigger1 = time=40
value = 11,0
volume = 255

[State 800, WIN]
type = ChangeState
trigger1 = time=130
value = 2490
ctrl = 0

;-----------------------------
;HitState NO WINNER Chou Kamehameha Beam Counter
[Statedef 2490]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 5017

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[state 0, remove explod];center ball
type = RemoveExplod
trigger1 = !time
ID = 2483
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 1206
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2403
[state 0, remove explod]
type = RemoveExplod
trigger1 = !time
ID = 2464
[state 0, remove explod];on hands
type = RemoveExplod
trigger1 = !time
ID = 2481
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2922
[state 0, remove explod];speed lines
type = RemoveExplod
trigger1 = !time
ID = 2923

[State 13100, shake]
type = envshake
trigger1 = !time
time = 12
freq = 130
ampl = 3

[State 0, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,.5
[State 0, Position]
type = PosSet
trigger1 = 1
X = cond(facing=1, -130, 130)
Y = -20

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1

[State 13100, Hurt];remove life depending on smashing variable
type = LifeAdd
trigger1 = !time
;value = floor(-350*(enemy,var(30))/(var(30)+(enemy,var(30))+.001))
value = floor(-350.0*(1.0-fvar(20)))

[State 800, hitground]
type = SelfState
trigger1 = time=10
value = 5110


;===========================================================================
; <<<<< FINAL FLASH >>>>>
; State = 2500
; Trainee helper = 2501
; Flash state = 2502
; Beam helper = 2504
; --- wave explod = 2505
; Vegeta going back to screen = 2506
; Beam helper not hitting = 2509
; p1state when hitting = 2510
; p2 stateno when hit = 2511
;===========================================================================

[Statedef 2500]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 2500
sprpriority = 1
poweradd = -3000
velset = 0,0

[State 3010, ScreenBound]
type = ScreenBound
trigger1 = animelemtime(7) > 0
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0
channel = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 20
flag = noBG
flag2 = noFG

[State 3000, superpause]
type = superpause
trigger1 = time=20
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,1
darken = 0
movetime = 40

[State 0, Hyper Charge FX]
type = null;Explod
trigger1 = time = 20
anim = 2440
id = 2440
pos = -38,-75
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Hyper Charge FX]
type = null;Explod
trigger1 = time = 20
anim = 2440
id = 2440
pos = 39,-73
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = time=20
time = 45
color=0
mul=0,0,0

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(7) < 0
time = 1
value = SCA

[State 13000, HelpTrain]
type = Helper
trigger1 = Time = 25
name = "Trainee"
ID = 2501
stateno = 2501
pausemovetime = 50

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time=10
value = 2500,random%2
channel = 0
volume = 355

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time=10
value = 2501,0
channel = 0
volume = 355

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time=10
value = 2503,random%2
channel = 0
volume = 355

[State 0, Talking Mouth]
type = Explod
trigger1 = AnimElemTime(6)=0
anim = 2501
id = 4005
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 105, 1]
type = VelSet
trigger1 = animelem = 7
x = -3*const(velocity.run.fwd.x) ;-1.3*const(velocity.run.fwd.x)

[State 105, no push when move]
type = PlayerPush
trigger1 = animelemtime(7) > 0
value = 0

[State 0, Pause]
type = Pause
trigger1 = animelemtime(7) > 0
trigger1 = Time%3=0
time = 3 ;2 makes it slower
pausebg = 1
;endcmdbuftime = 0
;pausebg = 1
ignorehitpause = 1
;persistent =


[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 7
value = 1100, 0
volume = 300
;channel = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = backedgedist <= 30
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, Explod] ;Piccolo Compatibility
type = Explod
trigger1 = backedgedist <= -200 && time > 90
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 105, 3]
type = ChangeState
trigger1 = backedgedist <= -200 && time > 90 ;50
value = 2502

;---------------------------------------
;Launching Final Flash out of screen

[Statedef 2502]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 2502
sprpriority = 1
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 3010, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1
ignorehitpause = 1

[State 105, 3]
type = PosSet
trigger1 = !time
x = cond(facing=1,-300,300)
y = -40+30*(prevstateno=2550)

[State 13000, Final Flash Beam]
type = Helper
trigger1 = !time
name = "FF_Beam"
ID = 2504
stateno = 2504

[State 2502, Beam SFX]
type = playsnd
trigger1 = !time
value = 2502,0
volume = 300

[State 105, go to cinematic hit]
type = ChangeState
trigger1 = p2stateno = 2511
value = 2510

[State 105, return to screen if no hit]
type = ChangeState
trigger1 = time>=90 && P2movetype!=H
trigger2 = time>=90 && enemy,alive=0
value = 2506

;---------------------------------------
;Going back to screen

[Statedef 2506]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 102
sprpriority = 1
velset = 0,0

[State 0, Remove Flash FX]
type = RemoveExplod
trigger1 = time = 0
ID = 2503

[State 105, 3]
type = PosSet
trigger1 = !time
x = cond(facing=1,-250,250)
y = -50

[State 3010, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1
ignorehitpause = 1

[State 41, Train]
type = AfterImage
trigger1 = Time = 0
time= 30
timegap= 1
framegap= 3
length= 12
palbright= 0,0,0
paladd= 0,0,0
palmul= .9,.9,.9
palcontrast= 120,120,120
palpostbright= 0,0,0
trans= add1

[State 100, 7]
type = Explod
trigger1 = Time = 0
Anim = 8050
postype = P1
pos = -10,-20
scale = 1,.8
bindtime = 15
sprpriority = 2
ownpal = 1
removetime = -2
removeongethit = 1

[State 111, 1]
type = VelSet
trigger1 = time=0
x = 9

[State 115, dash Sound]
type = PlaySnd
trigger1 = time=0
value = 100,0

[State 111, 1]
type = VelAdd
trigger1 = time>=5 && vel X>=0
x = -0.3

[State 111, 1]
type = StateTypeSet
trigger1 = time >= 5
physics = A

[State 111, 1]
type = ChangeState
trigger1 = time = 15
value = 50

[State 111, end]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 112

;---------------------------------------
;Vegeta throwing Final Flash in middle of screen (cinematic)

[Statedef 2510]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 2502
sprpriority = 1
velset = -0.3,0

[State 105, 3]
type = PosSet
trigger1 = !time
x = cond(facing=1,-70,70)
y = -30

[State 0, Flash FX]
type = null ;Explod
trigger1 = time = 0
anim = 2503
id = 2503
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 160
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Flash FX fades out]
type = null ;Explod
trigger1 = time = 160
anim = 2506
id = 2506
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 3001, shake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
freq = 100
ampl = 5

[State 2201, helper]; Background lines
type = Helper
trigger1 = !time
pos = -640, -480
postype = back
stateno = 2937
helpertype = normal
name = "horizontal_lines_BG"
id = 2937
ownpal = 1
supermovetime = 150
pausemovetime = 150
sprpriority = 4
size.xscale = 5
size.yscale= 5

[State 111, end]
type = ChangeState
trigger1 = Time = 225
value = 2506

;---------------------------------------------------------------------------
;P2 hit by Final Flash out of screen (invisible)

[Statedef 2511]
type = S
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 3010, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=15999
value = 15999

[State 4005, vel Y]
type = posset
trigger1 = animelemtime(2)=0
y = -1000

[State 111, go back to screen]
type = ChangeState
trigger1 = Time = 225
value = 2512

;---------------------------------------------------------------------------
;P2 hit goes back to screen

[Statedef 2512]
type = S
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 4005, vel Y]
type = posset
trigger1 = !time
x = cond(facing=1, -80, 80)
y = -20

[State 111, go to common hitstate]
type = SelfState
trigger1 = !Time
value = 5100
;---------------------------------------------------------------------------
;AIR FINAL FLASH
[Statedef 2550]
type    = A
movetype = A
physics = N
ctrl = 0
anim = 2550
sprpriority = 1
poweradd = -3000
velset = 0,0

[State 3000, superpause]
type = superpause
trigger1 = time=5
time = 15
p2defmul = 1
unhittable = 1
anim = -1
sound = -1 ;s2350,0
darken = 0
movetime = 15

[State 3010, ScreenBound]
type = ScreenBound
trigger1 = animelemtime(7) > 0
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0
channel = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 20
flag = noBG
flag2 = noFG

[State 3000, superpause]
type = superpause
trigger1 = time=20
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,1
darken = 0
movetime = 40

[State 0, Hyper Charge FX]
type = null;Explod
trigger1 = time = 20
anim = 2440
id = 2440
pos = -38,-75
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Hyper Charge FX]
type = null;Explod
trigger1 = time = 20
anim = 2440
id = 2440
pos = 39,-73
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = time=20
time = 45
color=0
mul=0,0,0

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(7) < 0
time = 1
value = SCA

[State 13000, HelpTrain]
type = Helper
trigger1 = Time = 25
name = "Trainee"
ID = 2501
stateno = 2501
pausemovetime = 50

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time=10
value = 2500,random%2
channel = 0
volume = 355

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time=10
value = 2501,0
channel = 0
volume = 355

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time=10
value = 2503,random%2
channel = 0
volume = 355

[State 0, Talking Mouth]
type = Explod
trigger1 = AnimElemTime(6)=0
anim = 2501
id = 4005
pos = -2,-25
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 105, 1]
type = VelSet
trigger1 = animelem = 7
x = -4*const(velocity.run.fwd.x) ;-1.3*const(velocity.run.fwd.x)
y = 6

[State 105, no push when move]
type = PlayerPush
trigger1 = animelemtime(7) > 0
value = 0

[State 0, Pause]
type = Pause
trigger1 = animelemtime(7) > 0
trigger1 = Time%3=0
time = 2 ;makes it slower
pausebg = 1
;endcmdbuftime = 0
;pausebg = 1
ignorehitpause = 1
;persistent =


[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 7
value = 1100, 0
volume = 300
;channel = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = backedgedist <= 30
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, Explod] ;Piccolo Compatibility
type = Explod
trigger1 = backedgedist <= -150 && time > 70
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 105, 3]
type = ChangeState
trigger1 = backedgedist <= -150 && time > 70 ;50
value = 2502


;===========================================================================
; <<<<< GALACTIC GUNFIRE >>>>>
; Bomber Kick Start = 2600
; Bomber Kick Charging = 2595
; P2 - hit by bomber kick = 2602
; Bomber Kick State from Rising Knee = 2603
; Vegeta hits P2 = 2605
; Vegeta - Teleport & Drop Kick = 2610
; P2 - in air from bottom of screen, gets hit = 2611
; P2 - Sent down = 2612
; Vegeta - Gunfire startup = 2615
; Vegeta : GUNFIRE !!! = 2620
; Gunfire FX going down = 2621
; Vertical Lines BG = 2623
; Vegeta : Invisible while Ki Blasts hit P2 = 2625
; P2 : On ground, hit by projectiles = 2626
; P2 : custom ground gethit = 2627-2629
; Gunfire FX hitting = 2630
; Vegeta : Going Back to screen = 2635
;===========================================================================

[Statedef 2600]
type = S
physics = S
movetype = I
anim = 2600
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -3000
juggle = 0
facep2 = 1

[State 13000, HelpTrain]
type = Helper
trigger1 = !Time
name = "Trainee"
ID = 2607
stateno = 2607
;pausemovetime = 50

[State 100, jump SND]
type = playsnd
triggerall = anim = 2600
trigger1 = animelemtime(3) = 0
value = 40,1

[state 1215, Rising Effect]
type = explod
triggerall = anim = 2600
trigger1 = animelemtime(3) = 0
anim = 1216
id = 1216
pos = -20,0 ;12
postype = P1
sprpriority = -3
ownpal = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 0

[State 40, 4]
type = VelSet
triggerall = anim = 2600
trigger1 = animelemtime(3) = 0
x = 11
y = -5

[State 2200, sts]
type = statetypeset
triggerall = anim = 2600
trigger1 = animelemtime(3)>0
physics = N
statetype = A

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = anim = 2600
trigger1 = time = [12,59]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, nhb]
type = nothitby
triggerall = anim = 2600
trigger1 = time<60 ;animelemtime(6) <= 57
time = 1
value = SCA

[State 3000, superpause]
type = superpause
triggerall = anim = 2600
trigger1 = time=12
time = 47
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,1
darken = 0
movetime = 47

[State 0, Hyper Charge FX]
type = Explod
triggerall = anim = 2600
trigger1 = time = 12
anim = 2440
id = 2440
pos = -17,-43
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 40, 4]
type = VelSet
triggerall = anim = 2600
trigger1 = animelemtime(5) = 0
x = 0
y = 0

; These next two sctrls cover initial charge value and building it up
[State 900, starting value]
type = VarSet
;trigger1 = animelemtime(6)=0 && var(25)
trigger1 = time=59 && var(25)
fvar(16) = 0
persistent = 0
 
[State 900, adding to value]
type = VarAdd
trigger1 = time > 59 ;animelemtime(5)>=0
fvar(16) = 1
persistent = 1

[State 900, stopping early]
type = ChangeState
trigger1 = AILevel<=0
trigger1 = time>=59 ;animelemtime(6)>=45
trigger1 = command!="holda" && command!="holdb" && command!="holdc"
trigger2 = AILevel>0
trigger2 = time>=59 && numenemy && (enemynear,vel x>0||enemynear,movetype=A)
value = 2596
 
[State 900, fully charged]
type = ChangeState
trigger1 = fvar(16)>= 45 + 120
value = 2596

;---------------------------------------------
;Galactic Gunfire - charge state 2
[Statedef 2595]
type = A
movetype = I
physics = N
juggle = 0
ctrl = 0
poweradd = 0
velset = 0,0
 
; This part covers the after effects of getting hit from earlier.
[state 901, no more saving hit]
type = varset
trigger1 = time = 1
var(25) = 0

[State 8000, hitsnd]
type = Playsnd
trigger1 = time = 0
value = 1301,0

[State 8000, flash]
type = PalFX
trigger1 = time%10=0
add = 150, 30, 30
sinadd = 50,50,50,16
time = 10
 
[State 901, life removal]
type = LifeAdd
trigger1 = time = 1 && !var(25)
value = -(gethitvar(damage))
kill = 1

[State 901, Killed]
type = ChangeState
trigger1 = life <= 0
value = 5950

; This ctrl changes the animframe back to the last active one
[State 901, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 2600
elem = var(23)   ;elem = 6

; This varset is the continuation of charging
[State 901, adding to charge]
type = VarAdd
trigger1 = time >= 1
fvar(10) = 1
persistent = 1
 
[State 900, stopping early]
type = ChangeState
trigger1 = AILevel<=0 && time>8 && command!="holda" && command!="holdb" && command!="holdc"
trigger2 = AILevel>0 && time>8 && numenemy && (enemynear,vel x>0||enemynear,movetype=A)
value = 2596
 
[State 900, fully charged]
type = ChangeState
trigger1 = fvar(16)>= 120
value = 2596

;-------------------------------------------------
;Galactic Gunfire - actual attack (Bomber Kick)
[Statedef 2596]
type = A
movetype = A
physics = N
anim = 2603
ctrl = 0
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time<10 && fvar(16)<=0.001
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, nhb]
type = nothitby
trigger1 = time<10 && fvar(16)<=0.001
time = 1
value = SCA

[State 200, 1];Woosh
type = PlaySnd
triggerall = anim = 2603
trigger1 = !time
value = 0, 5
channel = 1

[State 40, 4]
type = VelSet
triggerall = anim = 2603
trigger1 = !time
x = 2
y = 0

[State 420, 3]
type = HitDef
trigger1 = !time
attr = S, HA
damage = 0,0 ;5
hitflag = MAFD
guardflag = MA
getpower = 0,0
priority = 7, Hit
pausetime = 0,0 ;5,5
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -15,-80
hitsound   = s5,6
guardsound = S6,1
p2facing = 1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 0,-15
air.velocity = 0,-15
fall = 1
kill = 0
envshake.time=18
envshake.ampl=6
;p1stateno = 2605
;p2stateno = 2602

[State 0, TargetLifeAdd] ;Chip KO hack
type = TargetLifeAdd
trigger1 = numtarget
trigger1 = !(target, ishelper)
trigger1 = moveguarded
value = -5
ID = -1
kill = 1
absolute = 0
ignorehitpause = 1
persistent = 0

[State 0, Explod] ;Piccolo's Clones
type = Explod
trigger1 = MoveHit = 1
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
triggerall = !Win ;prevent beating a dead horse
triggerall = !moveguarded
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
trigger1 = target,alive
value = 2605
persistent = 0


[State 4001, Fall]
type = VelAdd
trigger1 = anim=2603 && animelemtime(4)>=0
Y = .5

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = Anim = 2603 && (pos Y > 10)
value = 2601

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2601
X = 0
Y = 0

[State 4001, Replace]
type = PosSet
trigger1 = (Vel Y = 0) && (anim = 2601)
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2601
persistent = 0
statetype = S
physics = S

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2601
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2601
anim=17200
id=17200
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,0.8

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2601
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------
;P2 State - Sent in the air
[Statedef 2602]
type = S
physics = N
movetype = H
ctrl = 0
velset = 0, -15

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=2602
value = 2602

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = (Pos Y < -1000)
y = -1000

[State 0, Vegeta in Drop Kick]
type = Changestate
trigger1 = p2stateno = 2610
value = 2611
ctrl = 0

;-------------------------------------
;Vegeta - Bomber Kick from Rising Knee state
[Statedef 2603]
type = A
physics = N
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -3000
facep2 = 1

[State 3020, 2]
type = changeanim
trigger1 = !time && anim !=2600
value = 2600
elem = 3

[State 13000, HelpTrain]
type = Helper
trigger1 = !Time
name = "Trainee"
ID = 2607
stateno = 2607
;pausemovetime = 50

[State 40, 4]
type = VelSet
triggerall = prevstateno!=50
triggerall = anim = 2600
trigger1 = animelemtime(3) = 0
x = 11

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = anim = 2600
trigger1 = time = [5,58]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, nhb]
type = nothitby
triggerall = anim = 2600
trigger1 = time<60   ;animelemtime(6) <= 57
time = 1
value = SCA

[State 3000, superpause]
type = superpause
triggerall = anim = 2600
trigger1 = time=5
time = 45
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,1
darken = 0
movetime = 45

[State 0, Hyper Charge FX]
type = Explod
triggerall = anim = 2600
trigger1 = time = 5
anim = 2440
id = 2440
pos = -17,-43
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 40, 4]
type = VelSet
triggerall = anim = 2600
trigger1 = animelemtime(5) = 0
x = 0
y = 0

; These next two sctrls cover initial charge value and building it up
[State 900, starting value]
type = VarSet
;trigger1 = animelemtime(6)=0 && var(25)
trigger1 = time=59 && var(25)
fvar(16) = 0
persistent = 0
 
[State 900, adding to value]
type = VarAdd
trigger1 = time > 59
fvar(16) = 1
persistent = 1

[State 900, stopping early]
type = ChangeState
trigger1 = time>=59 ;animelemtime(6)>=45
trigger1 = command!="holda" && command!="holdb" && command!="holdc"
trigger2 = time>=59 && numenemy && (enemynear,vel x>0||enemynear,movetype=A)
value = 2596
 
[State 900, fully charged]
type = ChangeState
trigger1 = fvar(16)>= 45 + 120
value = 2596


;-------------------------------------

;Vegeta state - Hit P2
[Statedef 2605]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 13100, Target]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno != 2602
value = 2602

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 4001, Fall]
type = VelAdd
trigger1 = anim=2603 && animelemtime(4)>=0
Y = .5

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = Anim = 2603 && (pos Y > 10)
value = 2601

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2601
X = 0
Y = 0

[State 4001, Replace]
type = PosSet
trigger1 = (Vel Y = 0) && anim = 2601
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2601
persistent = 0
statetype = S
physics = S

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2601
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2601
anim=17200
id=17200
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,0.8

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2601
trigger1 = AnimTime = 0
value = 2610
ctrl = 0

;-------------------------------------

;Vegeta state - Teleport & Drop Kick
[Statedef 2610]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2610
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 2610, Teleport Sound]
type = PlaySnd
trigger1 = !time
value = 2302, 0
persistent = 0

[State 2610, Teleport Sound 2]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = 2302, 0
persistent = 0

[State 2610, Teleport Sound 2]
type = PosSet
trigger1 = animelemtime(3) = 0
X = -3*facing
Y = -100

[State 13100, TargetEnd]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2611
trigger1 = animelemtime(7)=2
value = 2612

[State 1315, Sparks]
type = explod
trigger1 = Animelemtime(7)=2
anim = 7020
scale = 1,1
sprpriority = 7
postype = p2
pos=(target,const(size.ground.front)-30),-10
removetime = -2
ownpal = 1
facing = -1
ignorehitpause = 1
persistent = 0
pausemovetime = 100
supermovetime = 100

[State 13100, HitSnd]
type = PlaySnd
trigger1 = Animelemtime(7)=2
value = 5,6

[State 13100, HitAdd]
type = HitAdd
trigger1 = animelemtime(7)=2
value = 1

[State 13100, Hurt]
type = TargetLifeAdd
trigger1 = animelemtime(7)=2
value = -ceil(10*fvar(15))
kill = 0

[State 13100, shake]
type = envshake
trigger1 = animelemtime(7)=2
time = 12
freq = 100
ampl = 8

[State 2260, bg]
type = VelSet
trigger1 = animelemtime(5)=2
Y = .5

[State 13100, End]
type = ChangeState
trigger1 = !AnimTime
value = 2615
ctrl = 0

;-------------------------------------
;P2 State - in air from bottom of screen, gets hit
[Statedef 2611]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
ignorehitpause = 1

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=2602
value = 2602

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = 200

[State 0, PosSet]
type = VelSet
trigger1 = time = 35
y = -15

;------------------------------------------------
;P2 State - Sent down
[Statedef 2612]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
ignorehitpause = 1

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=2612
value = 2612

[State 3020, pos]
type = PosSet
trigger1 = !time
Y = -80

[State 3020, vel]
type = VelSet
trigger1 = time = 2
Y = 14

[State 3020, to fix Silvy by Hanma ...]
type = VelSet
trigger1 = pos Y > 400
Y = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

;-------------------------------------

;Vegeta state - Charging for Ki Blast Frenziness
[Statedef 2615]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2615
velset = 0,0

[State 800, count]
type = VarSet
trigger1 = !time
var(21) = 0
[State 800, count]
type = VarAdd
triggerall = time=[32,120]
triggerall = var(21) < 40
trigger1 = command="x" || command="y" || command="z" || command="a" || command="b" || command="c" || command="start"
trigger2 = command = "up" || command = "down" || command = "back" || command = "fwd"
trigger3 = AILevel>0
var(21) = 1

[State 800, count for next state]
type = VarSet
trigger1 = !time
var(19) = 0

[State 4500, 1];Charge SFX
type = PlaySnd
trigger1 = !time
value = 2614,0

[State 4500, 1];Hell's waiting for You! Voice
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 2615,random%4
volume = 500

[State 4500, 1];Die/present Voice
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 2620,10+random%2
volume = 500

[State 4500, 1];Sabbat Voice
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 2616,random%4
volume = 500

[State 13100, shake]
type = envshake
trigger1 = !time
time = 100
freq = 80
ampl = 2

[State 1315, Charge Aura Light]
type = explod
trigger1 = Time>=30
trigger1 = var(21) >= 7 && var(21) < 15
trigger1 = NumExplod(2617) = 0
anim = 2617
ID = 2617
scale = 1,1
sprpriority = 1
postype = p1
pos = 0,0
bindtime = -1
removetime = 158
ownpal = 1
ignorehitpause = 1

[State 1315, Charge Aura Light]
type = removeexplod
trigger1 = var(21) >= 15
ID = 2617

[State 1315, Charge Aura Medium]
type = explod
trigger1 = var(21) >= 15 && var(21) < 25
trigger1 = NumExplod(2618) = 0
anim = 2618
ID = 2618
scale = 1,1
sprpriority = 1
postype = p1
pos = 0,0
bindtime = -1
removetime = 158
ownpal = 1
ignorehitpause = 1

[State 1315, Charge Aura Medium]
type = removeexplod
trigger1 = var(21) >= 25
ID = 2618

[State 1315, Charge Aura Strong]
type = explod
trigger1 = var(21) >= 25
trigger1 = NumExplod(2625) = 0
anim = 2625
ID = 2625
scale = 1,1
sprpriority = 1
postype = p1
pos = 0,0
bindtime = -1
removetime = 158
ownpal = 1
ignorehitpause = 1

[State 1315, ChangeAnim when different Charge FX]
type = ChangeAnim
trigger1 = var(21)=7 && anim!=2614
value = 2614

[State 1315, ChangeAnim when different Charge FX]
type = ChangeAnim
trigger1 = var(21)=15 && anim!=2613
value = 2613

[State 1315, ChangeAnim when different Charge FX]
type = ChangeAnim
trigger1 = var(21)=25 && anim!=2614
value = 2614

[State 8000, flash to indicate powerup]
type = PalFX
trigger1 = var(21)=7
trigger2 = var(21)=15
trigger3 = var(21)=25
add = 150, 30, 30
sinadd = 50,50,50,16
time = 10
[State 1001, sound to indicate powerup]
type = playsnd
trigger1 = var(21)=7
trigger2 = var(21)=15
trigger3 = var(21)=25
value = 8,3
channel = 1
persistent = 0

[State 1315, Smash joystick]
type = explod
triggerall=AILevel<=0
trigger1 = Time = 32
anim = 26160
scale = 1,1
sprpriority = 2
postype = p1
pos = cond(facing=1,-80,96),-60
removetime = 88
ownpal = 1
ignorehitpause = 1

[State 1315, Smash buttons]
type = explod
triggerall=AILevel<=0
trigger1 = Time = 32
anim = 2616
scale = 1,1
sprpriority = 2
postype = p1
pos = cond(facing=1,96,-80),-60
removetime = 88
ownpal = 1
ignorehitpause = 1

[State 1315, Mouth flap]
type = explod
trigger1 = Time=125
trigger1 = NumExplod(26150) = 0
anim = 26150
ID = 26150
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
ownpal = 0
ignorehitpause = 1

[State 13100, End]
type = ChangeState
trigger1 = time = 170
value = 2620
ctrl = 0

;-------------------------------------
;Vegeta state - GUNFIRE GO GO GO !!!

[Statedef 2620]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = cond(var(21)<20, 2620, 2619)
velset = 0,0

[State 1315, Remove Charge Aura]
type = removeexplod
trigger1 = !time
ID = 2617
[State 1315, Remove Charge Aura]
type = removeexplod
trigger1 = !time
ID = 2618
[State 1315, Remove Charge Aura]
type = removeexplod
trigger1 = !time
ID = 2625
[State 1315, Remove Mouth flap]
type = removeexplod
trigger1 = !time
ID = 26150

[State 800, count the shoots]
type = VarAdd
trigger1 = !time
var(19) = 1

[State 200, snd];"Watch the pretty fireworks" Voice
type = playsnd
triggerall = var(55)=0		;Voice=English
triggerall = var(19) <= 1	;1st time only
trigger1 = AnimElemtime(2)=0
value = 2620,random%2
channel = 0
volume = 300

[State 200, snd];"Dadadadada!" Voice
type = playsnd
triggerall = var(55)=1		;Voice=Japan
triggerall = var(19) <= 1	;1st time only
trigger1 = AnimElemtime(2)=0
value = 2620,15
channel = 0
volume = 300

[State 200, snd];"take this, huuua" Voice
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
triggerall = var(19) <= 1	;1st time only
trigger1 = AnimElemtime(2)=0
value = 2620,20+random%2
channel = 0
volume = 300

[State 2201, helper]; Background lines
type = Helper
trigger1 = AnimElemtime(3)=0 && !numhelper(2623)
pos = -640, -480
postype = back
stateno = 2623
helpertype = normal
name = "vertical_lines_BG"
id = 2623
ownpal = 1
supermovetime = 150
pausemovetime = 150
sprpriority = 4
size.xscale = 5
size.yscale= 5

[State 200, 1]; Shoot SFX
type = PlaySnd
trigger1 = AnimElemtime(3)=0
trigger2 = AnimElemtime(8)=0
value = 2621,0
volume = -100

[State 1315, Flash 1]
type = explod
trigger1 = Animelemtime(3)=0
anim = 2621
scale = 1,1
sprpriority = 2
postype = p1
pos = 0,0
removetime = 2
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1315, Flash 2]
type = explod
trigger1 = Animelemtime(8)=0
anim = 2622
scale = 1,1
sprpriority = 2
postype = p1
pos = 0,0
removetime = 2
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 13100, shake]
type = envshake
trigger1 = (time%12)=0
time = 12
freq = 100
ampl = 4

[State 3000, helper]
type = helper 
trigger1 = animelem=3
helpertype = normal
stateno = 2621
ID = 2621
name = "gunfire_FX"
postype = p1
pos = 10,-40
ownpal = 1

[State 3000, helper]
type = helper
trigger1 = animelem=8
helpertype = normal
stateno = 2621
ID = 2621
name = "gunfire_FX"
postype = p1
pos = -10,-40
ownpal = 1

[State 13100, End]
type = ChangeState
trigger1 = !AnimTime
value = cond(var(19) < (var(21)/2)+5, 2620, 2625)
ctrl = 0

;-------------------------------------
;Vegeta state - Invisible while Ki Blasts hit P2

[Statedef 2625]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 15999
velset = 0,0

[State 800, count]
type = VarSet
trigger1 = !time
var(19) = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0 
Y = -300

[State 13100, TargetEnd]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2612
trigger1 = !time
value = 2626

[State 3000, helper]
type = helper
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = 4*(random%11),-40
ownpal = 1

[State 3000, helper]
type = helper
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=4
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = -4*(random%11),-40
ownpal = 1

[State 800, count]
type = VarAdd
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
trigger2 = (time%8)=4
var(19) = 1

[State 13100, Hurt]
type = TargetLifeAdd
trigger1 = var(19) = var(21)+9
;value = - ceil(250*fvar(12)) - var(21)*ceil(4*fvar(12))
;value = - ceil(cond(fvar(11) * (250-var(21)*4) < 7, 7, fvar(11) * (250-var(21)*4)))
;value = - ceil(250+(4*var(21)))
value = -ceil(cond(fvar(11) * 250 < 100, 100, fvar(11) * 250)) - 4*var(21)
kill = 1
persistent = 0

[State 13100, Hurt]
type = TargetPowerAdd
trigger1 = var(19) = var(21)+9
value = 500 + var(21)*25
persistent = 0

[State 13100, End]
type = ChangeState
trigger1 = var(19) >= var(21)+10
value = 2635
ctrl = 0

;------------------------------------------------
;P2 State - On ground, hit by projectiles
[Statedef 2626]
type = L
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, 2]
type = changeanim
trigger1 = !time && anim !=5110
value = 5110

[State 3020, 2]
type = changeanim
trigger1 = time>42 && (time%12)=0
value = 5080

[State -3, GetHit Snd]
type=playsnd
trigger1 = Time >= 42
trigger1 = Time%20 = 0
value = 5000,1+(random%5)
ignorehitpause = 1

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0
Y = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,1
value = 1

[State 801, end]
type = changestate
trigger1 = enemy,stateno=2635 && enemy,pos Y > -250
value = 2627
ctrl = 0

;-----------------------------
; HIT_BOUNCE (hit ground)
[Statedef 2627];5100 copied
type    = L
movetype= H
physics = N

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = 15000,1

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 2628

;-----------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 2628]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
value = 2629 ;5110

;--------------------------------
; HIT_LIEDOWN
[Statedef 2629]
type    = L
movetype= H
physics = N

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
trigger1 = 1
value = 5110

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 15000,0

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5101, 6] ;Hit ground
type = SelfState
trigger1 = time=60
value = 5120

;-------------------------------------
;Vegeta state - Going Back to screen

[Statedef 2635]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
velset = 0, 0
anim = 44

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 3020, pos]
type = PosSet
trigger1 = !time
X = -80*facing
Y = -400

[State 4001, Fall]
type = VelAdd
trigger1 = anim=44
Y = .35

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = Anim = 44 && pos Y >= 0
value = 2601

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2601
X = 0
Y = 0

[State 4001, Replace]
type = PosSet
trigger1 = Vel Y = 0
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2601
persistent = 0
statetype = S
physics = S

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2601
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2601
anim=17200
id=17200
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,0.8

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2601
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===========================================================================
; <<<<< RAGE MODE >>>>>
; Rage Activation = 2700
;===========================================================================

[Statedef 2700]
type = S
movetype = I
physics = S
anim = 2700
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000

[State 4500, 1];transform SND
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 188,0
volume = 255
channel = 2

[State 200, BGPalFX]
type = BGPalFX
trigger1 = time=[0,97]
time = 1
add	= -100,-100,-100
mul	= 256,100,100
invertall = 0
color = 256

[State 3000, superpause]
type = superpause
trigger1 = time=0
time = 97
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,0
darken = 0
movetime = 97

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 13100, shake]
type = envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 5

[State 3000, Buffer var]
type = varset
trigger1 = !time
var(53) = 1000

[State 3000, Flame var]
type = varset
trigger1 = !time
var(58) = 0

[State 200, Goddammit]
type = playsnd
triggerall = var(55)=0		;Voice=English
triggerall = var(39)>=18	;Adult version
trigger1 = !time
value = 2700,0
channel = 0
volume = 300

[State 200, time to end, huuaaaa]
type = playsnd
triggerall = var(55)=0		;Voice=English
triggerall = var(39)<18		;Child version
trigger1 = !time
value = 2700,10+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelemtime(3)=0
value = 2700,5
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 2700,1
channel = 0
volume = 300

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;===========================================================================
; <<<<< RAGE GALACTIC GUNFIRE >>>>>
;===========================================================================

;RAGE Galactic Gunfire
[Statedef 2800]
type = S
physics = S
movetype = A
anim = 2800
ctrl = 0
velset = 0,0
sprpriority = 3
poweradd = -2000
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent = 

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(53) = 0

[State 13000, HelpTrain]
type = Helper
trigger1 = !Time
name = "Trainee"
ID = 2607
stateno = 2607

[State 100, jump SND]
type = playsnd
triggerall = anim = 2800
trigger1 = animelemtime(3) = 0
value = 40,1

[state 1215, Rising Effect]
type = explod
triggerall = anim = 2800
trigger1 = animelemtime(3) = 0
anim = 1216
id = 1216
pos = -20,0 ;12
postype = P1
sprpriority = -3
ownpal = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 0

[State 40, 4]
type = VelSet
triggerall = anim = 2800
trigger1 = animelemtime(3) = 0
x = 11
y = -8

[State 2200, sts]
type = statetypeset
triggerall = anim = 2800
trigger1 = animelemtime(3)>0
physics = N
statetype = A

[state 1215, Aura FX]
type = explod
triggerall = anim = 2800
trigger1 = animelemtime(5) = 0
anim = 2776
id = 2776
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 0

[State 100, "Prepare to die!" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5
value = 2800,0
channel = 0
volume = 300

[State 100, "Die Shine" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 5
value = 2800,5
channel = 0
volume = 300

[State 100, "Let's finish with this" voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2800,1
channel = 0
volume = 300

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = anim = 2800
trigger1 = time = [12,70]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, nhb]
type = nothitby
triggerall = anim = 2800
trigger1 = animelemtime(32) < 0
time = 1
value = SCA

[State 4500, 1];transform SND
type = PlaySnd
trigger1 = time = 12
value = 188,0
volume = 255

[State 3000, superpause]
type = superpause
triggerall = anim = 2800
trigger1 = time=12
time = 45
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,0
darken = 0
movetime = 45

[State 0, Hyper Charge FX]
type = Explod
triggerall = anim = 2800
trigger1 = time = 12
anim = 2440
id = 2440
pos = -17,-43
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
triggerall = anim = 2800
trigger1 = animelemtime(29) = 0
value = 0, 5
channel = 1

[State 40, 4]
type = VelSet
triggerall = anim = 2800
trigger1 = animelemtime(5) = 0
x = 0
y = 0

[State 40, 4]
type = VelSet
triggerall = anim = 2800
trigger1 = animelemtime(29) = 0
x = 2
y = 0

[State 420, 3]
type = HitDef
trigger1 = !time
attr = S, HA
damage = 0,0 ;10
hitflag = MAFD
guardflag = MA
getpower = 0,0
priority = 7, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -15,-80
hitsound   = s5,6
guardsound = S6,1
p2facing = 1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 0,-15
air.velocity = 0,-15
fall = 1
kill = 0
;guard.kill=0
envshake.time=18
envshake.ampl=6
;p1stateno = 2805
;p2stateno = 2802
p1sprpriority = 3

[State 0, TargetLifeAdd] ;Chip KO hack
type = TargetLifeAdd
trigger1 = numtarget
trigger1 = !(target, ishelper)
trigger1 = moveguarded
value = -10
ID = -1
kill = 1
absolute = 0
ignorehitpause = 1
persistent = 0

[State 0, Explod] ;Piccolo's Clones
type = Explod
trigger1 = MoveHit = 1
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1


[State 0, ChangeState]
type = ChangeState
triggerall = !Win ;prevent beating a dead horse
triggerall = !moveguarded
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
trigger1 = target,alive
value = 2805
persistent = 0

[State 0, TargetState]
type = null ;TargetState
triggerall = !moveguarded
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
trigger1 = target,alive
value = 2802
ignorehitpause = 1
persistent = 0

[State 4001, Fall]
type = VelAdd
trigger1 = anim = 2800 && animelemtime(32)>=0
Y = .4

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = anim = 2800 && (pos Y > 10) ; && !animtime
value = 2601

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2601
X = 0
Y = 0

[State 4001, Replace]
type = PosSet
trigger1 = Vel Y = 0
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2601
persistent = 0
statetype = S
physics = S

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2601
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2601
anim=17200
id=17200
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,0.8

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2601
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------
;RAGE P2 State - Sent in the air
[Statedef 2802]
type = S
physics = N
movetype = H
ctrl = 0
velset = 0, -15

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=2602
value = 2602

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = (Pos Y < -1000)
y = -1000

[State 0, Vegeta in Drop Kick]
type = Changestate
trigger1 = p2stateno = 2810
value = 2811
ctrl = 0

;-------------------------------------
;Vegeta - Bomber Kick from Rising Knee state
[Statedef 2803]
type = A
physics = N
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 3
poweradd = Cond(var(53)=0,-3000,-2000) ;-1000
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent = 

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(53) = 0

[State 3020, 2]
type = changeanim
trigger1 = !time && anim !=2800
value = 2800
elem = 3

[State 100, "Prepare to die!" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5
value = 2800,0
channel = 0
volume = 300

[State 100, "Die Shine" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 5
value = 2800,5
channel = 0
volume = 300

[State 100, "Let's finish with this" voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 5
value = 2800,1
channel = 0
volume = 300

[State 13000, HelpTrain]
type = Helper
trigger1 = !Time
name = "Trainee"
ID = 2607
stateno = 2607
;pausemovetime = 50

[State 40, 4]
type = null;VelSet
triggerall = anim = 2800
trigger1 = animelemtime(3) = 0
x = 11
;y = -8

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = anim = 2800
trigger1 = time = [5,58]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, nhb]
type = nothitby
triggerall = anim = 2800
trigger1 = animelemtime(10) < 0
time = 1
value = SCA

[State 3000, superpause]
type = superpause
triggerall = anim = 2800
trigger1 = time=5
time = 45
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,0
darken = 0
movetime = 45

[State 0, Hyper Charge FX]
type = Explod
triggerall = anim = 2800
trigger1 = time = 5
anim = 2440
id = 2440
pos = -17,-43
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
triggerall = anim = 2800
trigger1 = animelemtime(7) = 0
value = 0, 5
channel = 1

[State 420, 3]
type = HitDef
trigger1 = !time
attr = S, HA
damage = 0,10
hitflag = MAF
getpower = 0,0
priority = 7, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -15,-80
hitsound   = s5,6
guardsound = S6,1
p2facing = 1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 0,-12
air.velocity = 0,-12
fall = 1
kill = 0
envshake.time=18
envshake.ampl=6
;p1stateno = 2805
;p2stateno = 2802

[State 0, Explod] ;Piccolo's Clones
type = Explod
trigger1 = MoveHit = 1
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
triggerall = !moveguarded
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
trigger1 = target,alive
value = 2805
persistent = 0

[State 0, TargetState]
type = null;TargetState
triggerall = !moveguarded
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
trigger1 = target,alive
value = 2802
ignorehitpause = 1
persistent = 0

[State 4001, Fall]
type = VelAdd
trigger1 = anim = 2800 && animelemtime(32)>=0
Y = .5

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = anim = 2800 && (pos Y > 10); && !animtime
value = 2601

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2601
X = 0
Y = 0

[State 4001, Replace]
type = PosSet
triggerall = anim = 2601
trigger1 = Vel Y = 0
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2601
persistent = 0
statetype = S
physics = S

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2601
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2601
anim=17200
id=17200
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,0.8

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2601
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------
;RAGE Vegeta state - Hit P2
[Statedef 2805]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 3

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 13100, TargetEnd]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno != 2802
value = 2802

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 4001, Fall]
type = VelAdd
trigger1 = anim = 2800 && animelemtime(32)>=0
Y = .4

[State 4001, Return&Landing]
type = ChangeAnim
trigger1 = anim = 2800 && (pos Y > 10) ; && !animtime
value = 2601

[State 4001, Stop]
type = VelSet
trigger1 = anim = 2601
X = 0
Y = 0

[State 4001, Replace]
type = PosSet
trigger1 = (Vel Y = 0) && anim = 2601
trigger2 = pos Y > 10
Y = 0

[State 4001, ToGround]
type = StateTypeSet
trigger1 = Anim = 2601
persistent = 0
statetype = S
physics = S

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = anim=2601
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = Anim = 2601
anim=17200
id=17200
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,0.8

[State 4001, End]
type = ChangeState
trigger1 = Anim = 2601
trigger1 = AnimTime = 0
value = 2810
ctrl = 0

;-------------------------------------
;RAGE Vegeta state - Teleport & Drop Kick

[Statedef 2810]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2610
velset = 0,0

[State 4100, Invincible]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 2610, Teleport Sound]
type = PlaySnd
trigger1 = !time
value = 2302, 0
persistent = 0

[State 2610, Teleport Sound 2]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = 2302, 0
persistent = 0

[State 2610, Teleport Sound 2]
type = PosSet
trigger1 = animelemtime(3) = 0
X = -3*facing
Y = -100

[State 13100, TargetEnd]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2811
trigger1 = animelemtime(7)=2
value = 2812

[State 1315, Sparks]
type = explod
trigger1 = Animelemtime(7)=2
anim = 7020
scale = 1,1
sprpriority = 7
postype = p2
pos=(target,const(size.ground.front)-30),-10
removetime = -2
ownpal = 1
facing = -1
ignorehitpause = 1
persistent = 0
pausemovetime = 100
supermovetime = 100

[State 13100, HitSnd]
type = PlaySnd
trigger1 = Animelemtime(7)=2
value = 5,6

[State 13100, HitAdd]
type = HitAdd
trigger1 = animelemtime(7)=2
value = 1

[State 13100, Hurt]
type = TargetLifeAdd
trigger1 = animelemtime(7)=2
value = -ceil(10*fvar(15))
kill = 0

[State 13100, shake]
type = envshake
trigger1 = animelemtime(7)=2
time = 12
freq = 100
ampl = 8

[State 2260, bg]
type = VelSet
trigger1 = animelemtime(5)=2
Y = .5

[State 13100, End]
type = ChangeState
trigger1 = !AnimTime
value = 2815
ctrl = 0

;-------------------------------------
;P2 State - in air from bottom of screen, gets hit
[Statedef 2811]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=2602
value = 2602

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = 200

[State 0, PosSet]
type = VelSet
trigger1 = time = 35
y = -15

;------------------------------------------------
;P2 State - Sent down
[Statedef 2812]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=2612
value = 2612

[State 3020, pos]
type = PosSet
trigger1 = !time
Y = -80

[State 3020, vel]
type = VelSet
trigger1 = time = 2
Y = 14

[State 3020, to fix Silvy by Hanma ...]
type = VelSet
trigger1 = pos Y > 400
Y = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

;-------------------------------------

;RAGE Vegeta state - Charging for Ki Blast Frenziness
[Statedef 2815]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2615
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 800, count for next state]
type = VarSet
trigger1 = !time
var(19) = 0

[State 800, MAX Smash variable]
type = VarSet
trigger1 = !time
var(21) = 40

[State 4500, 1];Charge SFX
type = PlaySnd
trigger1 = !time
value = 2614,0

[State 4500, 1];transform SND
type = PlaySnd
trigger1 = !time
value = 188,0
volume = 255

[State 100, "Hudadadada" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 0
value = 2815,0
channel = 0
volume = 300

[State 4500, 1];Die/present Voice
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time=10
value = 2620,10+random%2
volume = 1000
[State 100, "Hudadadada" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time = 100
value = 2815,5
channel = 0
volume = 1000

[State 100, "Hudadadada" voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time = 0
value = 2815,1
channel = 0
volume = 300

[State 13100, shake]
type = envshake
trigger1 = !time
time = 100
freq = 80
ampl = 2

[State 1315, Charge Aura Strong]
type = explod
trigger1 = NumExplod(2625)=0 && animelemtime(5)=0
anim = 2625
ID = 2625
scale = 1,1
sprpriority = 1
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1

[State 13100, End]
type = ChangeState
trigger1 = time = 120
value = 2820
ctrl = 0

;-------------------------------------
;Vegeta state - GUNFIRE GO GO GO !!!

[Statedef 2820]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2619
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 800, remove aura]
type = RemoveExplod
trigger1 = !time
ID = 2625

[State 800, count the shoots]
type = VarAdd
trigger1 = !time
var(19) = 1

[State 2201, helper]; Background lines
type = Helper
trigger1 = AnimElemtime(3)=0 && !numhelper(2623)
pos = -640, -480
postype = back
stateno = 2623
helpertype = normal
name = "vertical_lines_BG"
id = 2623
ownpal = 1
supermovetime = 150
pausemovetime = 150
sprpriority = 4
size.xscale = 5
size.yscale= 5

[State 200, 1]; Shoot SFX
type = PlaySnd
trigger1 = AnimElemtime(3)=0
trigger2 = AnimElemtime(8)=0
value = 2621,0
volume = -100

[State 1315, Flash 1]
type = explod
trigger1 = Animelemtime(3)=0
anim = 2621
scale = 1,1
sprpriority = 2
postype = p1
pos = 0,0
removetime = 2
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1315, Flash 2]
type = explod
trigger1 = Animelemtime(8)=0
anim = 2622
scale = 1,1
sprpriority = 2
postype = p1
pos = 0,0
removetime = 2
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 13100, shake]
type = envshake
trigger1 = (time%12)=0
time = 12
freq = 100
ampl = 4

[State 3000, helper]
type = helper 
trigger1 = animelem=3
helpertype = normal
stateno = 2621
ID = 2621
name = "gunfire_FX"
postype = p1
pos = 10,-40
ownpal = 1

[State 3000, helper]
type = helper
trigger1 = animelem=8
helpertype = normal
stateno = 2621
ID = 2621
name = "gunfire_FX"
postype = p1
pos = -10,-40
ownpal = 1

;2830 = Charged Ki Blast
;2840 = Dirty Fireworks
;2860 = Chou Galick Ho

[State 13100, End];For test
type = null ;ChangeState
trigger1 = !AnimTime
value = cond(var(19) < (var(21)/2)+5, 2820, 2860)
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(19) >= (var(21)/2)+5
triggerall = var(58)<700
trigger1 = !AnimTime
value = 2835 ;2635
ctrl = 0
;ignorehitpause =
;persistent =


[State 13100, End];Change state depending on Rage Bar
type = ChangeState
trigger1 = !AnimTime
value = cond(var(19) < (var(21)/2)+5, 2820, cond(var(58)<1400, 2830, cond(var(58)>=2100, 2860, 2840)))
ctrl = 0


;===================================================
; RAGE GG FINISHER 1 : CHARGED BLAST
; Vegeta Charged Blast = 2830
; Charged Blast FX = 2831
; Vegeta invisible = 2835
; Charged Blast FX hits = 2836
; P2 hitstate = 2837
;===================================================
;Vegeta state - Charged Blast

[Statedef 2830]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2614
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 13100, shake]
type = envshake
trigger1 = (time%12)=0
time = 12
freq = 100
ampl = 4

[State 200, charge snd]
type = PlaySnd
trigger1 = !time
value = 2830,0
channel = 1
volume = 300

[State 182, launch]
type = ChangeAnim
trigger1 = Anim=2614 && time=60
Value = 2830

[State 220, Eat this!]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = anim=2830 && animelemtime(1)=0
value = 1000,1+random%2
channel = 0
volume = 300

[State 200, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = anim=2830 && animelemtime(1)=0
value = 1002,random%5
channel = 0
volume = 300

[State 220, Eat this!]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = anim=2830 && animelemtime(1)=0
value = 1003,0
channel = 0
volume = 300

[state 1215, Flash FX]
type = explod
trigger1 = anim=2830 && animelem=2
anim = 2104
id = 2104
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = 2
persistent = 0
ignorehitpause = 1
removeongethit = 1

[State 3000, helper]
type = helper
trigger1 = anim=2830 && animelem=2
helpertype = normal
stateno = 2831
ID = 2831
name = "charge_blast_FX"
postype = p1
pos = 0,-40
ownpal = 1

[State 13100, End]
type = ChangeState
trigger1 = Anim=2830 && !AnimTime
value = 2835
ctrl = 0

;-------------------------------------
;Vegeta state - Invisible while Ki Blasts & Charged Blast hit P2

[Statedef 2835]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 15999
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 800, count]
type = VarSet
trigger1 = !time
var(19) = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0 
Y = -300

[State 13100, TargetEnd]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2812
trigger1 = !time
value = 2837

[State 3000, helper]
type = helper 
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = 4*(random%11),-40
ownpal = 1

[State 3000, helper]
type = helper
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=4
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = -4*(random%11),-40
ownpal = 1

[State 3000, helper]
type = helper
triggerall = var(58)>=700
trigger1 = time = 230
helpertype = normal
stateno = 2836
ID = 2836
name = "charged_FX"
postype = p1
pos = 0,-40
ownpal = 1

[State 800, count]
type = VarAdd
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
trigger2 = (time%8)=4
var(19) = 1

[State 13100, Hurt] ;Level 0
type = TargetLifeAdd
triggerall = var(58)<700
trigger1 = time = 230
;value = - ceil(250*fvar(12)) - var(21)*ceil(4*fvar(12)) - 30
;value = - ceil(cond(fvar(11) * (250-30-var(21)*4) < 7, 7, fvar(11) * (250-30-var(21)*4)))
;value = - ceil(250+30+(4*var(21)))
value = -ceil(cond(fvar(11) * 250 < 100, 100, fvar(11) * 250)) - 4*var(21)
kill = 1
persistent = 0

[State 13100, Hurt]  ;Level 1
type = TargetLifeAdd
triggerall = var(58)>=700
trigger1 = time = 254
;value = - ceil(250*fvar(12)) - var(21)*ceil(4*fvar(12)) - 30
;value = - ceil(cond(fvar(11) * (250-30-var(21)*4) < 7, 7, fvar(11) * (250-30-var(21)*4)))
;value = - ceil(250+30+(4*var(21)))
value = -ceil(cond(fvar(11) * 250 < 100, 100, fvar(11) * 250)) -30 - 4*var(21)
kill = 1
persistent = 0


[State 13100, Hurt]
type = TargetPowerAdd
trigger1 = time = 254   ;var(19) = var(21)+9
value = 500 + var(21)*25
persistent = 0

[State 13100, End]
type = ChangeState
trigger1 = time = 255   ;var(19) >= var(21)+10
value = 2635
ctrl = 0

;------------------------------------------------
;P2 State - On ground, hit by projectiles (charged blast)
[Statedef 2837]
type = L
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, 2]
type = changeanim
trigger1 = !time && anim !=5110
trigger2 = time=210
value = 5110

[State 3020, 2]
type = changeanim
trigger1 = time>=42 && time<200 && (time%12)=0
trigger2 = time=250
value = 5080

[State -3, GetHit Snd]
type=playsnd
trigger1 = Time >= 42 && time<210
trigger1 = Time%20 = 0
value = 5000,1+(random%5)
ignorehitpause = 1

[State -3, Death Snd]
type=playsnd
trigger1 = Time = 250
value = 11,0
ignorehitpause = 1

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0
Y = 0

[State 3020, pos]
type = PosSet
trigger1 = time=250
Y = -40

;[State 3020, pos]
;type = VelSet
;trigger1 = time=250
;Y = -5

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,1
value = 1

[State 801, end]
type = changestate
trigger1 = enemy,stateno=2635
value = 2627
ctrl = 0


;===================================================
; RAGE GG FINISHER 2 : DIRTY FIREWORKS
; Vegeta launching multi ki blasts = 2840
; P2 on ground hit by ki blasts = 2841
; Vegeta stomping = 2843
; Vegeta dirty fireworks = 2844
; P2 sent to the air = 2845
; P2 exploding = 2846
; P2 fatality state = 2847
; Debris helper = 2848 -> 2850
;===================================================
;Vegeta state - Invisible while Ki Blasts hit P2
[Statedef 2840]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 15999
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 800, count]
type = VarSet
trigger1 = !time
var(19) = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0 
Y = -310

[State 13100, TargetEnd]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2812
trigger1 = !time
value = 2841

[State 3000, helper]
type = helper 
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = 4*(random%11),-40
ownpal = 1

[State 3000, helper]
type = helper
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=4
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = -4*(random%11),-40
ownpal = 1

[State 800, count]
type = VarAdd
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
trigger2 = (time%8)=4
var(19) = 1

[State 13100, Hurt]
type = TargetPowerAdd
trigger1 = var(19) = var(21)+9
value = 500 + var(21)*25
persistent = 0

[State 13100, End]
type = ChangeState
trigger1 = time>= 250  ;var(19) >= var(21)+10
value = 2843
ctrl = 0

;------------------------------------------------
;P2 State - On ground, hit by projectiles
[Statedef 2841]
type = L
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, 2]
type = changeanim
trigger1 = !time && anim !=5110
trigger2 = time=210
value = 5110

[State 3020, 2]
type = changeanim
trigger1 = time>=42 && time<200 && (time%12)=0
value = 5080

[State -3, GetHit Snd]
type=playsnd
trigger1 = Time >= 42 && time<210
trigger1 = Time%20 = 0
value = 5000,1+(random%5)
ignorehitpause = 1

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0
Y = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,1
value = 1

[State 3020, Stomped by Vegeta]
type = changeanim2
trigger1 = time=272
value = 2841

;------------------------------------------------
;Vegeta state - Going down to stomp P2
[Statedef 2843]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2843
velset = 0,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 4001, Fall]
type = VelAdd
trigger1 = anim=2843 && pos Y<-15
Y = .3

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

;------------------
;Stomping P2 effects

[State 3055, vel]
type = Velset
trigger1 = Anim = 2843 && pos Y >= -15
Y = 0
persistent = 0

[State 3055, hitsound]
type = PlaySnd
trigger1 = Anim = 2843 && pos Y >= -15
value = 5,6
persistent = 0

[State 13100, shake]
type = envshake
trigger1 = Anim = 2843 && pos Y >= -15
time = 20
freq = 150
ampl = 10
persistent = 0

[State 13100, HitAdd]
type = HitAdd
trigger1 = Anim = 2843 && pos Y >= -15
value = 1
persistent = 0

[State 1315, Sparks]
type=explod
trigger1 = Anim = 2843 && pos Y >= -15
anim=7030
sprpriority=6
;postype=p2
;pos=(target,const(size.ground.front)-30),-10
postype = P1
pos = 5, 10
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
pausemovetime=1000
supermovetime=1000
persistent = 0

[State 13100, Anim]
type = ChangeAnim
;trigger1 = Anim = 2843 && pos Y >= -15
trigger1 = time = 25
value = 2842

;------------------
;Jumping back

[State 13100, Target to the air]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2841
;trigger1 = Anim = 2843 && pos Y >= -5
trigger1 = time=37
value = 2845

[State 4001, Return & jumping back]
type = ChangeAnim
;trigger1 = Anim = 2843 && pos Y >= -5
trigger1 = time=37
value = 43

[State 4001, jumping back vels]
type = VelSet
trigger1 = anim=43 && animelemtime(1)=0
X = const(velocity.jump.back.x)/1.3
Y = const(velocity.jump.y)/1.2

[State 50, 3]
type = ChangeAnim
triggerall = anim = 43
trigger1 = Vel y > -2
value = 46

[State 4001, Fall]
type = VelAdd
trigger1 = anim=43 || anim=46
Y = .55

[State 4001, Landing & to Fireworks]
type = ChangeState
trigger1 = Anim = 46 && pos Y >= 0
value = 2844

;------------------------------------------------
;Vegeta state - Dirty Fireworks
[Statedef 2844]
type = S
physics = S
movetype = A
ctrl = 0
sprpriority = 1
anim = 2844
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1

[State 4001, Stop]
type = PosSet
trigger1 = !time
Y = 0

[State 17100, Landing Sound]
type = PlaySnd
trigger1 = !time
value = 40, 0
persistent = 0

[state 17100, twirl FX]
type=explod
trigger1 = !time
anim=17200
id=17200
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,0.8

[State 200, woosh]
type = PlaySnd
trigger1 = Anim = 2844 && animelemtime(4)=0
value = 0, 0

[State 13100, "Say Goodbye" voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = Anim = 2844 && animelemtime(4)=0
value = 2845,random%3
volume = 300

[State 13100, "Die" voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = Anim = 2844 && animelemtime(4)=0
value = 2800,5
volume = 300

[State 13100, "Die!" voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = Anim = 2844 && animelemtime(4)=0
value = 2845,5+random%3
volume = 300

[State 13100, horror sound]
type = playsnd
trigger1 = Anim = 2844 && animelemtime(5)=0
value = 2844,3
volume = 500

[State 13100, Target exploding]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2845
trigger1 = Anim = 2844 && animelemtime(5)=3
value = 2846

[State 13100, P2 locked]
type = playsnd
trigger1 = Anim = 2844 && animelemtime(5)=5
value = 2844,2
volume = 500

[state 1215, Explosion FX]
type = explod
trigger1 = Anim = 2844 && animelemtime(6)=40
anim = 2845  ;2512
id = 2845  ;2512
pos = 0,-70
postype = P2
sprpriority = 6
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 0
bindtime = 1
;scale = 2,2

[State 13100, HitAdd]
type = HitAdd
trigger1 = Anim = 2844 && animelemtime(6)=40
value = 1

[State 13100, explosion sound]
type = playsnd
trigger1 = Anim = 2844 && animelemtime(6)=40
value = 2511,0
volume = 100
persistent = 0

[State 13100, P2 explodes]
type = playsnd
trigger1 = Anim = 2844 && animelemtime(6)=40
value = 2844,1
volume = 500
persistent = 0

[State 13100, blood splatter sound]
type = playsnd
trigger1 = Anim = 2844 && animelemtime(6)=45
value = 2844,0
volume = 500
persistent = 0

[State 13100, shake]
type = envshake
trigger1 = Anim = 2844 && animelemtime(6)=40
time = 10
freq = 180
ampl = 15

[State 13100, Hurt]
type = TargetLifeAdd
trigger1 = Anim = 2844 && animelemtime(6)=40
;value = - ceil(250*fvar(12)) - var(21)*ceil(4*fvar(12)) - 60
;value = - ceil(cond(fvar(11) * (250-60-var(21)*4) < 7, 7, fvar(11) * (250-60-var(21)*4)))
;value = -ceil(250+60+(4*var(21)))
value = -ceil(cond(fvar(11) * 250 < 100, 100, fvar(11) * 250)) -60 - 4*var(21)
kill = 1
persistent = 0

[State 13100, Hurt]
type = TargetPowerAdd
trigger1 = Anim = 2844 && animelemtime(6)=40
value = 1500
persistent = 0

[State 3000, debris]
type = helper
trigger1 = enemy,stateno=2847 && !numhelper(2848)
helpertype = normal
stateno = 2848
ID = 2848
name = "debris"
postype = p2
pos = 0,0
ownpal = 1

[State 801, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------
; P2 sent to the air
[Statedef 2845]
type = A
movetype = H
physics = N
anim = 5030
ctrl = 0
velset = -2, -9.3

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1
 
[State 9011, VelAdd]
type = VelAdd
trigger1 = (Pos Y < 0)
y = 0.3
 
[State 9011, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
 
[State 9011, ChangeState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100

;-------------------------------------
;P2 exploding
[Statedef 2846]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
facep2 = 1

[State 50, gethit pose]
type = ChangeAnim2
trigger1 = !time
value = 2846

[State 182, shake]
type = PosAdd
trigger1 = time < 52
Y = cond(time%2=1,-4,4)

[State 800, red palfx]
type = PalFX
trigger1 = (time < 42) && (time%10)=0
time = 10
add = 250,0,0
mul = 200,200,200
;sin = 50,50,50

[State 182, 1]
type = screenbound
trigger1 = time < 52
movecamera = 0,0
value = 0

[State 3025, p2state - killed fatality]
type = changestate
trigger1 = MatchOver
value = 2847
ignorehitpause = 1
 
[State 9011, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 50, 3]
type = ChangeAnim
trigger1 = time = 52
value = cond(selfanimexist(5937),5937,cond(selfanimexist(5052),5052,5030))

[State 6100, turning snd]
type = playsnd
triggerall = anim=5937
trigger1 = time = 52
trigger2 = time = 60
trigger3 = time = 70
trigger4 = time = 80
value = 21,1
persistent = 1

[State 9011, Vels]
type = Velset
trigger1 = time=52
X = -7
Y = -5

[State 9011, VelAdd]
type = VelAdd
trigger1 = (Pos Y < 0) && (time >= 52)
y = 0.35
 
[State 9011, ChangeState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100

;---------------------------------------------------------------------------------------
;Prevent Freezing from Dirty Fireworks
[Statedef 2847]
type = S
movetype= H
physics = N
velset = 0,0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 1

[State 49999, 1]
type = LifeSet
trigger1 = 1
value = 0

[State 49999, 1]
type = PosSet
trigger1 = time > 50
y = 9000

[State 49999, 5]
type = ChangeAnim2
trigger1 = !time
value = 15999

[State 444, 0]
type = Changestate
trigger1 = time >=60
value = 5150


;===================================================
; RAGE GG FINISHER 3 : FINAL GALICK HO
; Vegeta launching multi ki blasts = 2860
; P2 hit by blasts = 2861
; P2 out of screen = 2862
; Vegeta Charging GH state = 2865
; Vegeta throwing GH state = 2866
; Final Galick Ho beam helper = 2867
; Vegeta temp wait state before falling down = 2869
; P2 sent back to screen and hit = 2870
; P2 hit end, on ground = 2871
; Fatality state = 2875
;===================================================
;Vegeta state - Invisible while Ki Blasts hit P2
[Statedef 2860]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 15999
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 800, count]
type = VarSet
trigger1 = !time
var(19) = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0 
Y = -300

[State 13100, TargetEnd]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2812
trigger1 = !time
value = 2861

[State 3000, helper]
type = helper 
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = 4*(random%11),-40
ownpal = 1

[State 3000, helper]
type = helper
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=4
helpertype = normal
stateno = 2630
ID = 2630
name = "gunfire_FX"
postype = p1
pos = -4*(random%11),-40
ownpal = 1

[State 800, count]
type = VarAdd
triggerall = var(19) < var(21)+10
trigger1 = (time%8)=0
trigger2 = (time%8)=4
var(19) = 1

[State 13100, Hurt]
type = TargetPowerAdd
trigger1 = var(19) = var(21)+9
value = 500 + var(21)*25
persistent = 0

[State 13100, End]
type = ChangeState
trigger1 = time=250  ;var(19) >= var(21)+10
value = 2865
ctrl = 0

;------------------------------------------------
;P2 State - On ground, hit by projectiles (Final GH 1st)
[Statedef 2861]
type = L
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, 2]
type = changeanim
trigger1 = !time && anim !=5110
trigger2 = time=210
value = 5110

[State 3020, 2]
type = changeanim
trigger1 = time>=42 && time<200 && (time%12)=0
value = 5080

[State -3, GetHit Snd]
type=playsnd
trigger1 = Time >= 42 && time<210
trigger1 = Time%20 = 0
value = 5000,1+(random%5)
ignorehitpause = 1

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0
Y = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,1
value = 1

[State 801, end]
type = changestate
trigger1 = enemy,stateno=2865
value = 2862
ctrl = 0

;------------------------------------------------
;P2 State - Out of screen after hit by ki blasts
[Statedef 2862]
type = L
physics = N
movetype = H
ctrl = 0
velset = 0, 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0
Y = 300

[State 181, 1]
type = null ;NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,1
value = 1

;-------------------------------------------
;Vegeta state - Charging Final GH
[Statedef 2865]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2100
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 3020, pos]
type = PosSet
trigger1 = !time
Y = -100

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 13100, shake]
type = envshake
trigger1 = (time%12)=0
time = 12
freq = 100
ampl = 4

[State 200, Final GH Charging SFX]
type = PlaySnd
trigger1 = !time
value = 2865,0
volume = 300

[State 200, electricity]
type = PlaySnd
trigger1 = (GameTime%40) = 20
value = 2400,2
volume = 10

[State 4500, 1];Scream
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 8,2
volume = 500
channel = 0
[State 4500, 1];Scream
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 2481,0
volume = 500
channel = 0
[State 4500, 1];Scream
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 8,22
volume = 500
channel = 0

[state 1215, Aura FX]
type = explod
trigger1 = !time
anim = 2860
id = 2860
pos = 0,0
postype = P1
sprpriority = 0
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 0
bindtime = -1

[State 182, remove aura]
type = RemoveExplod
trigger1 = Anim=2100 && time=120
ID = 2860

[State 182, launch]
type = ChangeState
trigger1 = Anim=2100 && time=120
Value = 2866
ctrl = 0

;----------------------------
;Launching Final Galick Ho
[Statedef 2866]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
anim = 2861
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0  ;0,1
value = 1

[State 13300, purple]
type = PalFX
trigger1 = !time  ;(time%14) = 0
time = 14
add = 150,0,150
mul = 200,200,200
;sin = 50,50,50

[State 13100, shake]
type = envshake
trigger1 = (time%12)=0
time = 12
freq = 100
ampl = 4

[State 2201, helper]; Background lines
type = Helper
trigger1 = !numhelper(2623)
pos = -640, -480
postype = back
stateno = 2623
helpertype = normal
name = "vertical_lines_BG"
id = 2623
ownpal = 1
supermovetime = 150
pausemovetime = 150
sprpriority = 4
size.xscale = 5
size.yscale= 5

[state 1215, Flash FX]
type = explod
trigger1 = !time
anim = 2104
id = 2104
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = 30
persistent = 0
ignorehitpause = 1
removeongethit = 1
bindtime = -1

[State 3000, helper]
type = helper
trigger1 = !time
helpertype = normal
stateno = 2867
ID = 2867
name = "Final_GH_FX"
postype = p1
pos = 0,-40
ownpal = 1

[State 200, Final GH Launching SFX]
type = PlaySnd
trigger1 = !time
value = 2865,1
volume = 300

[State 200, 1];Moving "Camera"
type = Velset
trigger1 = time=11
Y = -18
ignorehitpause = 1

[State 200, 1];Moving "Camera"
type = Velset
trigger1 = time=24
Y = 0
ignorehitpause = 1

[State 13100, Send Target to screen]
type = TargetState
trigger1 = NumTarget
trigger1 = Target, Stateno = 2862
trigger1 = time = 80
value = 2870

;--------------
;Hitting opponent (sparks and all)

[State 200, Final GH hitting SFX]
type = PlaySnd
trigger1 = time = 80+24
value = 2865,2
volume = 500

[State 1315, Sparks]
type=explod
trigger1= numtarget
trigger1= (time%4=0) && (time> 80+24) && (time < 80+24+4*28)
anim=7030
sprpriority=6
postype=p2
pos=(target,const(size.ground.front)-40)+(random%60), (random%30)-15 ;+(target,const(size.mid.pos.y))
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
pausemovetime=100
supermovetime=100

[State 800, count]
type = HitAdd
trigger1 = (time%4=0) && (time> 80+24) && (time <= 80+24+4*28)
value = 1

[State 800, hitsound]
type = PlaySnd
trigger1 = (time%4=0) && (time> 80+24) && (time <= 80+24+4*28)
value = 1410,2 ;1000,0
volume = -100

[State 13100, Hurt]
type = TargetLifeAdd
trigger1 = time = 80+24+4*28
;value = - ceil(250*fvar(12)) - var(21)*ceil(4*fvar(12)) - 100
;value = - ceil(cond(fvar(11) * (250-100-var(21)*4) < 7, 7, fvar(11) * (250-100-var(21)*4)))
;value = -ceil(250+100+(4*var(21)))
value = -ceil(cond(fvar(11) * 250 < 100, 100, fvar(11) * 250)) -100 - 4*var(21)
kill = 1
persistent = 0

[State 13100, Hurt]
type = TargetPowerAdd
trigger1 = time = 80+24+4*28
value = 2000
persistent = 0

[State 13100, Back to screen]
type = ChangeState
trigger1 = time = 80+24+4*28 + 10
value = 2869
ctrl = 0

;----------------------------
;Vegeta waiting
[Statedef 2869]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 1
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 1

[State 3025, killed, beam fatality sound]
type = playsnd
trigger1 = numenemy
trigger1 = enemy,stateno=2875 && enemy,time=30
value = 5941,0
volume = 300
persistent = 0

[State 13100, Back to screen]
type = ChangeState
trigger1 = time = 2+100*(enemy,stateno=2875 || enemy,stateno=5942)
value = 2635
ctrl = 0

;----------------------------
;P2 State - Going back to screen
[Statedef 2870]
type = L
physics = N
movetype = H
ctrl = 0
velset = 0, -14

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3020, pos]
type = PosSet
trigger1 = !time
X = 0
Y = 300

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 200

[State 1050, 1]
type = sprpriority
trigger1 = 1
value = -2

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,1
value = 1

;----------
;Getting hit

[State 200, 1];Stop moving
type = Velset
trigger1 = time=24
Y = 0
ignorehitpause = 1

[State 3020, 2]
type = null ;changeanim
trigger1 = time>=24 && anim!=5170
value = 5170

[State 3020, 2]
type = changeanim
trigger1 = time>=24 && (time%12)=0
value = 5080

[State -3, GetHit Snd]
type=playsnd
trigger1 = Time >= 24 && time<=(24+28*4)
trigger1 = Time%20 = 0
value = 5000,1+(random%5)
ignorehitpause = 1

[State 13100, shake]
type = envshake
trigger1 = Time >= 24
trigger1 = (time%12)=0
time = 12
freq = 150
ampl = 10

[State 3025, p2state - killed fatality]
type = changestate
trigger1 = enemy,stateno=2869
trigger1 = MatchOver
value = 2875
ignorehitpause = 1

[State 801, end]
type = changestate
trigger1 = enemy,stateno=2869
value = 2627
ctrl = 0

;================================================
;Killed by Final Galick Ho (Fatality) - FULL SCREEN WALT VERSION
[Statedef 2875]
type    = L
movetype= H
physics = N
ctrl = 0
sprpriority = 7

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 1

[State 1061, Turn]
type = AngleDraw
trigger1 = 1
value = 90

[State 4005, vel Y]
type = posset
trigger1 = !time
x = cond(facing=1, 40, -40)

[State 3000, hit anim]
type = ChangeAnim2
trigger1 = Anim!=5943
value = 5943
ignorehitpause = 1

[State 13300, Fadeout]
type = PalFX
trigger1 = Time = [0,30]
time = 1
add = -8*(Time),-8*(Time),-8*(Time)

[State 13300, Fadeout]
type = PalFX
trigger1 = Time >= 30
time = 1
add = -256,-256,-256

[State 3000, shaking]
type = PosAdd
trigger1 = time<30
Y = cond(time%4=0,-2,cond(time%4=2,2,0))
ignorehitpause = 1

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1

;This prevent freeze game
[State 49999, 5]
type = ChangeState
trigger1 = time >99
value = 5942



;===========================================================================
;===========================================================================
;<<<<<<<<<<<<<<<<<<<<<<<<| MAJIN EXCLUSIVE MOVES |>>>>>>>>>>>>>>>>>>>>>>>>>>
;===========================================================================
;===========================================================================

;===========================================================================
; <<<<< ATOMIC BLAST >>>>>
; Start = 3200
; Launch = 3201
; Recovery = 3202
; P2 hit drag = 3206
; P2 hit wall bounce = 3207
;
;===========================================================================

;[MAJIN]

;ATOMIC BLAST
[Statedef 3200]
type    = S
movetype= A
physics = S
juggle  = 7
velset = 0,0
anim = 3200
ctrl = 0
sprpriority = 2
;poweradd = cond(var(53)>0,0,-1000)

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,0,-1000)

[State 0, Sanity VarAdd]
type = VarAdd
triggerall = var(53)>0
trigger1 = !time
var(58) = -700
;----------------------------

;Reset Dash Elbow weak variable
[State 3110, VarSet]
type = VarSet
trigger1 = !Time = 0
var(3) = 0

[State 3201, Width]
type = Width
trigger1 = 1
value = 30,20

[State 3200, SuperMove Checker Disable Sanity mode]
type = VarSet
triggerall = var(43)=1
trigger1 = time = 0
var(53) = 0
ignorehitpause = 1

[State 3200, SuperMove Checker]
type = VarSet
trigger1 = Time = 1
var(43) = 1
ignorehitpause = 1
;persistent =


[State 3200, AssertSpecial]
type = AssertSpecial
trigger1 = time = 5
flag = noBG
flag2 = noFG

[State 3200, superpause]
type = superpause
trigger1 = time = 5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0

[State 3200, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 3200, nhb]
type = nothitby
trigger1 = animelemtime(5) < 0
time = 1
value = SCA


[State 3200, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -42, 37
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3200, hit]
type = hitdef
trigger1 = animelem=4
attr = S,HT
hitflag = M ;M-
animtype  = Light
;damage    = 30,0
damage = ceil(cond(fvar(11) * 30 < 7, 7, fvar(11) * 30)), 0
priority = 1,Miss
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-75
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6 ;-3 ;-1
guard.velocity = -6 ;-3 ;-9
airguard.velocity = -2.5
;air.type = High
;air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
;air.hittime = 12
;air.animtype = back
;p1facing = 1
p2facing = 1
guard.dist = 0
fall = 0
fall.recover = 0
hitsound = s800,1
;p1stateno = 3201
;p2stateno = 3206
getpower= 0,0
givepower = 35,35
ID = 3200
hitonce = 1 ;just in case
kill = 0
guard.kill = 0
air.kill = 0
fall.kill = 0

[State 0, Explod] ;Piccolo's Clones
type = Explod
trigger1 = MoveHit = 1
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 3200, voice]   ;"Hail to the Prince!"
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelemtime(5)=0 ;time = 0
value = 783,3+random%3 ;3200,2+random%3
channel = 0

[State 3200, voice]   ;"You're a stubborn one."
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = animelemtime(5)=0 ;time = 0
value = 783,20
channel = 0

[State -2, AB Talking Mouth]
type = Explod
triggerall = !NumExplod(3203)
trigger1 = animelemtime(5)=0
anim = 3203
id = 3203
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 0, TargetDrop] ;drop helpers
type = TargetDrop
trigger1 = numtarget(3200)
trigger1 = target(3200),ishelper 
excludeID = -1
keepone = 0
ignorehitpause = 1
;persistent = 


[State 0, TargetDrop]
type = TargetDrop
trigger1 = numtarget(3200)
trigger1 = !(target(3200),ishelper)
excludeID = 3200
keepone = 1
ignorehitpause = 1
;persistent = 


[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
trigger1 = numtarget(3200)
trigger1 = !(target(3200), ishelper)
value = 3201
persistent = 1

[State 3200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;[MAJIN]

;Atomic Blast Launch
[Statedef 3201]
type    = S
movetype= A
physics = S
ctrl = 0
Anim = 3201
velset = 0,0
sprpriority = 2

[State 0, Remove Mouth]
type = RemoveExplod
trigger1 = !time
id = 3203
ignorehitpause = 1
;persistent =


[State 3201, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = 10
ignorehitpause = 1
;persistent =

[State 0, TargetDrop]
type = TargetDrop
trigger1 = numtarget
excludeID = 3200
keepone = 1
ignorehitpause = 1
;persistent = 


[State 3201, throw]
type = targetstate
trigger1 = !time
value = 3206

[State 3201, voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelemtime(4)=0 ;time = 0
value = 3200,5+random%2
channel = 0

[State 3201, voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = animelemtime(4)=0 ;time = 0
value = 3200,20+random%2
channel = 0

[State 3301, Photon Bomber]
type = helper
triggerall = !NumHelper(3209)
trigger1 = AnimElemtime(4)= 0
helpertype = normal
stateno = 3209
ID = 3209
name = "Atomic Blast"
postype = p1
pos = 45, -65
size.ground.back = 30
size.ground.front = 30
ownpal = 1


[State 3201, sound]
type = PlaySnd
trigger1 = animelemtime(5)=0 ;time = 0
value = 2000,2
channel = 5

[State 3201, ChangeState]
type = ChangeState
;triggerall = numtarget
trigger1 = AnimElemtime(4)> 0 && enemy,stateno = 3207 ; target,stateno = 3207
;trigger1 = FrontEdgeBodyDist <= 100 ;120  ;avoid bug in corner
;triggerall = !NumExplod(3209)
trigger2 = NumHelper(3209) && enemy,BackEdgeDist < 30 ;target,BackEdgeDist < 30 ;!Animtime
;trigger2 = FrontEdgeBodyDist <= 100  ;avoid bug in corner
trigger3 = p2bodydist X >140
trigger4 = time>70 ; Safevalue
value =  3202
ctrl = 0



;[MAJIN]

;Atomic Blast Recovery
[Statedef 3202]
type = S
physics = S; N
movetype = A
ctrl = 0
Anim = 3202
velset = 0,0
sprpriority = 2

[State 3203, ChangeState]
type = ChangeState
trigger1 = !Animtime
value =  0
ctrl = 1

;[MAJIN]

;Hit by AB (Custom State) - Initial gethit
[Statedef 3206]
type = S
movetype = H
physics = N ;S
ctrl = 0
velset = 0,0
sprpriority = 2

[State 0, NotHitBy]
type = null;NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1
;persistent =

[State 0, PlayerPush]
type = null;PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
;persistent =

[State 3202, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = cond(SelfAnimExist(950)&&SelfAnimExist(128950),3206,3204)

[State 3202, Width]
type = Width
trigger1 = 1
value = 90,10 ;10,10

[State 0, PosAdd]
type = null ;PosAdd
triggerall = Anim = 3204
trigger1 =  animelemtime(2)=0
x = 50

[State 3202, VelSet]
type = VelSet
trigger1 = !time
x = -1

[State 0, ChangeAnim2] ;non-Z2 character
type = null;ChangeAnim
trigger1 = Anim=3204
trigger1 = !animtime
value = 120
;elem = 1
ignorehitpause = 1
;persistent =


[State 3202, ChangeState]
type = ChangeState
triggerall = BackEdgeDist < 15
triggerall = time>0
trigger1 = NumHelper(3209) ;don't change until AB is onscreeen
trigger1 = Anim=3206 ; Z2 char
trigger2 = NumHelper(3209) ;don't change until AB is onscreeen
trigger2 = Anim=3204 ; non Z2
trigger3 = time>30
trigger3 = !NumHelper(3209)
value =  3207
ctrl = 0

;[MAJIN]

;Hit by AB (Custom State) - Drag along
[Statedef 32061]
type = S
movetype = H
physics = N ;S
ctrl = 0
velset = 0,0
sprpriority = 2

[State 0, NotHitBy]
type = null;NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1
;persistent =

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
;persistent =

[State 3202, ChangeAnim2] ;Shin Satan Z2 character Hack _
type = null;ChangeAnim;2
trigger1 = Name = "Shin Satan Z2"
trigger1 = Anim=3206
trigger1 = !time
value = 990 ;32061

[State 3202, ChangeAnim2] ;Z2 character non-Satan
type = ChangeAnim;2
;trigger1 = Name != "Shin Satan Z2"
trigger1 = Anim=3206
trigger1 = !time
value = 950 ;32061

[State 0, ChangeAnim2] ;non-Z2 character
type = ChangeAnim
trigger1 = Anim=3204
trigger1 = !time
value = 120
;elem = 1
ignorehitpause = 1
;persistent =

[State 3202, Width]
type = Width
trigger1 = 1
value = 90,10 ;10,10

[State 3202, VelSet]
type = null ;VelSet
trigger1 = !time
x = -3

[State 0, SelfState]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5000
ignorehitpause = 1
;persistent = 1

[State 3202, ChangeState]
type = ChangeState
triggerall = BackEdgeDist < 15
trigger1 = Anim=950 ; Z2 char
trigger2 = Anim=990 ; Z2 Satan
trigger3 = Anim=120 ; non Z2
value =  3207
ctrl = 0



;[MAJIN]

;Hit by AB (Custom State) - Wall bounce
[Statedef 3207]
type = A ;S
movetype = H
physics = N ;U ;N
ctrl = 0
velset = 0,0
sprpriority = 2

[State 3207, Width]
type = Width
trigger1 = 1
value = 10,10

[State 3207, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = cond(SelfAnimExist(950)&&SelfAnimExist(128950),3207,3205)

[State 3207, Spark]
type = null;Explod
triggerall = enemy,facing!=facing
trigger1 = !Time
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 3207, Sound]
type = null ;PlaySnd
trigger1 = !Time
value = 15000,2 ;F7,0

[State 3207, VelSet 1]
type = VelSet
trigger1 = !time
x = 5 ;3
y = -2

[State 4001, Stop]
type = null;VelSet
triggerall = time>9
trigger1 = Vel Y > abs(Pos Y)
x = 0
Y = 0

[State 3207, StateTypeSet]
type =  StateTypeSet
trigger1 = time>9 ;time=10
statetype = A       ;S,A,C,L
movetype = H        ;I,A,H
physics = A         ;A,C,S,N

[State 3207, SelfState]
type = SelfState
trigger1 = time>9
value = 5050
ctrl = 0


[State 3207, PosSet]
type = null;PosSet
trigger1 = time>9 ;time=10
trigger1 = vel y=0
;x = ScreenPos X +(facing*30) ;cond(facing,ScreenPos X+30,ScreenPos X-30) ;0 ;BackEdgeDist + 30 ;ScreenPos X
y = 0

[State 3207, StateTypeSet]
type =  null;StateTypeSet
trigger1 = time>9 ;time=10
trigger1 = vel y=0
statetype = S       ;S,A,C,L
movetype = I        ;I,A,H
physics = S         ;A,C,S,N


[State 3207, SelfState]
type = null;SelfState
trigger1 = time>9
trigger1 = pos y=0
value = 0
ctrl = 1




;[MAJIN]

;Hit by AB (Dizzy)
[Statedef 32077]
type = S
movetype = H
physics = S
anim = 5011 ;5300
ctrl = 0
velset = -3,0
sprpriority = 4
poweradd = 0

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0
ignorehitpause = 1
;persistent =


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 10 ;!time
value = cond(SelfAnimExist(5300)=1,5300,5000)
ignorehitpause = 1
;persistent =


[State 0, SelfState]
type = SelfState
trigger1 = Time=50
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 1


;===========================================================================
; <<<<< PHOTON BOMBER LEVEL 1 >>>>>
; State beginning : 3300
; State PB launch : 3301
; Photon Bomber ProjHelper : 3302
; Photon Bomber Vanish : 33021
;===========================================================================

;[MAJIN]

;PHOTON BOMBER LV1
[Statedef 3300]
type = S
movetype = A
physics = S
anim = 3300
ctrl = 0
velset = 0,0
sprpriority = 1
;poweradd = cond(var(53)>0,0,-1000)

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,0,-1000)

[State 0, Sanity VarAdd]
type = VarAdd
triggerall = var(53)>0
trigger1 = !time
var(58) = -700
;----------------------------

;Reset Dash Elbow weak variable
[State 3110, VarSet]
type = VarSet
trigger1 = !Time
var(3) = 0

[State 3300, push enemy]
type = Width
trigger1 = 1
value = 60,0

[State 3300, SuperMove Checker Disable Sanity mode]
type = VarSet
triggerall = var(43)=2
trigger1 = time = 0
var(53) = 0
ignorehitpause = 1

[State 3300, SuperMove Checker]
type = VarSet
trigger1 = Time = 1
var(43) = 2
ignorehitpause = 1
;persistent =

[State 3300, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 5
flag = noBG
flag2 = noFG

[State 3300, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 3300, voice]   ;"Begone/Out of my face!"
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time ;time = 5
value = 3300,5+random%2
channel = 0
volume = 300

[State 3300, voice]   ;"I'll destroy you/Eat This!"
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = !time ;time = 5
value = 3300,20+random%2
channel = 0
volume = 300

[State 3300, superpause]
type = superpause
trigger1 = time = 5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
darken = 0
movetime = 40
sound = s2000,0

[State 3300, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -137, 36
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0


[State 3300, Superpause charge sound]
type = null ;PlaySnd
trigger1 = time = 5
value = 2350,0  ;LV 2

[State 3300, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45 ;35 ;30
color=0
mul=0,0,0

[State 3300, Hand Overlay]
type = Explod
triggerall = !NumExplod(3304)
trigger1 = AnimElemTime(2)=0
anim = 3304
id = 3304
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3300, PB Ball Charge]
type = Explod
triggerall = !NumExplod(3301)
trigger1 = time = 6
anim = 3301
id = 3301
pos = -30,-70
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3300, PB Ball charge sound]
type = PlaySnd
trigger1 = time = 6
value = 3300,0
channel = 5

[State 3300, Charge smoke]
type = Explod
triggerall = !NumExplod(17100)
trigger1 = time = 6
anim = 17100
ID = 17100
pos = 0, 0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = -2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1


[State 3300, ChangeState]
type = ChangeState
trigger1 = time =  45 ;18
value = 3301
ctrl = 0

;-----------------------------------
;[MAJIN]

;PHOTON BOMBER LV1 RELEASE
[Statedef 3301]
type = S
movetype = A
physics = S
anim = 3305
ctrl = 0
velset = 0,0
sprpriority = 15

[State 3301, StopSnd]
type = StopSnd
trigger1 = !time
channel = 5

[State 3301, push enemy]
type = Width
trigger1 = 1
value = 60,0

[State 3301, RemoveExplod Charge Ball]
type = RemoveExplod
trigger1 =  !time
id =   3301

[State 3301, RemoveExplod Hand]
type = RemoveExplod
trigger1 =  !time
id =   3304


[State 3301, RemoveExplod smoke]
type = RemoveExplod
trigger1 =  !time
id =   17100

[State 3301, Photon Bomber]
type = helper
;triggerall = !NumHelper(3302)
trigger1 = AnimElemTime(3)=0
helpertype = normal
stateno = 3302
ID = 3302
name = "Photon Bomber"
postype = p1
pos = 93, -54 ;85, -64
ownpal = 1


[State 3301, release Sound]
type = PlaySnd
trigger1 = AnimElemTime(3)=0
value = 2000,2
channel = -1 ;7


[State 3301, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;===========================================================================
; <<<<< AIR PHOTON BOMBER LEVEL 1 >>>>>
; State beginning : 3350
; State PB launch : 3351
; Photon Bomber ProjHelper : 3302
; Photon Bomber Vanish : 33021
;===========================================================================

;[MAJIN]

;AIR PHOTON BOMBER LV1
[Statedef 3350]
type = A
physics = N
movetype = A ;I
anim = 3350
ctrl = 0
velset = 0,0
sprpriority = 1
;poweradd = cond(var(53)>0,0,-1000)

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,0,-1000)

[State 0, Sanity VarAdd]
type = VarAdd
triggerall = var(53)>0
trigger1 = !time
var(58) = -700
;----------------------------

;Reset Dash Elbow weak variable
[State 3110, VarSet]
type = VarSet
trigger1 = !Time
var(3) = 0

[State 3300, push enemy]
type = Width
trigger1 = 1
value = 60,0

[State 3300, SuperMove Checker Disable Sanity mode]
type = VarSet
triggerall = var(43)=2
trigger1 = time = 0
var(53) = 0
ignorehitpause = 1

[State 3300, SuperMove Checker]
type = VarSet
trigger1 = Time = 1
var(43) = 2
ignorehitpause = 1
;persistent =

[State 3300, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 5
flag = noBG
flag2 = noFG

[State 3300, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 3300, voice]   ;"Begone/Out of my face!"
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time ;time = 5
value = 3300,5+random%2
channel = 0
volume = 300

[State 3300, voice]   ;"I'll destroy you/Eat This!"
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = !time ;time = 5
value = 3300,20+random%2
channel = 0
volume = 300

[State 3300, superpause]
type = superpause
trigger1 = time = 5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
darken = 0
movetime = 40
sound = s2000,0

[State 3300, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -110,17 ;-120,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0


[State 3300, Superpause charge sound]
type = null ;PlaySnd
trigger1 = time = 5
value = 2350,0  ;LV 2

[State 3300, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45 ;35 ;30
color=0
mul=0,0,0

[State 3300, Hand Overlay]
type = Explod
triggerall = !NumExplod(3351)
;trigger1 = AnimElemTime(2)=0
trigger1 = time = 5
anim = 3351
id = 3351
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 6
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3300, PB Ball Charge]
type = Explod
triggerall = !NumExplod(3301)
trigger1 = time = 6
anim = 3301
id = 3301
pos = 0,-87 ;-30,-70
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3300, PB Ball charge sound]
type = PlaySnd
trigger1 = time = 6
value = 3300,0
channel = 5

[State 3300, ChangeState]
type = ChangeState
trigger1 = time =  45 ;18
value = 3351
ctrl = 0

;-----------------------------------
;[MAJIN]

;AIR PHOTON BOMBER LV1 RELEASE
[Statedef 3351]
type = A
physics = A
movetype = A
anim = 3352
ctrl = 0
velset = 0,0
sprpriority = 15

[State 3301, StopSnd]
type = StopSnd
trigger1 = !time
channel = 5

[State 3301, push enemy]
type = Width
trigger1 = 1
value = 60,0

[State 3301, RemoveExplod Charge Ball]
type = RemoveExplod
trigger1 =  !time
id =   3301

[State 3301, RemoveExplod Hand]
type = RemoveExplod
trigger1 =  !time
id =   3351

[State 3301, Photon Bomber]
type = helper
;triggerall = !NumHelper(3302)
trigger1 = !time ;AnimElemTime(3)=0
helpertype = normal
stateno = 3362
ID = 3302
name = "Air Photon Bomber"
postype = p1
pos = 93, -25 ;93, -54 ;85, -64
ownpal = 1


[State 3301, release Sound]
type = PlaySnd
trigger1 = AnimElemTime(3)=0
value = 2000,2
channel = -1 ;7


[State 3301, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 2120
ctrl = 0



;===========================================================================
; <<<<< BIG BANG LV2 ATTACK >>>>>
; State beginning : 3320
; State charge : 3321
; Big Bang Shield: 33210
; Big Bang Shield Respawn : 33211  (used for tracking shield HitPoints)
; Big Bang Shield Vanish: 33212
; State Big Bang launch : 3322
; State No Big Bang launch (failure) : 3223
; State Big Bang Recovery : 3224
; Big Bang ProjHelper : 3331
; Big Bang ProjHelper Respawn : 33310  (used for tracking proj HitPoints)
; Big Bang ProjHelper Vanish: 3332
; Big Bang ProjHelper Detonation: 3325
;===========================================================================

;[MAJIN]

;BIG BANG ATTACK
[Statedef 3320]
type = S
movetype = A
physics = S
anim = 3320
ctrl = 0
velset = 0,0
sprpriority = 1
;poweradd = cond(var(53)>0,-1000,-2000)

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,0,-1000)

[State 0, Sanity VarAdd]
type = VarAdd
triggerall = var(53)>0
trigger1 = !time
var(58) = -700
;----------------------------

;Reset Dash Elbow weak variable
[State 3110, VarSet]
type = VarSet
trigger1 = !Time = 0
var(3) = 0

[State 3320, SuperMove Checker Disable Sanity mode]
type = VarSet
triggerall = var(43)=5
trigger1 = time = 0
var(53) = 0
ignorehitpause = 1

[State 3320, SuperMove Checker]
type = VarSet
trigger1 = Time = 1
var(43) = 5
ignorehitpause = 1
;persistent =

[State 3320, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 5
flag = noBG
flag2 = noFG

[State 3320, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 3320, superpause]
type = superpause
trigger1 = time = 5
time = 34 ;40
p2defmul = 1
unhittable = 1
anim = -1
darken = 0

[State 3320, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2003 ;2440
id = 2440
pos = -45,33 ;-125,20 ;67,-77
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0



[State 3320, Superpause charge sound]
type = PlaySnd
trigger1 = time = 5
value = 2350,0

[State 3320, Big Bang Attack!]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5
value = 3330,2+random%5
channel = 0

[State 3320, Big Bang Attack!]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = time = 5
value = 3330,20
channel = 0

[State -2, BB Talking Mouth]
type = Explod
triggerall = !NumExplod(3326)
trigger1 = time = 5
anim = 3326
id = 3326
pos = 2,0 ;-1,1
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3320, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45 ;35 ;30
color=0
mul=0,0,0

[State 3320, push enemy]
type = Width
trigger1 = 1
value = 60,0

[State 3320, Reset BB lifepoints]
type = VarSet
trigger1 = !time
var(35) = 0

[State 3320, Reset BB hits]
type = VarSet
trigger1 = !time
var(36) = 0

[State 3320, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 3321
ctrl = 0

;-----------------------------------
;[MAJIN]

; BIGBANG CHARGE
[Statedef 3321]
type = S
movetype = A
physics = S
anim = 3321
ctrl = 0
velset = 0,0
sprpriority = 1

[State 3321, push enemy]
type = Width
trigger1 = 1
value = 60,0

[State 3321, AssertSpecial]
type = AssertSpecial
trigger1 = Time<28
flag = noBG
flag2 = noFG

[State 3320, nhb]
type = nothitby
trigger1 = Time<28
value = SCA

[State 3321, Charge Variable]
type = VarSet
trigger1 = !time
var(4) = 1 ;2

[State 3321, Charge Variable]
type = VarAdd
triggerall = power>0
triggerall = time>28 ;time>0
triggerall = (Time%50) = 28 ;0
triggerall = var(4)<5 ;limit charging up to 4
trigger1 = (command = "holdx") || (command = "holdy") || (command = "holdz")
trigger2 = AILevel>0
var(4) = 1

[State 0, PowerAdd]
type = PowerAdd
triggerall = power>0
triggerall = time>28 ;time>0
triggerall = var(4)<=5 ;limit charging up to 4
trigger1 = (command = "holdx") || (command = "holdy") || (command = "holdz")
trigger2 = AILevel>0
value = -10
ignorehitpause = 1
;persistent =

[State 3321, shake]
type = EnvShake
trigger1 = (Time%10) = 0
time = 10
freq = 0+10*var(4)
ampl = var(4)

[State 3321, Charging Sound 1]
type = PlaySnd
trigger1 = !time
value = 8,0
volumescale = 20
loop = 1
channel = 5
[State 3321, BB level up 2]
type = PlaySnd
trigger1 = var(4)=2
value = 2000,0
volumescale = 40
channel = -1 ;5
persistent = 0
[State 3321, Charging Sound 2]
type = PlaySnd
trigger1 = var(4)=2
value = 8,0
volumescale = 40
loop = 1
channel = 5
persistent = 0
[State 3321, BB level up 3]
type = PlaySnd
trigger1 = var(4)=3
value = 2000,0
volumescale = 60
channel = -1 ;5
persistent = 0
[State 3321, Charging Sound 3]
type = PlaySnd
trigger1 = var(4)=3
value = 8,0
volumescale = 60
loop = 1
channel = 5
persistent = 0
[State 3321, BB level up 4]
type = PlaySnd
trigger1 = var(4)=4
value = 2000,0
volumescale = 80
channel = -1 ;5
persistent = 0
[State 3321, Charging Sound 4]
type = PlaySnd
trigger1 = var(4)=4
value = 8,0
volumescale = 80
loop = 1
channel = 5
persistent = 0
[State 3321, BB level up 5]
type = PlaySnd
trigger1 = var(4)=5
value = 2000,0
volumescale = 100
channel = -1 ;5
persistent = 0
[State 3321, Charging Sound 5]
type = PlaySnd
trigger1 = var(4)=5
value = 8,0
volumescale = 100
loop = 1
channel = 5
persistent = 0

[State 3321, Big Bang Charge Ball Shield]
type = helper
triggerall = !NumHelper(33210)
trigger1 = !time
helpertype = normal
stateno = 33210
ID = 33210
name = "BB Shield"
postype = p1
pos = 65, -77
ownpal = 1

[State 3321, Charge lightning]
type = Explod
triggerall = time>28
;trigger1 = !time && !NumExplod(33211)
trigger1 = !NumExplod(33210 + floor(var(4)/2.0))
anim = (33210 + floor(var(4)/2.0))
ID = (33210 + floor(var(4)/2.0))
pos = 30, -75
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2 ;-1
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1

[State 3321, Charge smoke]
type = Explod
trigger1 = !time && !NumExplod(17100)
anim = 17100
ID = 17100
pos = 60, 0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = -2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1


[State 3321, Trans lightning]
type = ModifyExplod
triggerall = var(2)=0
trigger1 = NumExplod(33209 + var(4))
ID = 33209 + var(4)
pos = 30, -75
postype = p1
trans = none

[State 3321, Trans lightning]
type = ModifyExplod
triggerall = var(2)=1
trigger1 = NumExplod(33209 + var(4))
ID = 33209 + var(4)
pos = 30, -75
postype = p1
trans = addalpha
alpha = 200,128

[State 3321, ModifyExplod Smoke]
type = ModifyExplod
trigger1 = NumHelper(33210)
trigger1 = NumExplod(17100)
ID = 17100
scale = 1,1
pos = -7+floor(abs(Helper(33210),rootdist X)),0 ;51+9*var(4),0
postype = p1
trans = none

[State 33210, HitOverride] ;Release BB if hit
type = HitOverride
;trigger1 = 1
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3326
attr = SCA, NA, SA, HA, NT, ST, HT, NP, SP, HP
ignorehitpause = 1

[State 3321, ChangeState]     ;BB alive, release
type = ChangeState
;triggerall = NumHelper(33210)
triggerall = Time >28
trigger1 = power<10 ;release if no power
;trigger1 = (command = "hold_x") || (command = "hold_y") || (command = "hold_z")
trigger2 = (command != "holdx") && (command != "holdy") && (command != "holdz")
trigger3 = AILevel>0 && (random<10 || time>300);inguarddist && (enemynear,Movetype=A)
;trigger1 = var(4) >= 100 ;debug - auto release after some time
value = 3322
ctrl = 0

[State 3321, ChangeState]     ;BB destroyed, no release
type = ChangeState
triggerall = Time >28
trigger1 = !NumHelper(33210)
;trigger2 = var(35) = 21
trigger2 = NumHelper(33210)
trigger2 = Helper(33210),stateno=33212
value = 3323
ctrl = 0

;-----------------------------------
;[MAJIN]

;BIGBANG RELEASE
[Statedef 3322]
type = S
movetype = A
physics = S
anim = 3322
ctrl = 0
velset = 0,0
sprpriority = 1

[State 3322, StopSnd]
type = StopSnd
trigger1 = !time
channel = 5

[State 3322, RemoveExplod smoke]
type = RemoveExplod
trigger1 =  !time
id =   17100

[State 3322, Smoke]
type = Explod
trigger1 = !time && !NumExplod(1207)
anim = 1207
ID = 1207
pos = -40,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = 1 ;-1
scale = 1,1
removeongethit = 1

[State 3322, hand backfire]
type = Explod
triggerall = NumHelper(33210)
trigger1 = !time && !NumExplod(33221)
anim = 33221
ID = 33221
pos = 54, -77
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1


[State 3322, release Sound]
type = PlaySnd
trigger1 = !time
value = 1100,0
channel = -1 ;7

[State 3320, voice release]
type = null ;PlaySnd
trigger1 = time = 1
value = 3330,3+random%4
channel = 0

[State 3320, voice release]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = time = 1
value = 3330,21
channel = 0

[State 3322, ChangeState]
type = ChangeState
trigger1 = Time = 40 ;Time=90 ;120 ;time = 39
value = 3324
ctrl = 0

;-----------------------------------
;[MAJIN]

;BIGBANG NO RELEASE (FAILURE)
[Statedef 3323]
type = S
movetype = I
physics = S
anim = 3322
ctrl = 0
velset = 0,0
sprpriority = 1

[State 3323, StopSnd]
type = StopSnd
trigger1 = !time
channel = 5

[State 3323, RemoveExplod smoke]
type = RemoveExplod
trigger1 =  !time
id =   17100

[State 3323, Smoke]
type = Explod
trigger1 = !time && !NumExplod(1207)
anim = 1207
ID = 1207
pos = -40,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1


[State 3323, ChangeState] ;No Detonation
type = ChangeState
trigger1 = Time=21 ;!animtime
value = 3324
ctrl = 0

;-----------------------------------
;[MAJIN]

;BIGBANG RECOVERY
[Statedef 3324]
type = S
movetype = I
physics = S
anim = 3324
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, ChangeAnim]  ;shorter recovery if not launch
type = ChangeAnim
trigger1 = PrevStateNo=3323
trigger1 = !time
value = 33241


[State 3324, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;[MAJIN]

;BIG BANG DETONATION
[Statedef 3325]
type = S
movetype = I
physics = S
anim = 3325
ctrl = 0
velset = 0,0
sprpriority = 1

[State 3325, Bang!!]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 3010,random%3
channel = 0

[State 241, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 2800,5
channel = 0

[State 241, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 1003,0
channel = 0


[State 3325, SND]
type = playsnd
trigger1 = AnimElemTime(2)=0
value = 2875,0

[State 3324, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-----------------------------------
;[MAJIN]

;BB RELEASE IF HIT
[Statedef 3326]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = cond((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 3322, StopSnd]
type = StopSnd
trigger1 = !time
channel = 5

[State 3322, RemoveExplod ball]
type = RemoveExplod
trigger1 =  !time
id =   3330

[State 3322, RemoveExplod lightning 2]
type = RemoveExplod
trigger1 =  !time
id =   33211

[State 3322, RemoveExplod lightning 3]
type = RemoveExplod
trigger1 =  !time
id =   33212

[State 3322, RemoveExplod lightning 4]
type = RemoveExplod
trigger1 =  !time
id =   33213

[State 3322, RemoveExplod smoke]
type = RemoveExplod
trigger1 =  !time
id =   17100

[State 3322, Smoke]
type = Explod
trigger1 = !time && !NumExplod(1207)
anim = 1207
ID = 1207
pos = -40,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1

[State 3322, hand backfire]
type = null ;Explod
trigger1 = !time && !NumExplod(33221)
anim = 33221
ID = 33221
pos = 54, -77
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1

[State 3322, Big Bang]
type = null;helper
triggerall = !NumHelper(3331)
trigger1 = !time
helpertype = normal
stateno = 3331
ID = 3331
name = "BB Ball Auto"
postype = p1
pos = 56+9*var(4), -77
ownpal = 1
size.xscale = 0.25*var(4)
size.yscale = 0.25*var(4)

[State 3322, release Sound]
type = PlaySnd
trigger1 = !time
value = 1100,0
channel = -1 ;7

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;Stand get-hit (knocked back)

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030


;===========================================================================
; <<<<< MACHINE GUN TANTRUM >>>>>
; state = 3400
; helper = 3410
;===========================================================================

;[MAJIN]

;MACHINE GUN TANTRUM
[Statedef 3400]
type    = S
movetype= A
physics = N
juggle  = 7
velset = 0,0
anim = 3400
ctrl = 0
sprpriority = 2
;poweradd = cond(var(53)>0,0,-1000)

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,0,-1000)

[State 0, Sanity VarAdd]
type = VarAdd
triggerall = var(53)>0
trigger1 = !time
var(58) = -700
;----------------------------

;Reset Dash Elbow weak variable
[State 3110, VarSet]
type = VarSet
trigger1 = !Time = 0
var(3) = 0


[State 3000, width]
type = width
trigger1 = 1
value = 30,0

[State 3400, SuperMove Checker Disable Sanity mode]
type = VarSet
triggerall = var(43)=3
trigger1 = time = 0
var(53) = 0
ignorehitpause = 1

[State 3400, SuperMove Checker]
type = VarSet
trigger1 = Time = 1
var(43) = 3
ignorehitpause = 1
;persistent =

[State 3400, AssertSpecial]
type = AssertSpecial
trigger1 = time = 5
flag = noBG
flag2 = noFG

[State 3400, superpause]
type = superpause
trigger1 = time = 5
time = 40
movetime = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0

[State 3400, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(25) < 0
time = 1
value = SCA

[State 3400, Tantrum Overlay]
type = Explod
trigger1 = time = 4
anim = 3433
id = 3433
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 40
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3400, Hyper Charge FX 1]
type = Explod
trigger1 = time = 5
anim = 2003 ;3431
id = 2003 ;3431
pos = -115, 43 ;-7, -65
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 3400, Hyper Charge FX 2]
type = Explod
trigger1 = time = 5
anim = 2003 ;3432
id = 2003 ;3432
pos = -93, 41 ;15, -67
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 3400, Calling my attack]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time=5
value = 3400,random%2
channel = 0
volume = 300

[State 3400, "Ratatata" voice]
type = null ;PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelemtime(25)=0 ;!time
value = 1450,0
channel = 0
volume = 300

[State 3400, "Take This" voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelemtime(25)=0 ;!time
value = 1451,0
channel = 0
volume = 300

[State 3400, "Hyaaa" voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelemtime(25)=0 ;!time
value = 1452,0
channel = 0
volume = 300

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet] ;QCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;QCF+2P
triggerall = statetype!=A
type = VarSet
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;AIR QCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;2xQCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;AIR 2xQCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;2xQCF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;AIR 2xQCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;DP+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR DP+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;DP+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;AIR DP+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;QCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;AIR 2xQCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;DP+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR DP+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;DP+2K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;AIR DP+2K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;FF+SK
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064)))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;AIR FF+SK
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90001016),NumExplod(90001064))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;QCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;QCB+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;AIR QCB+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;2xQCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;AIR 2xQCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;QCBF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;AIR QCBF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;QCBF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;AIR QCBF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;QCBF+3P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;AIR QCBF+3P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;QCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;AIR 2xQCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;QCBF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28
[State 800, VarSet] ;AIR QCBF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28


[State 3400, VarSet]
type = VarSet
triggerall = AILevel>0 && time > 5 && numenemy && movehit
trigger1 = power>=1000 && random<100
trigger1 = (enemynear,stateno != [120, 155]) && enemynear,statetype != L
var(3) = 1+random%2
[State 3400, VarSet]
type = VarSet
trigger1 = AILevel>0 && time > 5 && numenemy && movehit && random<500
trigger1 = (enemynear,stateno != [120, 155]) && enemynear,statetype != L
var(3) = 4
[State 3400, VarSet]
type = VarSet
triggerall = (p2bodydist x=[10,60])
trigger1 = AILevel>0 && time > 5 && numenemy && movehit && random<500
trigger1 = (enemynear,stateno != [120, 155]) && enemynear,statetype != L
var(3) = 5
[State 3400, VarSet] ;Big Bang
type = VarSet
triggerall = AILevel>0 && time > 5 && numenemy && movehit
;trigger1 = cond(var(53),power>=1000&&power<=2000,power>=2000)&&random<100
trigger1 = (power>=1000 || var(53)>0) &&random<100
trigger1 = (enemynear,stateno != [120, 155]) && enemynear,statetype != L
var(3) = 9

[State 3400, gethit gut ?]
type = VarSet
trigger1 = animelemtime(30)=0
trigger2 = animelemtime(40)=0
trigger3 = animelemtime(50)=0
trigger4 = animelemtime(60)=0
trigger5 = animelemtime(70)=0
trigger6 = animelemtime(80)=0
var(14) = 1
[State 3400, gethit gut ?]
type = VarSet
trigger1 = animelemtime(25)=0
trigger2 = animelemtime(35)=0
trigger3 = animelemtime(45)=0
trigger4 = animelemtime(55)=0
trigger5 = animelemtime(65)=0
trigger6 = animelemtime(75)=0
var(14) = 0

[state 3400, Smoke FX]
type = explod
trigger1 = animelemtime(25)=0
trigger2 = animelemtime(30)=0
trigger3 = animelemtime(35)=0
trigger4 = animelemtime(40)=0
trigger5 = animelemtime(45)=0
trigger6 = animelemtime(50)=0
anim = 1206+(var(2)=0)
id = 1206
pos = -25,3
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
ignorehitpause = 1
scale = .7,.7

[state 3400, Flash FX]
type = null ;explod
trigger1 = animelemtime(25)=0
trigger2 = animelemtime(35)=0
trigger3 = animelemtime(45)=0
trigger4 = animelemtime(55)=0
trigger5 = animelemtime(65)=0
trigger6 = animelemtime(75)=0
anim = 1401
id = 1401
pos = 0,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = 4
ignorehitpause = 0
removeongethit = 1

[state 3400, Flash FX 2]
type = null ;explod
trigger1 = animelemtime(30)=0
trigger2 = animelemtime(40)=0
trigger3 = animelemtime(50)=0
trigger4 = animelemtime(60)=0
trigger5 = animelemtime(70)=0
trigger6 = animelemtime(80)=0
anim = 1402
id = 1402
pos = 0,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = 4
ignorehitpause = 0
removeongethit = 1

[State 3400, 1]
type = PlaySnd
trigger1 = animelemtime(25)=0
trigger2 = animelemtime(30)=0
trigger3 = animelemtime(35)=0
trigger4 = animelemtime(40)=0
trigger5 = animelemtime(45)=0
trigger6 = animelemtime(50)=0
trigger7 = animelemtime(55)=0
trigger8 = animelemtime(60)=0
trigger9 = animelemtime(65)=0
trigger10 = animelemtime(70)=0
trigger11 = animelemtime(75)=0
trigger12 = animelemtime(80)=0
value = 10,0

[State 3400, helper]
type = Helper
helpertype = normal
trigger1 = animelemtime(25)=0
trigger2 = animelemtime(35)=0
trigger3 = animelemtime(45)=0
trigger4 = animelemtime(55)=0
trigger5 = animelemtime(65)=0
trigger6 = animelemtime(75)=0
name = "tantrum1"
postype = P1
pos = 50,-63
ownpal = 1
stateno = 3410
id = 3410

[State 3400, helper]
type = Helper
helpertype = normal
trigger1 = animelemtime(30)=0
trigger2 = animelemtime(40)=0
trigger3 = animelemtime(50)=0
trigger4 = animelemtime(60)=0
trigger5 = animelemtime(70)=0
trigger6 = animelemtime(80)=0
name = "tantrum2"
postype = P1
pos = 50,-58
ownpal = 1
stateno = 3410
id = 3410

[State 3400, Big Bang Attack]
type = ChangeState
triggerall = !NumHelper(33210)
triggerall = !NumProjID(3335)
triggerall = roundstate = 2
triggerall = Var(3) = 9
triggerall = AnimElemTime(51)>=4
trigger1 = power>=1000 || var(53)>0
value = 3320
ctrl = 0


[State 3400, Relax]
type = statetypeset
trigger1 = animelem = 82
movetype = I

[State 3400, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===========================================================================
; <<<<< AERIAL MACHINE GUN TANTRUM >>>>>
; AIR MGT state = 3430
; AIR MGT helper = 3431
;===========================================================================

;[MAJIN]

;AIR MACHINE GUN TANTRUM
[Statedef 3430]
type = A
physics = N
movetype = A
anim = 3430
ctrl = 0
sprpriority = 2
;velset = 0,0
;poweradd = cond(var(53)>0,0,-1000)

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,0,-1000)

[State 0, Sanity VarAdd]
type = VarAdd
triggerall = var(53)>0
trigger1 = !time
var(58) = -700
;----------------------------

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet]
type = VarSet
trigger1 = time > 5
;trigger1 = command = "FF"
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064)))
var(3) = 1
persistent = 0
[State 800, VarSet]
type = VarSet
trigger1 = time > 5
;trigger1 = command = "BB"
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016)))
var(3) = 2
persistent = 0

[State 3430, AssertSpecial]
type = AssertSpecial
trigger1 = time = 5
flag = noBG
flag2 = noFG

[State 3430, superpause]
type = superpause
trigger1 = time = 5
time = 40 ;25
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0

[State 3430, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45 ;30
color=0
mul=0,0,0

[State 3000, nhb]
type = nothitby
trigger1 = animelemtime(3) < 0
time = 1
value = SCA

[State 3430, Hyper Charge FX 1]
type = Explod
trigger1 = time = 5
anim = 2003 ;3431
id = 2003 ;3431
pos = -132, 43 ;-23, -65
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 3430 Hyper Charge FX 2]
type = Explod
trigger1 = time = 5
anim = 2003 ;3432
id = 2003 ;3432
pos = -78, 41 ;33, -67
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 3400, Calling my attack]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time = 5 ;AnimElemtime(3)=0 ;!time
value = 3400,random%2
channel = -1 ;0
volume = 300

[State 3430, "Ratatata" voice]
type = null ;PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = AnimElemtime(3)=0 ;!time
value = 1450,0
channel = 0
volume = 300

[State 3430, "Take This" voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = AnimElemtime(3)=0 ;!time
value = 1451,0
channel = 0
volume = 300

[State 3430, "Hyaaa" voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = AnimElemtime(3)=0 ;!time
value = 1452,0
channel = 0
volume = 300

[State 0, VelSet] ;stomp kick
type = VelSet
triggerall = prevstateno=3001
trigger1 = !time
x = 8
y = -8
ignorehitpause = 1
;persistent =

[State 3430, save vel]
type = varset
;triggerall = prevstateno!=3001
trigger1 = !time
fvar(4) = vel X

[State 3430, 1]
type = PlaySnd
trigger1 = AnimElemtime(3)=0
trigger2 = AnimElemtime(10)=0
trigger3 = AnimElemtime(17)=0
trigger4 = AnimElemtime(24)=0
trigger5 = AnimElemtime(31)=0
trigger6 = AnimElemtime(38)=0
trigger7 = AnimElemtime(45)=0
trigger8 = AnimElemtime(52)=0
trigger9 = AnimElemtime(59)=0
trigger10 = AnimElemtime(66)=0
trigger11 = AnimElemtime(73)=0
trigger12 = AnimElemtime(80)=0
value = 10,0

[State 3430, Flash 1]
type = null ;explod
trigger1 = AnimElemtime(3)=0
trigger2 = AnimElemtime(17)=0
trigger3 = AnimElemtime(31)=0
trigger4 = AnimElemtime(45)=0
trigger5 = AnimElemtime(59)=0
trigger6 = AnimElemtime(73)=0
anim = 2621
sprpriority = 5
postype = p1
pos = 0,0
removetime = 2
ownpal = 1
bindtime = -1
ignorehitpause = 0
removeongethit = 1

[State 3430, Flash 2]
type = null ;explod
trigger1 = AnimElemtime(10)=0
trigger2 = AnimElemtime(24)=0
trigger3 = AnimElemtime(38)=0
trigger4 = AnimElemtime(52)=0
trigger5 = AnimElemtime(66)=0
trigger6 = AnimElemtime(80)=0
anim = 2622
sprpriority = 5
postype = p1
pos = 0,0
removetime = 2
ownpal = 1
bindtime = -1
ignorehitpause = 0
removeongethit = 1

[State 3430, helper]
type = helper
trigger1 = AnimElemtime(3)=0
trigger2 = AnimElemtime(17)=0
trigger3 = AnimElemtime(31)=0
trigger4 = AnimElemtime(45)=0
trigger5 = AnimElemtime(59)=0
trigger6 = AnimElemtime(73)=0
helpertype = normal
stateno = 3431
ID = 1721
name = "air mgt 1"
postype = p1
pos = 10,-40
ownpal = 1

[State 3430, helper]
type = helper
trigger1 = AnimElemtime(10)=0
trigger2 = AnimElemtime(24)=0
trigger3 = AnimElemtime(38)=0
trigger4 = AnimElemtime(52)=0
trigger5 = AnimElemtime(66)=0
trigger6 = AnimElemtime(80)=0
helpertype = normal
stateno = 3431
ID = 3431
name = "air mgt 2"
postype = p1
pos = -10,-40
ownpal = 1

[State 3430, 4]; Rebound in air no Stomp
type = VelSet
triggerall = prevstateno!=3001
trigger1 = AnimElemtime(3)=0
trigger2 = AnimElemtime(10)=0
trigger3 = AnimElemtime(17)=0
trigger4 = AnimElemtime(24)=0
trigger5 = AnimElemtime(31)=0
trigger6 = AnimElemtime(38)=0
trigger7 = AnimElemtime(45)=0
trigger8 = AnimElemtime(52)=0
trigger9 = AnimElemtime(59)=0
trigger10 = AnimElemtime(66)=0
trigger11 = AnimElemtime(73)=0
trigger12 = AnimElemtime(80)=0
;x = cond(fvar(4)<4, fvar(4), 4)
x = cond(var(15)=1,0,cond(fvar(4)<4, fvar(4)/4.0, 1))
y = const(velocity.jump.y)/20.0
;y = const(velocity.jump.y)/7.0

[State 3430, 4]; Rebound in air Stomp
type = VelSet
triggerall = prevstateno=3001
trigger1 = AnimElemtime(3)=0
trigger2 = AnimElemtime(10)=0
trigger3 = AnimElemtime(17)=0
trigger4 = AnimElemtime(24)=0
trigger5 = AnimElemtime(31)=0
trigger6 = AnimElemtime(38)=0
trigger7 = AnimElemtime(45)=0
trigger8 = AnimElemtime(52)=0
trigger9 = AnimElemtime(59)=0
trigger10 = AnimElemtime(66)=0
trigger11 = AnimElemtime(73)=0
trigger12 = AnimElemtime(80)=0
;x = cond(fvar(4)<4, fvar(4), 4)
x = 1
y = const(velocity.jump.y)/20.0
;y = const(velocity.jump.y)/7.0

[State 3430, sts]
type = statetypeset
trigger1 = animelemtime(81)>=0
physics = A

[State 3430, reset var]
type = varset
trigger1 = !animtime
var(15) = 0

[State 3302, Helper Limiter]
type = Helper
triggerall = !NumHelper(9994)
trigger1 = !animtime
helpertype = normal
name = "Limiter"
ID = 9994
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 3430, end] ;FF
type = changestate
triggerall = var(3)=1
trigger1 = !animtime
value = 111
ctrl = 0

[State 3430, end] ;BB
type = changestate
triggerall = var(3)=2
trigger1 = !animtime
value = 115
ctrl = 0

[State 3430, end]  ;Neutral
type = changestate
triggerall = var(3)=0
trigger1 = !animtime
value = 2120
ctrl = 0

;-------------------------------------------------------------------------------
;[MAJIN]

;Royal Edict 1 (Dash Punch)
[Statedef 3550]
type = S
movetype = A
physics = S
anim = 3550
ctrl = 0
velset = 0,0
;poweradd = cond(var(53)>0,0,-1000)
sprpriority = 3
juggle = 0 ;7

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,0,-1000)

[State 0, Sanity VarAdd]
type = VarAdd
triggerall = var(53)>0
trigger1 = !time
var(58) = -700
;----------------------------

[State 3550, SuperMove Checker Disable Sanity mode]
type = VarSet
triggerall = var(43)=4
trigger1 = time = 0
var(53) = 0
ignorehitpause = 1

[State 3550, SuperMove Checker]
type = VarSet
trigger1 = Time = 1
var(43) = 4
ignorehitpause = 1
;persistent =


[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet] ;QCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;QCF+2P
triggerall = statetype!=A
type = VarSet
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;AIR QCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;2xQCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;AIR 2xQCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;2xQCF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;AIR 2xQCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;DP+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR DP+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;DP+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;AIR DP+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;QCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;AIR 2xQCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;DP+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR DP+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;DP+2K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;AIR DP+2K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;FF+SK
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064)))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;AIR FF+SK
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90001016),NumExplod(90001064))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;QCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;QCB+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;AIR QCB+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;2xQCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;AIR 2xQCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;QCBF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;AIR QCBF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;QCBF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;AIR QCBF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;QCBF+3P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;AIR QCBF+3P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;QCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;AIR 2xQCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;QCBF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28
[State 800, VarSet] ;AIR QCBF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28

;[State 3100, VarSet]
;type = VarSet
;trigger1 = Time = 0
;var(15) = cond(Command = "2qcfa", 1, cond(Command = "2qcfb", 2, 3))


[State 3550, AssertSpecial]
type = AssertSpecial
trigger1 = time = 5
flag = noBG
flag2 = noFG

[State 3550, superpause]
type = superpause
trigger1 = time = 5
time = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0

[State 3550, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 3550, nhb]
type = nothitby
trigger1 = animelemtime(5) < 0
time = 1
value = SCA

[State 3550, RE Overlay]
type = Explod
trigger1 = time = 5
anim = 35501
id = 35501
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 41 ;42
sprpriority = 6
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0


[State 3550, Hyper Charge FX]
type = Null ;Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = 20,-57
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0

[State 0, Super FX]
type = Explod
trigger1 = time = 5
anim = 2003
id = 2003
pos = -92,50 ;-142,43
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0


[State 3550, voice snd]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=2 && random<500
value = 3,22+random%5
channel = 0
volume = 300

[State 3550, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 3550, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<500
value = 3,70+random%2
channel = 0
volume = 300


[State 3550, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(3)=0
x = 25

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(3)=0
x = 2*var(15)

[State 3550, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(5)=0
x = 10

[State 3550, 1]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 2

[State 3550, 3]  ;dirty hack
type = HitDef
trigger1 = AnimElem = 6
attr = S, HT
animtype  = light
damage    = 0,0
priority  = 4,Hit
guardflag = MA
hitflag = MAF
pausetime = 0, 5 ;0,10
sparkno = -1
guard.sparkno = -1
;sparkxy = -20,-65
hitsound   = -1
guardsound = -1
ground.type = low
air.type = low
ground.slidetime = 0
ground.hittime  = 0 ;15
ground.velocity = 0,0 ;-7.8,0
guard.velocity = 0 ;-7.5
air.velocity = 0,0 ;-5.8,-3
airguard.velocity = 0,0 ;-5, -4
envshake.time = 0
envshake.ampl = 0
envshake.freq = 0
fall.envshake.time = 0
fall.envshake.ampl = 0
fall.envshake.freq = 0
;yaccel = 0 ;<-- causes bugs in state 5050,vans "fix"
yaccel = Cond(enemynear(0),statetype=A,0.35,0)
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0  ;cond(p2movetype=H,40,140), 10
givepower = 0,0
kill = 0
numhits = 0

[State 3550, 3]
type = HitDef
trigger1 = AnimElem = 8
attr = S, HA
animtype  = hard
;damage    = 35,3
;damage = ceil(cond(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 3
damage = ceil(cond(fvar(11) * 35 < 10, 10, fvar(11) * 35)), 3
priority  = 4,Hit
guardflag = MA
hitflag = MAF
pausetime = 20, 20 ;0,10
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-65
hitsound   = s3500,5
guardsound = S6,1
ground.type = low
air.type = low
ground.slidetime = 15
ground.hittime  = 18 ;15
ground.velocity = 3,0 ;-7.8,0
guard.velocity = 3 ;-7.5
air.velocity = 3,-3 ;-5.8,-3
airguard.velocity = 3,-3 ;-5, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0  ;cond(p2movetype=H,40,140), 10
givepower = 35,35
kill = 0


[State 3550, FX spark]
type = Null ;Explod
trigger1 = Movehit
anim = 2515
id = 2515
pos = 0,-55
postype = p2
facing = -1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0
ignorehitpause = 1

[State 3321, FX lightning]
type = Explod
trigger1 = Movehit
anim = 3514
ID = 3514
pos = 0,-65 ;30, -75
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0
ignorehitpause = 1

[State 0, FX spark Helper]
type = null ;Helper
trigger1 = Movehit
helpertype = normal
name =  "FX spark"
ID =  3511
stateno =  3511
pos = 0,-55 ;30, -75
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 3550, EnvShake]
type = EnvShake
trigger1 = Movehit
time = 12
ignorehitpause = 1
persistent = 0


[State 3550, FX Snd]
type = PlaySnd
trigger1 = Movehit
value = 3500,0
channel = 5
persistent = 0
ignorehitpause = 1

[State 3552, I've got you now]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = movehit ;!time
value = 3550,random%2
channel = -1 ;0
volume = 300
ignorehitpause = 1
persistent = 0

[State 1000, Big Bang Attack]
type = ChangeState
triggerall = (power>=1000 || var(53)>0)
triggerall = !NumHelper(33210)
triggerall = !NumProjID(3335)
triggerall = var(1) = 2 ;Majin only
triggerall = roundstate = 2
triggerall = AnimElemTime(3)>=2
trigger1 = Var(3)=-5
value = 3320
ctrl = 0

[State 3550, 5]
type = ChangeState
;triggerall= movehit
trigger1 = AnimElem = 10
value = 3551
ctrl = 0

[State 3550, 5]
type = null ;ChangeState
triggerall= !movehit
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;[MAJIN]

;Royal Edict 2 (Overhead Punch)
[Statedef 3551]
type = S
movetype = A
physics = S
anim = 3551
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 3
juggle = 0 ;7

;[State 800, VarSet]
;type = VarSet
;trigger1 = !time
;var(3) = 0
[State 800, VarSet] ;QCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = (NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;QCF+2P
triggerall = statetype!=A
type = VarSet
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;AIR QCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 4
[State 800, VarSet] ;2xQCF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;AIR 2xQCF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 5
[State 800, VarSet] ;2xQCF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;AIR 2xQCF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 6
[State 800, VarSet] ;DP+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR DP+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = 10 +(NumExplod(90000200)) + 2*(NumExplod(90000210)) + 3*(NumExplod(90000220))
[State 800, VarSet] ;DP+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;AIR DP+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = 14
[State 800, VarSet] ;QCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 8
trigger1 = cond(Facing = 1, NumExplod(90010006),NumExplod(90010104))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 20 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;AIR 2xQCF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030016) || NumExplod(90030003)),(NumExplod(90030101) || NumExplod(90030114)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 25
[State 800, VarSet] ;DP+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR DP+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = 30 +(NumExplod(90000230)) + 2*(NumExplod(90000240)) + 3*(NumExplod(90000250))
[State 800, VarSet] ;DP+2K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010203)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010301)))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;AIR DP+2K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010203),NumExplod(90010301))
trigger1 = (cond(NumExplod(90000230), 1, 0) + cond(NumExplod(90000240), 1, 0) + cond(NumExplod(90000250), 1, 0) >= 2) || (cond(NumExplod(90000235), 1, 0) + cond(NumExplod(90000245), 1, 0) + cond(NumExplod(90000255), 1, 0) >= 2)
var(3) = 34
[State 800, VarSet] ;FF+SK
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064)))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;AIR FF+SK
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90001016),NumExplod(90001064))
trigger1 = NumExplod(90000250)
var(3) = 63
[State 800, VarSet] ;QCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;AIR QCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -(NumExplod(90000200)) - 2*(NumExplod(90000210)) - 3*(NumExplod(90000220))
[State 800, VarSet] ;QCB+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;AIR QCB+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -4
[State 800, VarSet] ;2xQCB+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;AIR 2xQCB+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -5
[State 800, VarSet] ;QCBF+P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;AIR QCBF+P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000200) || NumExplod(90000210) || NumExplod(90000220)
var(3) = -8
[State 800, VarSet] ;QCBF+2P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;AIR QCBF+2P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 2) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 2)
var(3) = -9
[State 800, VarSet] ;QCBF+3P
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;AIR QCBF+3P
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = (cond(NumExplod(90000200), 1, 0) + cond(NumExplod(90000210), 1, 0) + cond(NumExplod(90000220), 1, 0) >= 3) || (cond(NumExplod(90000205), 1, 0) + cond(NumExplod(90000215), 1, 0) + cond(NumExplod(90000225), 1, 0) >= 3)
var(3) = -10
[State 800, VarSet] ;QCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;AIR QCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90010104),NumExplod(90010006))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -20 -(NumExplod(90000230)) - 2*(NumExplod(90000240)) - 3*(NumExplod(90000250))
[State 800, VarSet] ;2xQCB+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;AIR 2xQCB+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, (NumExplod(90030101) || NumExplod(90030114)),(NumExplod(90030016) || NumExplod(90030003)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -25
[State 800, VarSet] ;QCBF+K
type = VarSet
triggerall = statetype!=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = ((cond(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90032506)) || (cond(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90032404)))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28
[State 800, VarSet] ;AIR QCBF+K
type = VarSet
triggerall = statetype=A
trigger1 = AILevel<=0
trigger1 = time > 5
trigger1 = cond(Facing = 1, NumExplod(90032506),NumExplod(90032404))
trigger1 = NumExplod(90000230) || NumExplod(90000240) || NumExplod(90000250)
var(3) = -28

;[State 3100, VarSet]
;type = VarSet
;trigger1 = Time = 0
;var(15) = cond(Command = "2qcfa", 1, cond(Command = "2qcfb", 2, 3))

[State 3551, snd]
type = null ;playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=2 && random<500
value = 3,22+random%5
channel = 0
volume = 300

[State 3551, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 3551, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 3551, 1]
type = PlaySnd
trigger1 = AnimElemTime(3)=0
value = 0, 2

[State 3551, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(4)=0
x = 33


[State 3551, 1]
type = HitDef
trigger1 = AnimElemTime(4)=0
attr = S, HA
;damage = 50, 5
;damage = ceil(cond(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 5
damage = ceil(cond(fvar(11) * 50 < 15, 15, fvar(11) * 50)), 5
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -10,-55
hitsound = s5,2 ;s3500,5
guardsound = S6,1
ground.type = High
ground.slidetime = 13
ground.hittime  = 25
ground.velocity = -5 ;3,0 ;-5
guard.velocity = -7 ;3 ;-7
air.velocity = -4,-4 ;3,-3 ;-4,-4
airguard.velocity = -2.5, -1.3 ;3,-3 ;-2.5, -1.3
air.type = High
air.hittime = 12
air.animtype = back
fall.recover = 0
getpower= 0,0  ;cond(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098
kill = 0

[State 3551, FX spark]
type = Null ;Explod
trigger1 = Movehit
anim = 2515
id = 2515
pos = 0,-55
postype = p2
facing = -1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0
ignorehitpause = 1

[State 3321, FX lightning]
type = Explod
trigger1 = Movehit
anim = 3512
ID = 3512
pos = 0,-55 ;30, -75
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0
ignorehitpause = 1

[State 0, FX spark Helper]
type = null ;Helper
trigger1 = Movehit
helpertype = normal
name =  "FX spark"
ID =  3511
stateno =  3511
pos = 0,-55 ;30, -75
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 3551, EnvShake]
type = EnvShake
trigger1 = Movehit
time = 12
ignorehitpause = 1
persistent = 0

[State 3551, FX Snd]
type = PlaySnd
trigger1 = Movehit
value = 3500,0
channel = 5
persistent = 0
ignorehitpause = 1

[State 3551, basics limiter]
type = helper
trigger1 = !NumHelper(15999)
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 1000, Big Bang Attack]
type = ChangeState
triggerall = (power>=1000 || var(53)>0)
triggerall = !NumHelper(33210)
triggerall = !NumProjID(3335)
triggerall = var(1) = 2 ;Majin only
triggerall = roundstate = 2
triggerall = AnimElemTime(3)>=2
trigger1 = Var(3)=-5
value = 3320
ctrl = 0

[State 3551, 5]
type = ChangeState
triggerall= movehit
trigger1 = AnimElem = 9
value = 3552
ctrl = 0

[State 3551, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;[MAJIN]

;Royal Edict 3 (Uppercut Launcher)
[Statedef 3552]
type = S
movetype = A
physics = S
anim = 3552
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 3
juggle = 0 ;7

;[State 800, VarSet]
;type = VarSet
;trigger1 = !time
;var(3) = 0

[State 3552, snd]
type = null ;playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelem=2 && random<500
value = 3,22+random%5
channel = 0
volume = 300

[State 3552, snd]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = animelem=2 && random<500
value = 4,20+random%4
channel = 0
volume = 300

[State 3552, snd]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = animelem=2 && random<500
value = 3,70+random%2
channel = 0
volume = 300

[State 3552, 1]
type = PlaySnd
trigger1 = AnimElemTime(3)=0
value = 0, 2

[State 0, Width]
type = Width
trigger1 = AnimElemTime(3)=0
value = 60,0
;ignorehitpause =
;persistent =


[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(4)=0
x = 60

[State 3552, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(5)=0
x = 33


[State 3552, 1]
type = HitDef
trigger1 = AnimElemTime(6)=0
attr = S, HA
;damage = 50, 5
;damage = ceil(cond(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 5
damage = ceil(cond(fvar(11) * 50 < 15, 15, fvar(11) * 50)), 5
animtype = Up
;guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -10,-55
hitsound = s5,2 ;s3500,5
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -1,-11.5
guard.velocity = -9
airguard.velocity = -2.5,-1.3
air.type = High
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
air.hittime = 12
air.animtype = back
fall = 1
fall.recover = 0
getpower= 0,0  ;cond(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.45
;p2stateno = 3555
ID = 1098
kill = 0

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 3555
ignorehitpause = 1
persistent = 0


[State 3552, FX spark]
type = null ;Explod
trigger1 = Movehit
anim = 2515
id = 2515
pos = 0,-55
postype = p2
facing = -1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0
ignorehitpause = 1

[State 3321, FX lightning]
type = Explod
trigger1 = Movehit
anim = 3515
ID = 3515
pos = 15,-65 ;30, -75
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0
ignorehitpause = 1

[State 0, FX spark Helper]
type = null ;Helper
trigger1 = Movehit
helpertype = normal
name =  "FX spark"
ID =  3511
stateno =  3511
pos = 0,-55 ;30, -75
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 3552, EnvShake]
type = EnvShake
trigger1 = Movehit
time = 12
ignorehitpause = 1
persistent = 0

[State 3552, FX Snd]
type = PlaySnd
trigger1 = Movehit
value = 3500,0
channel = 5
persistent = 0
ignorehitpause = 1

[State 3552, basics limiter]
type = helper
trigger1 = !NumHelper(15999)
trigger1 = movehit
helpertype = normal
stateno = 15999
ID = 15999
name = "basics"
postype = p1
pos = 0,0
ownpal = 1

[State 3552, 5]
type = ChangeState
triggerall= movehit
triggerall= enemy,Stateno=3555
trigger1 = AnimElem = 9
value = 3553
ctrl = 0

[State 3552, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;[MAJIN]

;Royal Edict 4 (Aerial Follow-up)
[Statedef 3553]
type = S
movetype = A
physics = S
anim = 3553
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 3
juggle = 0 ;7

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =


[State 3553, VelSet]
type = VelSet
trigger1 = AnimElemTime(2)=0
x = 4 ;2
y = -11.5

[State 3553, FX Snd]
type = PlaySnd
trigger1 = AnimElemTime(2)=0
value = 0,24
channel = 5
persistent = 0
ignorehitpause = 1

[State 3553, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(2)=1
statetype = A
movetype = A
physics = A


[State 3553, 5]
type = ChangeState
trigger1 = Time=20 ;AnimTime = 0
value = 3554
ctrl = 0


;-------------------------------------------------------------------------------
;[MAJIN]

;Royal Edict 5 (Aerial Kick)
[Statedef 3554]
type = A
movetype = A
physics = A
anim = 3554
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 10
juggle = 0 ;7

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
;persistent =

[State 3554, 1]
type = PlaySnd
trigger1 = AnimElemTime(2)=0
value = 0, 5

[State 3554, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, HA
;damage = 65,6
;damage = ceil(cond(fvar(11) * 65 < 7, 7, fvar(11) * 65)), 6
damage = ceil(cond(fvar(11) * 65 < 20, 20, fvar(11) * 65)), 6
hitflag = MAF
;guardflag = L
priority = 4, Hit
pausetime = 13,13
sparkno = -1 ;s7030
guard.sparkno = -1 ;s7000
sparkxy = -20,-55
hitsound   = s5, 5
guardsound = S6,2
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 0,0 ;-1,-5
guard.velocity = 0 ;-4
air.velocity = 0,0 ;cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-7)
fall = 1
fall.recover = 0
air.animtype = back
getpower= 0,0
givepower = 35,35
;envshake.time = 16
;envshake.freq = 60
;envshake.ampl = 4
yaccel = 0.5
;p2stateno = 3556
kill = 0
;p2facing = -1

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 3556
ignorehitpause = 1
persistent = 0

[state 2772, broken bone sound]
type = playsnd
trigger1 = numtarget
trigger1 = target,stateno=3556
trigger1 = target,time=0
value = 2875,0
persistent = 0

[State 3554, Hit Spark]
type = Explod
trigger1 = Movehit ;enemy,AnimElemTime(5)=5 ;AnimElemTime(12)=2
anim = 7030
id = 7030
pos = -25,-140
postype = P1
sprpriority = 9
bindtime = -1
scale = 1,1
supermovetime = -1
pausemovetime = -1
removetime = -2
ignorehitpause = 1
persistent = 0


[State 3554, Exclamation]
type = Explod
trigger1 = Movehit ;enemy,AnimElemTime(5)=5 ;AnimElemTime(12)=2
anim = 3559 ;2605
id = 3559 ;2605
pos = -23,-140
postype = p1 ;back
sprpriority = 5
bindtime = -1
scale = 1,1 ;.84, 1.07
supermovetime = -1
pausemovetime = -1
ignorehitpause = 1
persistent = 0
ontop = 1

[State 3554, Pause]
type = Pause
trigger1 = Time%3 ;2
time = 2
movetime = 2
;endcmdbuftime = 0
;pausebg = 1
;ignorehitpause =
;persistent =

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(7)=0
physics = N

[State 0, Gravity]
type = null ;Gravity
trigger1 = animelemtime(7)=0

[State 3554, 5]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3557 ;10233 ;105 ;195 ;0
ctrl = 0 ;1

;---------------------------------------------------------------------------

; Royal Edict 6 (Reverse Kick)
[Statedef 3557]
type = S
movetype = A
physics = S
anim = 35541 ;832
velset = 0,0
sprpriority = 10 ;-1

[State 832, 1]
type = screenbound
trigger1 = 1
movecamera = 1,1
value = 0

[State 832, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn


[State 832, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = AnimElemTime(1)=0
trigger2 = AnimElemTime(4)=0
value = 2302,0

[State 832, PosSet]
type = PosSet
trigger1 = AnimElemTime(3)=0
x = cond(Facing=1, (target,Pos X) + target,Const(size.head.pos.x) + 60, (target,Pos X) - target,Const(size.head.pos.x) - 60)
y = (target,Pos Y) + target,Const(size.head.pos.y) + 30

[State 832, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3)=0
statetype = A
movetype = A
physics = A

[State 832, 3];Opponent in air sent to custom bounce state
type = HitDef
trigger1 = AnimElem = 7
attr = A, NA
;damage = 55,5
;damage = ceil(cond(fvar(11) * 55 < 7, 7, fvar(11) * 55)), 5
damage = ceil(cond(fvar(11) * 55 < 15, 15, fvar(11) * 55)), 5
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 20,0 ;0 ;12
sparkno = -1 ;s7030
guard.sparkno = -1 ;s7000
sparkxy = -10,-35
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = 6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
;p2facing = -1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= cond(p2movetype=H,40,140), 35
givepower = 0,0
getpower = 0,0
yaccel = 0.35
;p2stateno = 835
;p1sprpriority = -1

[State 3020, Sparks]
type=explod
trigger1= movehit && numtarget
trigger1= (target,movetype=H) && !(target,time)
anim=7030
sprpriority=7
postype=p1
pos= -52,-36
removetime=-2
ownpal=1
facing=1
ignorehitpause=1
persistent=0
pausemovetime=100
supermovetime=100

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 835
ignorehitpause = 1
persistent = 0

[State 13100, shake]
type = envshake
trigger1 = movehit
time = 12
freq = 80
ampl = 6
ignorehitpause = 1
persistent = 0

[State 832, Turn]
type = Turn
trigger1 = !animtime

[State 832, end]
type = changestate
trigger1 = !animtime
value = 2120
ctrl = 0


;-------------------------------------------------------------------------------
;[MAJIN]

;Hit by Royal Edict (Custom State)
[Statedef 3555]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = -0.8 ;-0.5 ;-1
y = -11.5
;ignorehitpause =
;persistent =

[State 0, ChangeAnim2] ;Electro Hack
type = ChangeAnim2
;triggerall = name = "Electro Recharged"
trigger1 = !time ;time = 10
value = 3556
;elem = 1
;ignorehitpause =
;persistent =

;[State 0, ChangeAnim2]
;type = ChangeAnim2
;triggerall = name != "Electro Recharged"
;trigger1 = time = 10
;value = cond(selfanimexist(3555),3555,3556)
;elem = 1
;ignorehitpause =
;persistent =

[State 3555, VelAdd]
type = VelAdd
trigger1 = (Pos Y < 0)
y = 0.35

[State 0, ChangeAnim2]
type = ChangeAnim2
triggerall = Anim=3556 ;Anim=3555 || Anim=3556
trigger1 = vel Y > -6.5
value = 5061
elem = 1
;ignorehitpause =
;persistent =


[State 3555, ChangeState]
type = SelfState
;triggerall = time >120 ;debug
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100


;-------------------------------------------------------------------------------
;[MAJIN]

;Hit by Royal Edict Broken Back (Custom State)
[Statedef 3556]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
sprpriority = 9

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 3020, 2]
type = changeanim
triggerall = selfanimexist(5946)
trigger1 = !time
value = 5946

[State 3020, 2]
type = changeanim2
triggerall = !selfanimexist(5946)
trigger1 = !time ;&& anim !=2856
value = 3557

[State 0, PosAdd Z2] ;adjust axis
type = PosAdd
triggerall = selfanimexist(5946)
trigger1 = !time
x = 25 ;5
y = -80

[State 0, PosAdd non-Z2] ;adjust axis
type = PosAdd
triggerall = Anim = 3557
trigger1 = !time
x = 25
y = -20

[State 3020, Dirty Hack]
type = AssertSpecial
triggerall = selfanimexist(5946)
trigger1 = time <=19
flag = invisible
;ignorehitpause =
;persistent =


[State 1000, Broken Back - Arm helper]
type = null ;Helper
helpertype = normal
triggerall = SelfAnimExist(5946) && SelfAnimExist(5947)
trigger1 = !time
name = "broken_arm"
postype = P1
pos = 0,0
ownpal = 0
stateno = 355947

[State 3550, Broken Back - Body Overlay]
type = Explod
trigger1 = !time
trigger1 = selfanimexist(5946) ;Anim=5946
anim = 5946
id = 5946
pos = 0,0
postype = p1
supermovetime = 0 ;9999
pausemovetime = 0 ;9999
supermove = 1
removetime = 19 ;20
sprpriority = 9
ownpal = 1
bindtime = -1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 3550, Broken Back - Arm Underlay]
type = Explod
trigger1 = !time
trigger1 = selfanimexist(5946) ;Anim=5946
anim = 5947
id = 5947
pos = 0,0
postype = p1
supermovetime = 0 ;9999
pausemovetime = 0 ;9999
supermove = 1
removetime = 19 ;20
sprpriority = 9
ownpal = 1
bindtime = -1
scale = 1,1
ignorehitpause = 1
persistent = 0


[state 2772, out of screen]
type = null ;posset
trigger1 = !time
x = 20*facing
y = -300


[state 2772, killed sound - non Z2]
type = playsnd
;triggerall = Name!="Freeza Z2"
;triggerall = Name!="Gohan Z2"
;triggerall = Name!="Goku Z2"
;triggerall = Name!="SSJ Goku Z2"
;triggerall = name!="Vegeta Z2" || name!="Normal Vegeta Z2" || name!="Majin Vegeta Z2"
triggerall = authorname!="Team Z2"
trigger1 = !time
value = 11,0

[state 2772, killed sound - Z2]
type = playsnd
triggerall = authorname="Team Z2"
triggerall = SelfAnimExist(5939); Piccolo clones detector (Z2 flag)
trigger1 = !time
value = 11,1

;Z2 Characters
;No longer up to date
;VS Freeza Z2
[State -2, KO snd Japan]
type = null;playsnd
triggerall = Name="Freeza Z2"
triggerall = !time
trigger1 = var(55)=0		;Voice=Japan
value = 11, 1
[State -2, KO snd English]
type = null;playsnd
triggerall = Name="Freeza Z2"
triggerall = !time
trigger1 = var(55)=1		;Voice=English
value = 11, 10
;VS Gohan Z2
[State -2, KO snd Jap]
type = null;playsnd
triggerall = Name="Gohan Z2"
triggerall = !time
trigger1 = var(55)=0		;Voice=Japan
value = 5000,25
[State -2, KO snd En]
type = null;playsnd
triggerall = Name="Gohan Z2"
triggerall = !time
trigger1 = var(55)=1		;Voice=English
value = 11,10
[State -2, KO snd Holland]
type = null;playsnd
triggerall = Name="Gohan Z2"
triggerall = !time
trigger1 = var(55)=2		;Voice=Custom Corey Holland
value = 11, 20
;VS Goku Z2
[State -2, KO snd Japan]
type = null;playsnd
triggerall = Name="Goku Z2"
triggerall = !time
trigger1 = var(55)=0		;Voice=Japan
value = 11, 1
[State -2, KO snd English]
type = null;playsnd
triggerall = Name="Goku Z2"
triggerall = !time
trigger1 = var(55)=1		;Voice=English
value = 11, 10
;VS SSJ Goku Z2
[State -2, KO snd Japan]
type = null;playsnd
triggerall = Name="SSJ Goku Z2"
triggerall = !time
trigger1 = var(55)=0		;Voice=Japan
value = 11, 1
[State -2, KO snd English]
type = null;playsnd
triggerall = Name="SSJ Goku Z2"
triggerall = !time
trigger1 = var(55)=1		;Voice=English
value = 11, 10
;VS Vegeta Z2
[State -2, KO snd English]
type = null;playsnd
triggerall = name="Vegeta Z2" || name="Normal Vegeta Z2" || name="Majin Vegeta Z2"
triggerall = !time
trigger1 = var(55)=0		;Voice=English
value = 11, 1
[State -2, KO snd Japan]
type = null;playsnd
triggerall = name="Vegeta Z2" || name="Normal Vegeta Z2" || name="Majin Vegeta Z2"
triggerall = !time
trigger1 = var(55)=1		;Voice=Japan
value = 11, 10
[State -2, KO snd Sabbat]
type = null;playsnd
triggerall = name="Vegeta Z2" || name="Normal Vegeta Z2" || name="Majin Vegeta Z2"
triggerall = !time
trigger1 = var(55)=2		;Voice=Eng Sabbat
value = 11, 20
;-----------------------

[State 0, no KO SND]
type = AssertSpecial
trigger1 = !Alive && Time<100
flag = nokosnd


[State 13100, shake]
type = envshake
trigger1 = !time
time = 12
freq = 80
ampl = 6


[State 3001, screen]
type = null ;Screenbound
trigger1 = time >= 18
;trigger1 = 1
movecamera = 0,0
value = 0

[State 3555, VelAdd]
type = VelAdd
trigger1 = time <= 20
y = -0.1

[State 3555, VelAdd]
type = VelAdd
trigger1 = time > 20
x = -0.1
y = 0.35

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 20
value = 5061
elem = 3

[State 0, PosAdd]
type = PosAdd
triggerall = selfanimexist(5946)
trigger1 = Time = 20
x = -25 ;-5
y = 80

[State 3555, ChangeState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = cond(selfanimexist(5100),5100,3558)

;===========================================================================
; <<<<< SAIYAN PRIDE BEAT-DOWN >>>>>
; Start = 3700
; Launch = 3701
; Recovery = 3702
; P2 hit = 3704
; P2 hit wall bounce = 3207
;
;===========================================================================

;[MAJIN]

;SAIYAN PRIDE BEAT-DOWN
[Statedef 3700]
type    = S
movetype= A
physics = S
juggle  = 7
velset = 0,0
anim = 3700
ctrl = 0
sprpriority = 3
;poweradd = cond(var(53)>0,-2000,-3000)

;TEST
;----------------------------
[State 0, PowerAdd Majin]
type = PowerAdd
trigger1 = !time
value = cond(var(53)>0,-2000,-3000) ;I'm losing power!!!!!

;----------------------------

[State 0, reset Emo bar if not in Sanity]
type = VarSet
triggerall = var(53)=0
trigger1 = !time
var(58) = 0

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1 ;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 0, disable rage mode]
type = VarSet
triggerall = var(53)>0
trigger1 = !time
var(53) = 0

[State 800, Don't Guard]
type = attackdist
trigger1 = 1
value = 0

;Reset Dash Elbow weak variable
[State 3110, VarSet]
type = VarSet
trigger1 = !Time = 0
var(3) = 0

[State 3201, Width]
type = Width
trigger1 = 1
value = 30,20;90,20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 3200, AssertSpecial]
type = AssertSpecial
trigger1 = time = 5
flag = noBG
flag2 = noFG

[State 3200, superpause]
type = superpause
trigger1 = time = 5
time = 38 ;40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0

[State 3200, bgpalfx1]
type = bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 3200, nhb]
type = nothitby
trigger1 = time<10 ;animelemtime(3) < 0
time = 1
value = SCA


[State 3200, Hyper Charge FX]
type = Explod
trigger1 = time = 5
anim = 2440
id = 2440
pos = 64, -68 ;56,-64 ;-73
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = 38 ;-2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
persistent = 0


[State 3200, SPB charge ball]
type = Explod
trigger1 = time=6 ;10 ;AnimElemTime(5)=0
anim = 37101 ;37100
id = 3710
pos = 64, -68 ;56,-64 ;-73
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 10 ;5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3320, SPB Ball charge sound]
type = PlaySnd
trigger1 = time = 6 ;10
value = 3300,0
channel = 5


[State 0, Projectile]
type = null;Projectile
trigger1 = time>5 ;AnimElemTime(5)>0
;trigger1 = !NumExplod(3710)
trigger1 = !NumProjID(3711)
ProjID =  3711
projanim = 3711
projhitanim = 3712
;projremanim =
;projcancelanim =
projscale = 1,1
projremove = 1
projremovetime = -1
velocity = 10,0 ;2,0 ;8,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 3 ;1
projpriority = 1
projsprpriority = 5
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 64, -68 ;-73
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
supermovetime = 0
pausemovetime = 0
attr = S,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD;-        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
damage = 20,2
sparkno = -1
guard.sparkno = -1
hitsound   = s1000,0
guardsound = S6,1
p2facing = 1
p1stateno = 3701
p2stateno = 3704
id = 3700
kill = 0
guard.kill = 0
air.kill = 0
fall.kill = 0
;ignorehitpause =
persistent = 0

;---------------
[State 800, hit]
type = hitdef
trigger1 = time>5
attr = S,HT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 801
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
numhits = 0
;-----------------

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 3704
ignorehitpause = 1
persistent = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 3701
persistent = 1

[State 3201, launch sound]
type = null;PlaySnd
trigger1 = NumProjID(3711)
value = 2000,2
channel = 0
persistent = 0

[State 0, disable rage mode - sanity level]
type = VarSet
trigger1 = time>20 ;&& !NumProjID(3711) ;Whiff
var(58) = 0

[State 3200, 7]
type = ChangeState
trigger1 = time>20 ;&& !NumProjID(3711) ;Whiff
value = 0
ctrl = 1

;[MAJIN]

;SPB Launch
[Statedef 3701]
type    = S
movetype= A
physics = S
ctrl = 0
Anim = 3701
velset = 0,0
sprpriority = 3

[State 0, Explod] ;Piccolo's Clones
type = Explod
trigger1 = !time
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 0, PosSet] ;fix
type = PosSet
trigger1 = !time
y = 0
ignorehitpause = 1
;persistent =

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = !time
value = -20
ID = -1
kill = 0
absolute = 0
ignorehitpause = 1
persistent = 0


[State 3200, voice]   ;"stand still"
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 3700,random%4
volume = 300
channel = 0

[State 3200, voice]   ;"Go!"
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = !time
value = 3701,0
volume = 300
channel = 0


[State -2, SPB Talking Mouth]
type = Explod
triggerall = !NumExplod(3715)
trigger1 = !time
anim = 3715
id = 3715
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3200, voice]   ;"this will only hurt forever"
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time=70
value = 3700,4+random%3
volume = 300
channel = 0

[State 3200, voice]   ;"This is the pride of the saiyans/Smash you to bits/Prayers"
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = time=70
value = 3701,1+random%3
volume = 300
channel = 0

[State 2201, helper]; Background lines
type = Helper
trigger1 = !time
pos = -640, -480
postype = back
stateno = 37010
helpertype = normal
name = "horizontal_lines_BG"
id = 2937
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150
sprpriority = 2
size.xscale = 5
size.yscale= 5

[State 3701, helper 0]
type = Helper
triggerall = !NumHelper(37000)
;triggerall = enemy,stateno = 3705
triggerall = NumTarget
triggerall = target,stateno = 3705
trigger1 = time%30=6
name = "SPB Ring 0"
postype = P1
pos = 64, -73
ownpal = 1
helpertype = normal
stateno = 37000
id = 37000
[State 3701, helper 1]
type = Helper
triggerall = !NumHelper(37001)
;triggerall = enemy,stateno = 3705
triggerall = NumTarget
triggerall = target,stateno = 3705
trigger1 = time%30=24
name = "SPB Ring 1"
postype = P1
pos = 64, -73
ownpal = 1
helpertype = normal
stateno = 37000
id = 37001
[State 3701, helper 2]
type = Helper
triggerall = !NumHelper(37002)
;triggerall = enemy,stateno = 3705
triggerall = NumTarget
triggerall = target,stateno = 3705
trigger1 = time%30=12
name = "SPB Ring 2"
postype = P1
pos = 64, -73
ownpal = 1
helpertype = normal
stateno = 37000
id = 37002
[State 3701, helper 3]
type = Helper
triggerall = !NumHelper(37003)
;triggerall = enemy,stateno = 3705
triggerall = NumTarget
triggerall = target,stateno = 3705
trigger1 = time%30=18
name = "SPB Ring 3"
postype = P1
pos = 64, -73
ownpal = 1
helpertype = normal
stateno = 37000
id = 37003
[State 3701, helper 4]
type = Helper
triggerall = !NumHelper(37004)
;triggerall = enemy,stateno = 3705
triggerall = NumTarget
triggerall = target,stateno = 3705
trigger1 = time%30=0
name = "SPB Ring 4"
postype = P1
pos = 64, -73
ownpal = 1
helpertype = normal
stateno = 37000
id = 37004


[State 3701, ChangeState]
type = ChangeState
triggerall = NumHelper(37000)
triggerall = NumHelper(37001)
triggerall = NumHelper(37002)
triggerall = NumHelper(37003)
triggerall = NumHelper(37004)
;trigger1 = Time > 1 * TicksPerSecond
trigger1 = time >= 200 ;t2 ;AnimElemtime(4)> 0 && enemy,stateno = 3705
value = 3702
ctrl = 0


[State 3701, Whiff]
type = ChangeState
triggerall = !NumHelper(37000)
triggerall = !NumHelper(37001)
triggerall = !NumHelper(37002)
triggerall = !NumHelper(37003)
triggerall = !NumHelper(37004)
;trigger1 = Time > 1 * TicksPerSecond
trigger1 = time >= 200 ;t2 ;AnimElemtime(4)> 0 && enemy,stateno = 3705
value = 0
ctrl = 1

[State 3701, cancel if no target]
type = ChangeState
triggerall = !NumTarget
;trigger1 = Time > 1 * TicksPerSecond
trigger1 = time >= 200 ;t2 ;AnimElemtime(4)> 0 && enemy,stateno = 3705
value = 37032
ctrl = 0

;[MAJIN]

;SPB follow-up (dash)
[Statedef 3702]
type = S
physics = N
movetype = A
ctrl = 0
Anim = 3702
velset = 0,0
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 0, PosSet] ;fix
type = PosSet
trigger1 = !time
y = 0
ignorehitpause = 1
;persistent =

[State 3120, dash Sound]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 5, 8

[State 3000, dust FX]
type = helper
trigger1 = (time%13)=0
helpertype = normal
stateno = 10000
ID = 10000
name = "run_dust"
postype = p1
pos = 0,0
ownpal = 1


[State 3101, VelIni]
type = VelSet
trigger1 = AnimElemTime(3) = 0
x = 3*const(velocity.run.fwd.x)


[State 3101, VelMul]
type = VelMul
trigger1 = AnimElemTime(3) = 0
x = 1.2

[State 3101, Vel Stop]
type = VelSet
trigger1 = p2bodydist x<30
x = 0

[State 3702, ChangeState]
type = ChangeState
trigger1 = p2bodydist x<30
value = 37021
ctrl = 0


[State 3702, ChangeState] ;whiff
type = ChangeState
trigger1 = time >= 100 ;!Animtime
value = 3703
ctrl = 0

;[MAJIN]

;SPB follow-up 2 (punch)
[Statedef 37021]
type = S
physics = S
movetype = A
ctrl = 0
Anim = 37021
velset = 0,0
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 3200, voice]   ;"hahahahaha"
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 3700,10+random%2
channel = 5

[State 3200, voice]   ;"haaaaaaaa"
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = !time
value = 3701,4+random%2
channel = 5


[State 420, 3]
type = HitDef
trigger1 = time>0 ;AnimElem = 3
attr = S, SA
animtype  = hard
;damage    = 35,0
;damage = ceil(cond(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 0
damage = ceil(cond(fvar(11) * 35 < 15, 15, fvar(11) * 35)), 0
priority  = 4,Hit
guardflag = MA
hitflag = MAF
pausetime = 15, 15 ;20,20 ;0,10
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-65
hitsound   = s5,2
guardsound = S6,1
ground.type = low
air.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 3,0 ;-7.8,0
guard.velocity = -5 ;-7.5
air.velocity = 3,-3 ;-5.8,-3
airguard.velocity = -5,-3 ;-5, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0  ;cond(p2movetype=H,40,140), 10
givepower = 35,35
kill = 0
p2stateno = 3705
persistent = 0

[State 3552, EnvShake]
type = EnvShake
trigger1 = Movehit
time = 12
ignorehitpause = 1
persistent = 0

[State 0, TargetLifeAdd]
type = null ;TargetLifeAdd
trigger1 = AnimElem = 3
value = -35
ID = -1
kill = 0
absolute = 0
;ignorehitpause =
;persistent =

[State 800, count]
type = VarSet
trigger1 = !time
var(19) = 0

[State 800, count]
type = VarSet
trigger1 = !time
var(21) = 0

[State 3010, Helper Limiter]
type = Helper
triggerall = !NumHelper(9996)
trigger1 =  !Animtime
helpertype = normal
name =  "Limiter"
ID = 9996
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;[State 3702, To Kick - No Mash-up]
;type = null ;ChangeState
;triggerall = var(58)>0
;trigger1 = !Animtime
;value = 3703
;ctrl = 0

[State 3702, To Mash-up]
type = ChangeState
;triggerall = var(58)=0
trigger1 = !Animtime
value = 37022
ctrl = 0

;[MAJIN]

;SPB Mash-up
[Statedef 37022]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 0, SPB animation random]
type = VarRandom
trigger1 = !time
v = 42
range = 0,4
;ignorehitpause =
;persistent =


[State 0, ChangeAnim 1st]
type = ChangeAnim
triggerall = var(41)=0
trigger1 =!time
value = 37022+var(42) ;37022+random%5

[State 0, ChangeAnim 2nd]
type = ChangeAnim
triggerall = var(41)!=0
trigger1 =!time
value = cond(((37022+var(42))-var(41))!=0,37022+var(42),cond(var(42)=0,37023+random%4,37021+var(42)))

[State 0, SPB animation buffer]
type = VarSet
trigger1 = !time
var(41)= Anim

[State 800, Button Check]
type = VarSet
triggerall = var(58)=0  ;Sanity Disabled
trigger1 = !time
var(19)=var(21)

[State 800, count]
type = VarAdd
triggerall = var(58)=0  ;Sanity Disabled
triggerall = time>0
triggerall = var(21) < 20
trigger1 = command="x" || command="y" || command="z" || command="a" || command="b" || command="c" || command="start"
trigger2 = AILevel>0 && random<50
var(21) = 1

[State 1315, Smash buttons]
type = explod
triggerall = var(58)=0  ;Sanity Disabled
triggerall = AILevel<=0
triggerall = !NumExplod(2616)
trigger1 = !Time
anim = 2616
id = 2616
scale = 1,1
sprpriority = 10
postype = p1
pos = -80,-60 ;cond(facing=1,96,-80),-60
removetime = -1
ownpal = 1
ignorehitpause = 1

[State 420, 3]
type = HitDef
trigger1 = Anim=37026 && AnimElem = 4  ;punch
trigger2 = Anim=37022 && AnimElem = 4  ;punch
trigger3 = Anim=37023 && AnimElem = 4  ;kick
trigger4 = Anim=37024 && AnimElem = 5  ;punch
trigger5 = Anim=37025 && AnimElem = 4  ;kick
attr = S, SA
animtype  = hard
;damage    = 35+var(21),0
;damage = ceil(cond(fvar(11) * (35+var(21)) < 7, 7, fvar(11) * (35+var(21)))), 0
damage = ceil(cond(fvar(11) * (35+var(21)) < 15, 15, fvar(11) * (35+var(21)))), 0
priority  = 4,Hit
guardflag = MA
hitflag = MAF
pausetime = 15, 15 ;20,20 ;0,10
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20+random%5,-65+random%10
hitsound   = S5,cond((Anim=37023||Anim=37025),5,2)
guardsound = S6,1
ground.type = low
air.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 3,0 ;-7.8,0
guard.velocity = -5 ;-7.5
air.velocity = 3,-3 ;-5.8,-3
airguard.velocity = -5,-3 ;-5, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0  ;cond(p2movetype=H,40,140), 10
givepower = 35,35
kill = 0
p1sprpriority = 5
p2sprpriority = 3
p2stateno = 3705

[State 3552, EnvShake]
type = EnvShake
trigger1 = Movehit
time = 12
ignorehitpause = 1
persistent = 0


[State 3702, To Kick - Sanity]
type = ChangeState
trigger1 = var(58)>0 ;Sanity Enabled
trigger1 = !Animtime
Trigger1 = !NumHelper(9996) ;reached time limit
value = 3703
ctrl = 0


[State 3702, To Kick]
type = ChangeState
triggerall = var(58)=0 ;Sanity Disabled
triggerall = !Animtime
Trigger1 = !NumHelper(9996) ;reached time limit
trigger2 = var(19)=var(21) ;no button press
trigger3 = var(21)=20 ;reached button limit
value = 3703
ctrl = 0

[State 3702, Repeat move]
type = ChangeState
triggerall = !Animtime
Triggerall = NumHelper(9996) ;not reached time limit
trigger1 = var(19)!=var(21) ;button pressed
trigger2 = var(21) < 20 ;not reached limit
trigger3 = var(58)>0 ;Sanity Enabled
;value = 37026 ;37022
value = 37022
ctrl = 0

;[MAJIN]

;SPB Mash-up
[Statedef 37026]
type = S
physics = S
movetype = A
ctrl = 0
velset = 0,0
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =!time
value = 37022

[State 800, Button Check]
type = VarSet
trigger1 = !time
var(19)=var(21)

[State 800, count]
type = VarAdd
triggerall = time>0
triggerall = var(21) < 20
trigger1 = command="x" || command="y" || command="z" || command="a" || command="b" || command="c" || command="start"
trigger2 = AILevel>0 && random<50
var(21) = 1


[State 420, 3]
type = HitDef
trigger1 = Anim=37022 && AnimElem = 5
attr = S, SA
animtype  = hard
;damage    = 35+var(21),0
;damage = ceil(cond(fvar(11) * (35+var(21)) < 7, 7, fvar(11) * (35+var(21)))), 0
damage = ceil(cond(fvar(11) * (35+var(21)) < 15, 15, fvar(11) * (35+var(21)))), 0
priority  = 4,Hit
guardflag = MA
hitflag = MAF
pausetime = 15, 15 ;20,20 ;0,10
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20+random%5,-65+random%10
hitsound   = s5,2
guardsound = S6,1
ground.type = low
air.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 3,0 ;-7.8,0
guard.velocity = -5 ;-7.5
air.velocity = 3,-3 ;-5.8,-3
airguard.velocity = -5,-3 ;-5, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0  ;cond(p2movetype=H,40,140), 10
givepower = 35,35
kill = 0
p2stateno = 3705


[State 3552, EnvShake]
type = EnvShake
trigger1 = Movehit
time = 12
ignorehitpause = 1
persistent = 0


[State 3702, To Kick]
type = ChangeState
triggerall = !Animtime
Trigger1 = !NumHelper(9996) ;reached time limit
trigger2 = var(19)=var(21) ;no button press
trigger3 = var(21)=20 ;reached button limit
value = 3703
ctrl = 0

[State 3702, Repeat move]
type = ChangeState
triggerall = !Animtime
Triggerall = NumHelper(9996) ;not reached time limit
trigger1 = var(19)!=var(21) ;button pressed
trigger2 = var(21) < 20 ;not reached limit
trigger3 = var(58)>0 ;Sanity Enabled
value = 37022
ctrl = 0

;[MAJIN]

;SPB Kick
[Statedef 3703]
type = S
physics = S; N
movetype = A
ctrl = 0
Anim = 3703
velset = 0,0
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 3703, SPB buffer reset]
type = VarSet
trigger1 = !time
var(41)=0

[State 3703, SPB buffer reset]
type = VarSet
trigger1 = !time
var(42)=0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 3703, Timer Freeze]
type = AssertSpecial
trigger1 = 1;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 3703, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id =2616

[State 3703, StopSnd] ;hahahahaa
type = StopSnd
trigger1 = !time
channel = 5
;ignorehitpause =
;persistent =


[State 3703, jump SND]
type = playsnd
trigger1 = AnimElemTime(2)=0
value = 40,1

[State 3703, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = hard
;damage    = 65+var(21),0
;damage = ceil(cond(fvar(11) * (65+var(21)) < 7, 7, fvar(11) * (65+var(21)))), 0
damage = ceil(cond(fvar(11) * (65+var(21)) < 15, 15, fvar(11) * (65+var(21)))), 0
priority  = 4,Hit
guardflag = MA
hitflag = MAF
pausetime = 15, 15 ;20,20 ;0,10
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-65
hitsound   = s5,5
guardsound = S6,1
ground.type = low
air.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 3,0 ;-7.8,0
guard.velocity = -5 ;-7.5
air.velocity = 3,-3 ;-5.8,-3
airguard.velocity = -5,-3 ;-5, -4
envshake.time = 5
envshake.ampl = 4
envshake.freq = 176
fall.envshake.time = 10
fall.envshake.ampl = 4
fall.envshake.freq = 176
yaccel = 0.5
air.fall = 0
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0  ;cond(p2movetype=H,40,140), 10
givepower = 35,35
kill = 0
p2stateno = 3705

[State 3703, EnvShake]
type = EnvShake
trigger1 = Movehit
time = 12
ignorehitpause = 1
persistent = 0

[State 3703, TargetLifeAdd]
type = null ;TargetLifeAdd
trigger1 = AnimElem = 3
value = -35
ID = -1
kill = 0
absolute = 0
;ignorehitpause =
;persistent =

[State 3703, TargetState]
type = null ;TargetState
trigger1 = AnimElem = 3
value = 3705
ID = -1
;ignorehitpause =
;persistent =


[State 3703, ChangeState]
type = ChangeState
trigger1 = !Animtime
value =  37031
ctrl = 0

;[MAJIN]

;SPB - Atomic Blast
[Statedef 37031]
type = S
physics = S; N
movetype = A
ctrl = 0
Anim = 37031
velset = 0,0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
ignorehitpause = 1
;persistent =

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1;var(58)>=700
flag = timerfreeze
ignorehitpause = 1

[State 3103, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 3121, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = AnimElemTime(1)=0
trigger2 = AnimElemTime(4)=0
value = 2302,0

[State 0, PosSet]
type = PosSet
trigger1 = AnimElemTime(3)=0
x = cond(Facing=1,-100,100)
y = 0


;SANITY FINISHERS
;4100 = Galactic Juggler  (1)
;4000 = Final Flash  (2)
;3810 = Aura Burst   (3)

[State 13100, SANITY FOLLOW-UP];Change state depending on Sanity Bar
type = ChangeState
;triggerall = var(53)>0
triggerall = var(58)>=700
trigger1 = AnimElemTime(3)=0
value = cond(var(58)<1400, 4100, cond(var(58)>=2100, 3810, 4000))
ctrl = 0

[State 3201, voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = animelemtime(10)=0
value = 3200,5+random%2
channel = 0

[State 3201, voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = animelemtime(10)=0
value = 3200,21
channel = 0

[State 3200, SPB charge ball]
type = Explod
trigger1 = AnimElemTime(10)=0
anim = 3710
id = 3710
pos = 30, -57
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3320, SPB Ball charge sound]
type = PlaySnd
trigger1 = AnimElemTime(10)=0
value = 3300,0
channel = 5


[State 0, Projectile]
type = Projectile
trigger1 = AnimElemTime(10)=6
;trigger1 = !NumExplod(3710)
trigger1 = !NumProjID(3714)
ProjID =  3714
projanim = 3714
projhitanim = 3712
;projremanim =
;projcancelanim =
projscale = 1,1
projremove = 1
projremovetime = -1
velocity = 8,0 ;2,0 ;8,0
remvelocity = 0,0
accel = 0,0
velmul = 1,1
projhits = 1
projpriority = 1
projsprpriority = 5
projedgebound = 40
projstagebound = 40
offset = 30, -57
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
supermovetime = 0
pausemovetime = 0
;supermove = 0
;pausemove = 0
;(afterimage winmugen only)
;afterimage.time =
;afterimage.length =
;afterimage.palcolor =
;afterimage.palinvertall =
;afterimage.palbright = 0,0,0
;afterimage.palcontrast = 0,0,0
;afterimage.palpostbright =0,0,0
;afterimage.paladd =  0,0,0
;afterimage.palmul = 0,0,0
;afterimage.timegap =
;afterimage.framegap =
;afterimage.trans = ;none,add,add1,addalpha,sub
;ignorehitpause =
;persistent =
; HitDef
attr = S,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
;affectteam = E          ;B,E,F
;animtype = light          ;light,medium,hard,back,up,diagup
;air.animtype = light
;fall.animtype = Back
;priority = 4,Hit   ;Hit,Miss,Dodge
;damage = 100+100*(var(58)>0),0
;damage = ceil(cond(fvar(11) * (100+100*(var(58)>0)) < 7, 7, fvar(11) * (100+100*(var(58)>0)))), 0
damage = ceil(cond(fvar(11) * (100+100*(var(58)>0)) < 70, 70, fvar(11) * (100+100*(var(58)>0)))), 0
pausetime = 10,10
;guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
;sparkxy = 0,0
hitsound   = s3330,1
guardsound = S6,0
;ground.type = High      ;Low,Trip,None
;air.type = High
;ground.slide = 0
;guard.slide = 0
;ground.slidetime = 0
;guard.slidetime = 0
;ground.hit = 0
;guard.hit = 0
;ground.hittime = 0
;guard.hittime = 0
;air.hittime = 20
;guard.ctrltime  = 0
;guard.dist = 320
;yaccel = 0.5
;ground.velocity = 0,0
;guard.velocity = 0
;air.velocity = 0,0
;airguard.velocity = 0,0
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;down.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;airguard.ctrltime = 0
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
;sprpriority = 5
;p1sprpriority = 0;(winmugen only)
;p2sprpriority = 0;(winmugen only)
;p1facing = 0
;p1getp2facing = 0
;p2facing = 1
p2stateno = 3706 ;5100
;p2getp1state = 1
;forcestand = 0
;fall = 0
;fall.xvelocity = 0
;fall.yvelocity = -4.5
;fall.recover = 1
;fall.recovertime = 4
;fall.damage = 0
;air.fall = 0
;down.velocity = 0,0
;down.hittime = 0
;down.bounce = 0
id = 3700
;chainID = -1
;nochainID = -1
;hitonce = 1
kill = 1
guard.kill = 1
air.kill = 1
fall.kill = 1
;numhits = 1
;palfx.time = 0
;palfx.mul = 0,0,0
;palfx.add = 0,0,0
;envshake.time = 0,0
;envshake.freq = 0
;envshake.ampl = 0
;envshake.phase = 0
;fall.envshake.time = 0,0
;fall.envshake.freq = 0
;fall.envshake.ampl = 0
;fall.envshake.phase = 0
;ignorehitpause =
persistent = 0

[State 3201, sound]
type = PlaySnd
trigger1 = NumProjID(3714)
value = 2000,2
channel = 5
persistent = 0

[State 3000, Bakuhatsuha]
type = helper
triggerall = !NumHelper(2301)
;trigger1 = enemy,stateno=5100
;trigger1 = NumTarget
;trigger1 = target,stateno=5100
trigger1 = enemy,stateno=5100 || enemy,stateno=3706
helpertype = normal
stateno = 2301
ID = 2301
name = "baku"
postype = p2
pos = 0,0
ownpal = 1

[State 200, 1];Explosion
type = PlaySnd
;trigger1 = enemy,stateno=5100
trigger1 = NumTarget
trigger1 = target,stateno=[5100,5120]
value = 2483,0
volume = -100
channel = 2
persistent = 0


[State 3703, ChangeState]
type = ChangeState
;trigger1 = enemy,stateno=5100 ;time=100 ;!Animtime
trigger1 = NumTarget
trigger1 = target,stateno=[5100,5120]
trigger2 = !NumTarget
trigger3 = Win
value =  37032
ctrl = 0

;[MAJIN]

;SPB - Recovery
[Statedef 37032]
type = S
physics = S; N
movetype = I
ctrl = 0
Anim = 37032
velset = 0,0
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent =

[State 0, disable rage mode]
type = VarSet
trigger1 = !time
var(53) = 0

[State 0, disable rage mode - sanity level]
type = VarSet
trigger1 = !time
var(58) = 0

[State 3703, ChangeState]
type = ChangeState
trigger1 = !Animtime
value =  0
ctrl = 1


;[MAJIN]

;Hit by SPB (launch)
[Statedef 3704]
type = A
movetype = H
physics = N ;A
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 3
facep2 = 1

[State 3103, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5011 ;cond(SelfAnimExist(5052),5052,3103)

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 3103, VelAdd]
type = VelSet
trigger1 = !Time ;(Pos Y < 0)
x = -10
y = -5

[State 3103, NotHitBy]
type = null ;NotHitBy
trigger1 = 1
value = SCA

[State 3103, No scroll]
type = null ;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 3103, Hit wall]
type = ChangeState
triggerall = Pos y >= 0 ;-15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 3705

[State 3103, ChangeState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
trigger2 = enemy,stateno!=[3700,3703]
trigger2 = enemy,stateno!=[37021,37032]
value = 5100

;[MAJIN]

;Hit by SPB (Wall)
[Statedef 3705]
type = A
movetype = H
physics = N ;A
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 3

[State 3103, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 3103, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 3705

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno=3810
value = 3855
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 3103, ChangeState]
type = SelfState
trigger1 = time >= 300 ;200
trigger2 = enemy,stateno!=[3700,3703]
trigger2 = enemy,stateno!=[37021,37032]
;SANITY FINISHERS
trigger2 = enemy,stateno!=4100 ;Galactic Juggler  (1)
trigger2 = enemy,stateno!=[4000,4001] ;Final Flash  (2)
trigger2 = enemy,stateno!=[3800,3810] ;Aura Burst   (3)
value = 5100

;[MAJIN]

;Hit by SPB (End)
[Statedef 3706]
type = A
movetype = H
physics = N ;A
ctrl = 0
velset = -5,-10
poweradd = 0
sprpriority = 2


[State 3103, ChangeState]
type = SelfState
trigger1 = !time
value = 5100

;[MAJIN]

;AURA BURST START
[Statedef 3800]
type = S
movetype = A ;I
physics = S
anim = 3800
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0 ;-2000

[State 3800, From SPB]
type = PosSet
trigger1 = !time
trigger1 = PrevStateNo=3810
x = (target,Pos X)-80*facing
y = 0
;ignorehitpause =
;persistent =

[State 3801, superpause]
type = superpause
trigger1 = Time = 2 ;AnimelemTime(4)=0
time = 40
movetime = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0

[State 200, BGPalFX]
type = BGPalFX
trigger1 = time=[2,100]
time = 1
add	= -100,-100,-100
mul	= 256,100,100
invertall = 0
color = 256



[State 3800, disable rage mode]
type = null ;VarSet
trigger1 = !time
var(53) = 0

[State 3800, StateTypeSet]
type = StateTypeSet
trigger1 = AnimelemTime(2)=0
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 3800, jump SND]
type = playsnd
trigger1 = AnimelemTime(2)=0
value = 40,1

[State 3800, 4]
type = VelSet
trigger1 = AnimelemTime(2)=0
x = 2 ;const(velocity.jump.fwd.x)
y = -5 ;-7 ;const(velocity.jump.y)

[State 3800, ChangeAnim]
type = ChangeState
trigger1 = AnimelemTime(3)>0
trigger1 = Pos Y >= -10
value = 3801
ctrl = 0
;ignorehitpause =
;persistent =

;[MAJIN]

;AURA BURST SPAUSE
[Statedef 3801]
type = A
movetype = A
physics = N
anim = 3801
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0


[State 3801, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 3801, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG


[State 3801, superpause]
type = superpause
trigger1 = Time = 2 ;AnimelemTime(4)=0
time = 40
movetime = 40
p2defmul = 1
unhittable = 1
anim = -1
sound = s2000,0
darken = 0


[State 3801, 1];transform SND
type = PlaySnd
trigger1 = Time = 2 ;AnimelemTime(4)=0
value = 188,0
volume = 255
channel = 2

[State 3801, bgpalfx1]
type = bgpalfx
trigger1 = Time = 2 ;AnimelemTime(4)=0
time = 45 ;45
color=0
mul=0,0,0


[State 3801, Hyper Charge FX]
type = Explod
trigger1 = Time = 2 ;AnimelemTime(4)=0
anim = 2440
id = 2440
pos = 20, -83
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 5
ownpal = 1
bindtime = -1
scale = 1,1

[State 3801, Flare energy]
type = Explod
trigger1 = Time = 1
anim = 3805
id = 3805
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3801, end]
type = changestate
trigger1 = Time=50
value = 3802
ctrl = 0

;[MAJIN]

;AURA BURST EXPLOSION
[Statedef 3802]
type = A
movetype = A
physics = N
anim = 3802
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 3802, Remove flare]
type = RemoveExplod
trigger1 = !time
id = 3805
;ignorehitpause =
;persistent =

[State 3802, Flare energy]
type = Explod
trigger1 = !Time
anim = 3806
id = 3806
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3802, NoShadow]
type = AssertSpecial
trigger1 = NumHelper(38000) ;Anim=3802 ;1
flag = noshadow
ignorehitpause = 1

[State 3802, helper aura]
type = Helper
triggerall = !NumHelper(38000)
trigger1 = AnimElemTime(2)=0
name = "Aura Burst"
postype = P1
pos = 0, 0
ownpal = 1
helpertype = normal
stateno = 38000
id = 38000
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3802, helper shield]
type = Helper
triggerall = !NumHelper(38001)
trigger1 = AnimElemTime(2)=0
name = "Aura Shield"
postype = P1
pos = 0, 0
ownpal = 1
helpertype = normal
stateno = 38001
id = 38001
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3802, Explosion Start]
type = PlaySnd
triggerall = Anim=3802
trigger1 = AnimElemTime(2)=0
value = 3800,0
channel = 5

[State 3802, Explosion Yell]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
triggerall = Anim=3802
trigger1 = AnimElemTime(2)=0
value = 3830,0
channel = 0

[State 3802, Explosion Yell]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
triggerall = Anim=3802
trigger1 = AnimElemTime(2)=0
value = 3830,24
channel = 0
volume = 200


[State 3802, shake]
type = envshake
triggerall = NumHelper(38000)
trigger1 = time>10
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 5

[State 3802, Flash PalFX]
type = PalFX
trigger1 = NumHelper(38000)
trigger1 = time>10 ;8 ;6
time = 1 ;73 ;-1
add = 150,120,-200
mul = 180,150,256
sinadd = 36,36,0,12
invertall = 0
color = 0
ignorehitpause = 1
;persistent = 1

[State 3802, HitDef]
type = HitDef
trigger1 = NumHelper(38000)
trigger1 = time=10 ;
;trigger1 = time%10=0
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = MA         ;HLA
;affectteam = E          ;B,E,F
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
;fall.animtype = Back
;priority = 4,Hit
;damage = 10,0
damage = ceil(cond(fvar(11) * 70 < 40, 40, fvar(11) * 10)), 0
pausetime = 5 ,5
;guard.pausetime = 0,0
sparkno = -1 ;S3000
guard.sparkno = -1 ;S3100
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      ;Low,Trip,None
air.type = High
ground.slidetime = 0
;guard.slidetime = 0
ground.hittime = 0
;guard.hittime = 0
air.hittime = 12
;guard.ctrltime = 0
;guard.dist = 320
;yaccel = 0.5
ground.velocity = -1,-11.5
;guard.velocity = 0
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
p1sprpriority = 5
p1getp2facing = 0
;p2stateno = 3850
;p2getp1state = 1
;forcestand = 0
fall = 0
;fall.xvelocity = 0
fall.yvelocity = -4.5
fall.recover = 0 ;1
fall.recovertime = 4
fall.damage = 0
;air.fall = 0
;down.velocity = 0,0
;down.hittime = 0
down.bounce = 0
id = 3800
chainID = -1
nochainID = -1
hitonce = 1
kill = 0
guard.kill = 0
fall.kill = 0
numhits = 1
getpower = 0,0
givepower = 35,35
palfx.time = 0
;palfx.mul =
;palfx.add =
envshake.time = 0
;envshake.freq =
;envshake.ampl =
;envshake.phase =
fall.envshake.time = 0
;fall.envshake.freq =
;fall.envshake.ampl =
;fall.envshake.phase =
;ignorehitpause =
persistent = 0


[State 3802, HitDef]
type = HitDef
trigger1 = NumHelper(38000)
trigger1 = time>11 ;
;trigger1 = time%10=0
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = MA         ;HLA
;affectteam = E          ;B,E,F
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
;fall.animtype = Back
;priority = 4,Hit
;damage = 10,0
damage = ceil(cond(fvar(11) * 10 < 7, 7, fvar(11) * 10)), 0
pausetime = 5 ,5
;guard.pausetime = 0,0
sparkno = -1 ;S3000
guard.sparkno = -1 ;S3100
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      ;Low,Trip,None
air.type = High
ground.slidetime = 0
;guard.slidetime = 0
ground.hittime = 0
;guard.hittime = 0
air.hittime = 12
;guard.ctrltime = 0
;guard.dist = 320
;yaccel = 0.5
ground.velocity = -1,-11.5
;guard.velocity = 0
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
p1sprpriority = 5
p1getp2facing = 0
;p2stateno = 3850
;p2getp1state = 1
;forcestand = 0
fall = 0
;fall.xvelocity = 0
fall.yvelocity = -4.5
fall.recover = 0 ;1
fall.recovertime = 4
fall.damage = 0
;air.fall = 0
;down.velocity = 0,0
;down.hittime = 0
down.bounce = 0
id = 3800
chainID = -1
nochainID = -1
hitonce = 1
kill = 0
guard.kill = 0
fall.kill = 0
numhits = 1
getpower = 0,0
givepower = 35,35
palfx.time = 0
;palfx.mul =
;palfx.add =
envshake.time = 0
;envshake.freq =
;envshake.ampl =
;envshake.phase =
fall.envshake.time = 0
;fall.envshake.freq =
;fall.envshake.ampl =
;fall.envshake.phase =
;ignorehitpause =
persistent = 9

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 3850
ignorehitpause = 1

[State 3802, Last HitDef]
type = HitDef
triggerall = !NumHelper(38000)
trigger1 = time>10 ;1
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = MA         ;HLA
;affectteam = E          ;B,E,F
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
;fall.animtype = Back
;priority = 4,Hit
;damage = 100,0
;damage = ceil(cond(fvar(11) * 100 < 7, 7, fvar(11) * 100)), 0
damage = ceil(cond(fvar(11) * 100 < 60, 60, fvar(11) * 60)), 0
pausetime = 5 ,5
;guard.pausetime = 0,0
sparkno = -1 ;S3000
guard.sparkno = -1 ;S3100
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      ;Low,Trip,None
air.type = High
ground.slidetime = 0
;guard.slidetime = 0
ground.hittime = 0
;guard.hittime = 0
air.hittime = 12
;guard.ctrltime = 0
;guard.dist = 320
;yaccel = 0.5
ground.velocity = -1,-11.5
;guard.velocity = 0
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
;airguard.velocity = -2.5,-1.3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;down.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;airguard.ctrltime = 0
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
p1sprpriority = 5
;p1facing =
p1getp2facing = 0
;p2facing =
;p1stateno =
;p2stateno = 3850
;p2getp1state = 1
;forcestand = 0
fall = 0
;fall.xvelocity = 0
fall.yvelocity = -4.5
fall.recover = 0 ;1
fall.recovertime = 4
fall.damage = 0
;air.fall = 0
;down.velocity = 0,0
;down.hittime = 0
down.bounce = 0
id = 3800
chainID = -1
nochainID = -1
hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
getpower = 0,0
givepower = 35,35
palfx.time = 0
;palfx.mul =
;palfx.add =
envshake.time = 0
;envshake.freq =
;envshake.ampl =
;envshake.phase =
fall.envshake.time = 0
;fall.envshake.freq =
;fall.envshake.ampl =
;fall.envshake.phase =
;ignorehitpause =
persistent = 0

[State -2, Special Projectile]
type = Projectile
;trigger1 = movehit
;trigger1 = numtarget
;trigger1 = target,alive=0
triggerall = NumProjID(3410)=0
trigger1 = winKO=1
ProjID = 3410
projanim = 9999
projremovetime = 10
postype = p2
offset = 0, -30
attr = A, NP
hitflag = MAF
guardflag =
pausetime = 0, 0
sparkno = -1
hitsound = -1
numhits = 0

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 3850
ignorehitpause = 1

[State 250, 1]
type = PlaySnd
trigger1 = movehit=1
value = 1000,0
volume = -200
;persistent = 1

[State 0, PalFXWiz]
type = AllPalFX
triggerall = NumHelper(38000)
triggerall = roundstate=2
trigger1 = hitcount>0
time = 1
;add = 128,128,-128
add = 8*(hitcount),8*(hitcount),-8*(hitcount)
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1
;persistent = 1

[State 0, PalFXWiz]
type = AllPalFX
trigger1 = roundstate=3
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 0
persistent = 0

[State 1315, Sparks]
type=explod
triggerall = !NumExplod(7030)
trigger1= movehit && numtarget
trigger1= (target,movetype=H) && !(target,time)
anim=7030
ID = 7030
sprpriority=6
postype=p2
pos= (target,const(size.mid.pos.x)),(target,const(size.mid.pos.y))
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
pausemovetime=100
supermovetime=100


[State 3802, RAGE consumption]
type = VarAdd
triggerall = time>10
trigger1= var(58)>0
var(58) = -17 ;-15

[State 3802, disable rage mode]
type = VarSet
trigger1 = var(58)<=0
var(53) = 0

[State 0, VarAdd]
type = null;VarAdd
triggerall = var(58)>0
trigger1 = NumHelper(38000) ;movehit
fvar(13) = 1

[State 3802, TargetLifeAdd]
type = TargetLifeAdd
triggerall = var(58)>0
triggerall = gametime%2
trigger1 = NumHelper(38000) ;movehit
value =  -1*ceil(140/abs(P2Dist X)) ;-1*ceil(70/P2Dist X) ;variable damage on distance
;value = -ceil(cond(fvar(11) * (140/abs(P2Dist X)) < 7, 7, fvar(11) * (140/abs(P2Dist X))))
ID = 3800
kill = 1
absolute = 1
;ignorehitpause =


[State 3802, Offset]
type = Offset
trigger1 = NumHelper(38000)
trigger1 = time=[20,110] ;time>10
y = Ceil((20-time)/5)*sin(20-time)
ignorehitpause = 1
;persistent =

[State 3802, Offset]
type = Offset
trigger1 = NumHelper(38000)
trigger1 = time=[111,200] ;time>10
y = (Ceil((200-time)/5)*sin(200-time))
ignorehitpause = 1
;persistent =


[State 3802, gravity]
type = Velset
triggerall = time>10
trigger1 = !NumHelper(38000)
trigger1 = enemy,HitPauseTime<3 ;enemy,HitOver = 1
;trigger1 = time=190
Y = 0.8

[State 3802, ChangeAnim]
type = ChangeAnim
trigger1 = !NumHelper(38000)
trigger1 = Vel Y > 0
;trigger1 = time=195
value = 3803 ;44
;elem = 1
;ignorehitpause =
;persistent =

[State 3802, ChangeState]
type = ChangeState
trigger1 = Pos Y >=0
value = 3803
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

;[MAJIN]

;AURA BURST DIZZY
[Statedef 3803]
type = S
movetype = I
physics = S
anim = 5300
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 0, VarSet] ;capture pos X
type = VarSet
trigger1 = !time
var(26) = floor(Pos X)
ignorehitpause = 1
;persistent =

[State 3803, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = MoveHit
trigger1 = time>0
x = var(26)
ignorehitpause = 1
;persistent =


[State 3803, My brain...]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 3802,0
channel = 0

[State 3803, Curses..]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = !time
value = 3802,20
channel = 0

[State 3803, Sparks]
type = explod
triggerall = !NumExplod(33213)
trigger1 = !time
anim = 33213
id = 33213
scale = 1,1
sprpriority = 5
postype = p1
pos = 5,-43
removetime = 100
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = none
removeongethit = 1

;XGNew
[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 80
value = 1	  
[State 3803, end]
type = changestate
trigger1 = Time=100
value = 0
ctrl = 1


;[MAJIN]

;SANITY AURA BURST
[Statedef 3810]
type = S
movetype = A ;I
physics = S
anim = 3810
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 3810, to normal burst]
type = ChangeState
trigger1 = enemy,name="Saibamen" ; Saibamen hack
trigger2 = numtarget
trigger2 = target,life>240
trigger2 = !time
value = 3800
ctrl = 0
;anim =
;ignorehitpause =
;persistent =

[State 3810, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 3810, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = timerfreeze
ignorehitpause = 1

[State 3810, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3810, bgpalfx1]
type = null ;bgpalfx
trigger1 = !time
time = 45
color=0
mul=0,0,0

[State 3810, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = Animelemtime(1)=0
value = 2302,0

[State 3810, PosSet]
type = PosSet
trigger1 = Animelemtime(1)=0
x = floor(EnemyNear(0),Pos X)-110*facing
y = 0
;ignorehitpause =
;persistent =


[State 3810, 1];transform SND
type = null ;PlaySnd
trigger1 = time = 8 ;5 ;animelemtime(7) = 0
value = 188,0
volume = 255
channel = 2


[State 3810, SSJ Aura]
type = explod
triggerall = !NumExplod(3820)
trigger1 = AnimElemTime(5)=0
anim = 3820
id = 3820
scale = 1,1
sprpriority = 3
postype = p1
pos = -2,-2
removetime = -1
ownpal = 1
ignorehitpause = 1
trans = none
removeongethit = 1

[State 3810, Aura Sound]
type = PlaySnd
trigger1 = AnimElemTime(5)=0
value = 3830,5
channel = 5

[State 3810, Laugh]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = AnimElemTime(5)=0
value = 3830,2+random%2
channel = 0

[State 3810, Laugh]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = AnimElemTime(5)=0
value = 3830,21+random%2
channel = 0

[State 3810, Particle GeneratorP1]
type = Helper
triggerall = !NumHelper(3812)
trigger1 = AnimElemTime(7)=0
name = "Particle Generator"
postype = P1
pos = 0, -50
ownpal = 1
helpertype = normal
stateno = 3812
id = 3812
size.xscale = 1
size.yscale = 1
ignorehitpause = 1



[State 3810, ChangeState]  ;NEW
type = ChangeState
trigger1 = AnimElemTime(8)=0
value = 3820
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


;[MAJIN]

;S.AURA BURST JUMP
[Statedef 3820]
type = S
movetype = A ;I
physics = S
anim = 3800
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 3820, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = timerfreeze
ignorehitpause = 1

[State 3820, AssertSpecial]
type = null ;AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3820, Remove SSJ Aura]
type = RemoveExplod
trigger1 = !time ;AnimElemTime(8)=0
id = 3820
;ignorehitpause =
;persistent =

[State 3810, SSJ Aura End]
type = explod
triggerall = !NumExplod(3821)
trigger1 = !time ;AnimElemTime(8)=0
anim = 3821
id = 3821
scale = 1,1
sprpriority = 3
postype = p1
pos = -2,-2
removetime = -2
ownpal = 1
ignorehitpause = 1
trans = none
removeongethit = 1

[State 0, Stop Aura Snd]
type = StopSnd
trigger1 = !time
channel = 5
;ignorehitpause =
;persistent =


[State 3820, StateTypeSet]
type = StateTypeSet
trigger1 = AnimelemTime(2)=0
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 3820, jump SND]
type = playsnd
trigger1 = AnimelemTime(2)=0
value = 40,1

[State 3820, 4]
type = VelSet
trigger1 = AnimelemTime(2)=0
x = 2 ;const(velocity.jump.fwd.x)
y = -5 ;-7 ;const(velocity.jump.y)

[State 3820, ChangeAnim]
type = ChangeState
trigger1 = AnimelemTime(3)>0
trigger1 = Pos Y >= -10
value = 3821
ctrl = 0

;[MAJIN]

;S.AURA BURST SPAUSE
[Statedef 3821]
type = A
movetype = A
physics = N
anim = 3801
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0


[State 3821, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 3821, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = timerfreeze
ignorehitpause = 1

[State 3821, AssertSpecial]
type = null ;AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1


[State 3821, 1];transform SND
type = PlaySnd
trigger1 = Time = 2 ;AnimelemTime(4)=0
value = 188,0
volume = 255
channel = 2

[State 3821, bgpalfx1]
type = null ;bgpalfx
trigger1 = Time = 2 ;AnimelemTime(4)=0
time = 45 ;45
color=0
mul=0,0,0


[State 3821, Flare energy]
type = Explod
trigger1 = Time = 1
anim = 3805
id = 3805
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 3821, end]
type = changestate
trigger1 = Time=19 ;!animtime ;Time=50
value = 3822
ctrl = 0

;[MAJIN]

;S.AURA BURST EXPLOSION
[Statedef 3822]
type = A
movetype = A
physics = N
anim = 3802
ctrl = 0
velset = 0,0
sprpriority = 4
poweradd = 0

[State 3822, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = timerfreeze
flag3 = globalnoshadow
ignorehitpause = 1

[State 3822, AssertSpecial]
type = null ;AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1


[State 3822, Remove flare]
type = RemoveExplod
trigger1 = !time
id = 3805
;ignorehitpause =
;persistent =

[State 3822, Flare energy]
type = Explod
trigger1 = !Time
anim = 3806
id = 3806
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0


[State 3822, helper aura]
type = Helper
triggerall = !NumHelper(38010)
trigger1 = !time
name = "Aura Burst"
postype = P1
pos = 0, 0
ownpal = 1
helpertype = normal
stateno = 38010
id = 38010
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3822, Explosion]
type = PlaySnd
;trigger1 = Anim=3810 && AnimElemTime(8)=0
trigger1 = time=3 ;AnimElemTime(2)=0
value = 3800,3
channel = 8


[State 3822, shake]
type = envshake
;triggerall = AnimElemTime(8)>=0
trigger1 = time>3 ;AnimElemTime(2)>=0
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 5

[State 3822, yell]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = time=14 ;AnimElemTime(9)=0
value = 3830,4 ;0+random%2
volume = 300
channel = -1 ;0

[State 3822, yell]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng. Sabbat
trigger1 = time=14 ;AnimElemTime(9)=0
value = 3830,20
volume = 300
channel = -1 ;0

[State 3822, AllPalFX]
type = AllPalFX
trigger1 = Time>=14 ;90
time = 1
add = 2*(-14+Time),2*(-14+Time),2*(-14+Time)
;mul = 256,256,256
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =


[State 3822, HitDef]
type = HitDef
trigger1 = time>=14
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
;guardflag = MA         ;HLA
;affectteam = E          ;B,E,F
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
;fall.animtype = Back
;priority = 4,Hit
damage = 0,0
pausetime = 5 ,5
;guard.pausetime = 0,0
sparkno = -1 ;S3000
guard.sparkno = -1 ;S3100
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High      ;Low,Trip,None
air.type = High
ground.slidetime = 0
;guard.slidetime = 0
ground.hittime = 0
;guard.hittime = 0
air.hittime = 12
;guard.ctrltime = 0
;guard.dist = 320
;yaccel = 0.5
ground.velocity = -1,-11.5
;guard.velocity = 0
air.velocity = cond(p2movetype=H,-3,-1),cond(p2movetype=H,-5,-10)
;airguard.velocity = -2.5,-1.3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;down.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;airguard.ctrltime = 0
;air.juggle = 0
;mindist = 0,0
;maxdist = 0,0
;snap = 0,0
p1sprpriority = 5
;p1facing =
p1getp2facing = 0
;p2facing =
;p1stateno =
;p2stateno = 3860
;p2getp1state = 1
;forcestand = 0
fall = 0
;fall.xvelocity = 0
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 4
fall.damage = 0
;air.fall = 0
;down.velocity = 0,0
;down.hittime = 0
down.bounce = 0
id = 3800
chainID = -1
nochainID = -1
hitonce = 1
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
getpower = 0,0
givepower = 35,35
palfx.time = 0
;palfx.mul =
;palfx.add =
envshake.time = 0
;envshake.freq =
;envshake.ampl =
;envshake.phase =
fall.envshake.time = 0
;fall.envshake.freq =
;fall.envshake.ampl =
;fall.envshake.phase =
;ignorehitpause =
persistent = 0

[State 0, Explod] ;Piccolo's Clones
type = Explod
trigger1 = MoveHit = 1
anim = 5939
ID = 991901
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 1

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 3860
ignorehitpause = 1

[State 3830, HitAdd]
type = HitAdd
trigger1 = time>=14
trigger1 = time%10=0
value = 1
;ignorehitpause =
;persistent =

[State 250, 1]
type = PlaySnd
trigger1 = movehit=1
value = 1000,0
volume = -200
;persistent = 1

[State 1315, Sparks]
type=explod
triggerall = !NumExplod(7030)
trigger1= movehit && numtarget
trigger1= (target,movetype=H) && !(target,time)
anim=7030
ID = 7030
sprpriority=6
postype=p2
pos= (target,const(size.mid.pos.x)),(target,const(size.mid.pos.y))
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
pausemovetime=100
supermovetime=100

[State 3822, end]
type = changestate
;triggerall = NumHelper(38010)
trigger1 = time=142 ;218 ;280
;trigger1 = Life=1
;trigger2 = enemynear,Alive=0
value = 3830 ;3840
ctrl = 0

;[MAJIN]

;Cinematic
[Statedef 3830]
type = A
movetype = I
physics = N
anim = 0
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 6

[State 0, disable rage mode - sanity level]
type = VarSet
trigger1 = !time
var(58) = 0

[State 3830, EnvColor]
type = null ;EnvColor
trigger1 =  1
value = 255,255,255
time = 100
;under = 0
;ignorehitpause =
;persistent =

[State 3830, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = 255,255,255
;mul = 256,256,256
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
ignorehitpause = 1
;persistent =


[State 3830, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = nobardisplay
flag3 = globalnoshadow
ignorehitpause = 1

[State 3830, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze
ignorehitpause = 1

[State 3822, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1


[State 3830, HitAdd]
type = HitAdd
triggerall = time<300
trigger1 = time%10=0
value = 1
;ignorehitpause =
;persistent =

[State 3830, Big face]
type = explod
triggerall = !NumExplod(3830)
trigger1 = !Time
anim = 3830
id = 3830
scale = 1,1 ;1.5,1.5
sprpriority = 5
postype = back ;p1
pos = 160,240
removetime = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
trans = none
;ontop = 1

[State 3830, Explosion]
type = null ;PlaySnd
trigger1 = !Time
value = 3800,4
channel = 8

[State 3830, yell]
type = null ;PlaySnd
trigger1 = !Time
value = 3830,0+random%2
channel = 0

[State 3830, shake]
type = envshake
;triggerall = !time
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 5

[State 3830, Helper]
type = Helper
;triggerall = time = [0,200]
triggerall = numhelper(38020)<50 && numhelper(38021)<50
trigger1 = !(time%10)
helpertype = Normal
name = "rocks"
id = 38020
pos = 160,20
postype = left
facing = 1
stateno = 38020
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 3830, AllPalFX]
type = AllPalFX
trigger1 = Time>200
time = 1
add = 2*(-200+Time),2*(-200+Time),2*(-200+Time)
;mul = 256,256,256
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =

[State 3830, TargetLifeAdd] ;Instant Kill
type = TargetLifeAdd
;triggerall = var(58)>0  ;consume RAGE
trigger1 = time=300
value =  -240 ;-target,Const(data.life) ;-1*ceil(70/P2Dist X) ;150 ;variable damage on distance
ID = 3800
kill = 1
absolute = 1
;ignorehitpause =
;persistent =


[State 3830, ChangeState]
type = ChangeState
trigger1 = time=328 ;200
value = 3840
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


;[MAJIN]

;Salt Statue
[Statedef 3840]
type = A
movetype = I
physics = N
anim = 0
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 10

[State 3840, PosSet]
type = PosSet
trigger1 =  !time
x = 0
y = -60


[State 3840, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = nobardisplay
flag3 = globalnoshadow
ignorehitpause = 1

[State 3822, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3840, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 3840, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 3830
;ignorehitpause =
;persistent =

[State 3840, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 5
;under = 0
;ignorehitpause =
;persistent =

[State 3840, BGPalFX]
type = null ;BGPalFX
trigger1 = !time
time = 5
add = 255,255,255
;mul = 256,256,256
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
ignorehitpause = 1
;persistent =

[State 3840, AllPalFX]
type = AllPalFX
trigger1 = Time=[0,32]
time = 1
add = 255-8*Time,255-8*Time,255-8*Time
;mul = 256,256,256
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =

[State 3840, StopSnd]
type = StopSnd
trigger1 = !time
channel = 8
;ignorehitpause =
;persistent =

[State 3840, Sound aftermath]
type = PlaySnd
trigger1 = time=1
value = 3800,6 ;5
channel = 0
;loop = 1


[State 3840, Salt Statue]
type = Explod
trigger1 = !time
anim = 3840
id = 3840
pos = 0, 0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 10
ownpal = 0
bindtime = 1
scale = 1,1
persistent = 0

[State 3840, Aftermath BG 1]
type = Explod
trigger1 = !time
anim = 3841
id = 3841
pos = 160,240
postype = left
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 8
ownpal = 0
bindtime = -1
scale = 1,1
persistent = 0

[State 3840, Aftermath BG 2]
type = Explod
trigger1 = !time
anim = 3842
id = 3842
pos = 160,240
postype = left
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 8
ownpal = 0
bindtime = -1
scale = 1,1
persistent = 0

[State 3840, LifeSet]
type = LifeSet
trigger1 = !time
value = 1
;ignorehitpause =
;persistent =



[State 3840, 4] ;Did I win?
type = ChangeState
trigger1 = time=50 ;20 ;200
trigger1 = Win
value = 0 ;180
ctrl = 1

[State 3840, LifeAdd] ;I could kill myself, thanks!
type = null ;LifeAdd
trigger1 = time=600
trigger1 = !Win
value = -1
kill = 1
absolute = 1
;ignorehitpause =
;persistent =

[State 3840, 4] ;Are you dead?
type = null ;ChangeState
trigger1 = !alive
value = 5050

;Hit by Aura Burst
[Statedef 3850]
type = A
movetype = H
physics = N ;A
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 5

[State 3850, VelAdd]
type = VelAdd
trigger1 = !time
x = 0.2
y = -0.3
;ignorehitpause =
;persistent =


[State 3850, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 3850
;elem = 1
;ignorehitpause =
;persistent =


[State 3850, ChangeState]
type = SelfState
trigger1 = enemy,NumHelper(38000)=0 ;time = 500 ;!time
trigger2 = !Alive
value = 5050 ;5100

;Hit by SANITY Aura Burst 1
[Statedef 3855]
type = A
movetype = H
physics = N ;A
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 5



[State 3855, ChangeAnim2]
type = ChangeAnim
trigger1 = !time
;value = 0
value = cond(SelfAnimExist(5300)=1,5300,0) ;dizzy
;elem = 1
;ignorehitpause =
;persistent =

[State 3855, ChangeState]
type = SelfState
;trigger1 = enemy,NumHelper(38010)=0 ;time = 500 ;!time
trigger1 = !Alive
value = 5100

;Hit by SANITY Aura Burst 2
[Statedef 3860]
type = S
movetype = H
physics = N ;A
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 10

[State 3860, 1]
type = screenbound
trigger1 = 1 ;enemy,stateno=3840
movecamera = 0,0
value = 1

[State 3860, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 3850
;elem = 1
;ignorehitpause =
;persistent =

[State 3860, VelAdd]
type = VelAdd
triggerall = enemy,stateno=3822 ;3810
trigger1 = !time
x = -0.2
y = -0.3

[State 3860, VelSet]
type = VelSet
trigger1 = enemy,stateno=3830
x = 0
y = 0


[State 3860, 1]
type = PosSet
trigger1 = enemy,stateno=3840
y = 9000

[State 3860, AssertSpecial]
type = AssertSpecial
trigger1 = enemy,stateno=3830
trigger2 = enemy,stateno=3840
flag = invisible
;flag2 = nokosnd


[State 3860, ChangeState]
type = SelfState
;trigger1 = enemy,NumHelper(38010)=0 ;time = 500 ;!time
trigger1 = !Alive
value = 5150 ;5100

;===========================================================================
; <<<<< SANITY FINAL FLASH >>>>>
; State = 4000
; Launch = 4001
; End = 4002
; Cinematic= 4003 (TBC)
; Beam helper = 4004
; Beam Vanish = 40041
; wave explod = 2505
;===========================================================================

; SANITY FINAL FLASH
[Statedef 4000]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 4000
sprpriority = 1
poweradd = 0
velset = 0,0

[State 4100, Invincible]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Aura energy]
type = Explod
trigger1 = AnimElemTime(3)=0
anim = 4003
id = 4003
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 200, 1];Woosh
type = PlaySnd
trigger1 = animelem = 6
value = 0, 0
channel = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1 ;Time >= 20
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
flag2 = globalnoshadow
ignorehitpause = 1


[State 3000, nhb]
type = nothitby
trigger1 = 1 ;animelemtime(7) < 0
time = 1
value = SCA

[State 0, Talking Mouth]
type = Explod
trigger1 = time=21 ;AnimElemTime(8)=0
anim = 4005
id = 4005
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -2
sprpriority = 2
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2502, Charge SFX]
type = playsnd
trigger1 = AnimElemTime(3)=0
value = 4000,0
volume = 300


[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = time=22 ;AnimElemTime(8)=0
value = 2500,random%3
channel = 0
volume = 355

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = time=22 ;AnimElemTime(8)=0
value = 2501,0
channel = 0
volume = 355

[State -3, Final Flash voice]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = time=22 ;AnimElemTime(8)=0
value = 2503,random%2
channel = 0
volume = 355


[State 2500, bgpalfx1]
type = bgpalfx
trigger1 = time=24
time = 45
color=0
mul=0,0,0

[State 105, 3]
type = ChangeState
trigger1 = time >= 85 ;110
value = 4001

;---------------------------------------

;Launching Final Flash
[Statedef 4001]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 4001
sprpriority = 1
velset = 0,0

[State 4100, Invincible]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
flag2 = globalnoshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1 ;Time >= 20
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, Remove aura]
type = RemoveExplod
trigger1 = !time
id = 4003
;ignorehitpause =
;persistent =

[State 0, Aura energy]
type = Explod
trigger1 = !time
anim = 4004
id = 4004
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 3
ownpal = 1
bindtime = -1
scale = 1,1
removeongethit = 1
persistent = 0

[State 2201, helper]; Background lines
type = Helper
trigger1 = !time
pos = -640, -480
postype = back
stateno = 37010 ;2937
helpertype = normal
name = "horizontal_lines_BG"
id = 2937
ownpal = 1
supermovetime = 150
pausemovetime = 150
sprpriority = 0 ;2
size.xscale = 5
size.yscale= 5


[State 13000, Final Flash Beam]
type = Helper
trigger1 = time= 5 ;!time
name = "FF_Beam"
ID = 4004
stateno = 4004

[State 2502, Beam SFX]
type = playsnd
trigger1 = time= 5 ;!time
value = 4000,1 ;2502,0
volume = 300

[State 105, go to cinematic hit]
type = null ;ChangeState
trigger1 = p2stateno = 2511
value = 4003


[State 0, Hands FX]
type = null ;Explod
trigger1 = !NumExplod(4006)
trigger1 = AnimElemTime(3)=0
anim = 4006
id = 4006
pos = 0,0
postype = p1
supermovetime = 9999
pausemovetime = 9999
supermove = 1
removetime = -1
sprpriority = 2
ownpal = 0
bindtime = -1
scale = 1,1
persistent = 0


[State 3001, shake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
freq = 100
ampl = 5

[State 111, end]
type = ChangeState
trigger1 = Numhelper(4004)
trigger1 = helper(4004),stateno=40041
trigger1 = helper(4004),animtime=0
value = 4002

; SANITY FF end
[Statedef 4002]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 2 ;4002
sprpriority = 4

[State 4100, Invincible]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, disable rage mode - sanity level]
type = VarSet
trigger1 = !time
var(58) = 0

[State 3840, AllPalFX]
type = AllPalFX
triggerall = !WinKO
trigger1 = Time=[0,16]
time = 1
add = 255-16*Time,255-16*Time,255-16*Time
;mul = 256,256,256
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
ignorehitpause = 1
;persistent =

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time <= 16
;flag = noBG
;flag2 = noFG
flag = nobardisplay
flag2 = globalnoshadow
ignorehitpause = 1


[State 0, Remove aura]
type = RemoveExplod
trigger1 = !time
id = 4004
;ignorehitpause =
;persistent =


[State 0, Remove Hands]
type = null ;RemoveExplod
trigger1 = !time
id = 4006
;ignorehitpause =
;persistent =


[State 111, end]
type = ChangeState
trigger1 = time = 32 ;!AnimTime
value = 0
ctrl = 1

;4003: Cinematic??

;Killed by SANITY FF
[Statedef 4005]
type    = L
movetype= H
physics = N
ctrl = 0
sprpriority = 7

[State 2260, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 1

[State 4005, vel Y]
type = posset
trigger1 = !time
x = cond(facing=1, -180, 180)

[State 3000, hit anim]
type = ChangeAnim2
trigger1 = Anim!=5943
value = 5943
ignorehitpause = 1

[State 13300, Fadeout]
type = PalFX
trigger1 = Time = [0,30]
time = 1
add = -8*(Time),-8*(Time),-8*(Time)

[State 13300, Fadeout]
type = PalFX
trigger1 = Time >= 30
time = 1
add = -256,-256,-256

[State 3000, shaking]
type = PosAdd
trigger1 = time<30
Y = cond(time%4=0,-2,cond(time%4=2,2,0))
ignorehitpause = 1

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1

;This prevent freeze game
[State 49999, 5]
type = ChangeState
trigger1 = time >99
value = 5942

;[MAJIN]
;===========================================================================
; <<<<< SANITY GALACTIC JUGGLE >>>>>
; State = 4100
; Launch = 4101
; Cinematic Off-Screen = 4102
; Cinematic On-Screen= 4103
; Blast helper = 4105
; Last Blast helper = 4106
; SGJ Vertical Lines BG = 4107
; P2 hit = 4110 (Launched upwards)
; P2 hit = 4111 (Spam)
; P2 hit = 4112 (Spam 2)
; P2 hit = 4113 (Spam End)
; P2 hit = 4113 (Fall to Ground)

;===========================================================================
;[MAJIN]

; SANITY GALACTIC JUGGLE
[Statedef 4100]
type = S
movetype = A
physics = S
anim = 4100
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 3

[State 4100, Invincible]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4100, bg]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1


[State 4100, PlaySnd]  ;teleport SFX
type = PlaySnd
trigger1 = Animelemtime(1)=0
value = 2302,0

[State 4100, PosSet]
type = PosSet
trigger1 = Animelemtime(1)=0
x = (EnemyNear(0),Pos X)-60*facing
y = 0
;ignorehitpause =
;persistent =

[state 4100, Rising Effect]
type = explod
trigger1 = animelemTime(5)=0
anim = 1216
id = 1216
pos = -70,8
postype = P1
sprpriority = -3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1


[State 4100, 2];woosh
type = PlaySnd
trigger1 = animelemTime(6)=0
value = 1110,0
volume = 300


[State 4100, 1]
type = HitDef
trigger1 = animelem=7
attr = S, HA
damage = 0,0
animtype = Hard
air.animtype = back
guardflag = MA
hitflag = MAF
priority = 4, Hit
sparkno = s7030
guard.sparkno = s7000
sparkxy = -10, -63
hitsound = s5,2
guardsound = s6,1
ground.type = High
pausetime = 8,9
guard.pausetime = 8,7
ground.slidetime = 15
ground.hittime = 15
guard.hittime = 15
guard.slidetime = 15
guard.ctrltime = 15
ground.velocity = -7,-10
air.type = High
air.velocity = -4.6,-6.5
air.hittime = 13
getpower = 0,0
givepower = 35,35
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
envshake.time = 14
envshake.ampl = 5
p2stateno = 4110
kill = 0

[state 4100, flip FX]
type = explod
trigger1 = animelemTime(6)=0
anim = 1105
id = 1105
pos = 0,0
postype = P1
sprpriority = 5
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 0


[State 4100, Landing Sound]
type = PlaySnd
trigger1 = animelemTime(12)=0
value = 40, 0
persistent = 0

[state 4100, twirl FX]
type=explod
trigger1 = animelemTime(12)=0
anim=17100
id=17100
pos=0,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = 1,1

[State 4100, End]
type = ChangeState
trigger1 = !AnimTime
value = 41001
ctrl = 0

;===========================================================================
;[MAJIN]

; SANITY GJ DASH BACK (start)
[Statedef 41001]
type    = A
physics = N
ctrl = 0
anim = 105
sprpriority = 1

[State 4101, AssertSpecial]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State 100, jump SND]
type = playsnd
trigger1 = !time
value = 40,1

[State 4101, Finisher voice]
type = PlaySnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 4100,random%5
channel = 0
volume = 300

[State 4101, Finisher voice]
type = PlaySnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 2620,10+random%2
channel = 0
volume = 300

[State 4101, Finisher voice]
type = PlaySnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 2616,random%4
channel = 0
volume = 300

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = 0
y = 0.3
;ignorehitpause =
;persistent =


[State 105, 3]; to landing
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 41002

;===========================================================================
;[MAJIN]

; SANITY GJ DASH BACK (land)
[Statedef 41002]
type    = S
physics = S
ctrl = 0
anim = 47

[State 4101, AssertSpecial]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 4]
type = ChangeState
trigger1 = Time = 7
value = 4101
ctrl = 0

;===========================================================================
;[MAJIN]

; SANITY GJ CHARGE
[Statedef 4101]
type    = S
movetype = A
physics = N
ctrl = 0
anim = 4101
sprpriority = 1
poweradd = 0
velset = 0,0

[State 4101, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 4101, AssertSpecial]
type = assertspecial
trigger1 = 1
flag = noFG
flag2 = noBG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State 4101, PB Ball charge sound]
type = PlaySnd
trigger1 = !time
value = 3300,0
channel = 5

[State 4101, Blast Sound]
type = PlaySnd
trigger1 = time = 33
trigger2 = time = 49
trigger3 = time = 65
trigger4 = time = 81
value = 2000,2 ;10,0

[State 4101, Temp Blast 1 helper]
type = helper
trigger1 = time = 33
trigger2 = time = 65
helpertype = normal
stateno = 4105
ID = 4105
name = "Blast 1"
postype = p1
pos = 3,-121
ownpal = 1

[State 4101, Temp Blast 2 helper]
type = helper
trigger1 = time = 49
helpertype = normal
stateno = 4105
ID = 4105
name = "Blast 2"
postype = p1
pos = -18,-121
ownpal = 1

[State 4101, Temp Blast Last helper]
type = helper
trigger1 = time = 81
helpertype = normal
stateno = 4106
ID = 4106
name = "Blast Last"
postype = p1
pos = -18,-131
ownpal = 1


[State 4101, ChangeState]
type = ChangeState
trigger1 = time = 88 ;110 ;204 ;202
value = 4102
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


;-------------------------------------------------------------------------------
;[MAJIN]

; SGJ Cinematic (off-screen)
[Statedef 4102]
type = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
;facep2 = 1

[State 4102, helper]; Background lines
type = Helper
trigger1 = !time
pos = -640, -480
postype = back
stateno = 4107
helpertype = normal
name = "vertical_lines_BG"
id = 4107
ownpal = 1
supermovetime = 9999 ;150
pausemovetime = 9999 ;150
sprpriority = 2
size.xscale = 5
size.yscale= 5

[State 4102, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 4102, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = invisible
ignorehitpause = 1

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State 4102, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause =
;persistent =


[State 4102, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 4102, Place Off-screen]
type = PosSet
trigger1 =  !time
x = 0 ;cond(facing=1,-150,150)
y = 500
;ignorehitpause =
;persistent =

[State 4101, Temp Blast 1 helper]
type = helper
trigger1 = time = 13
trigger2 = time = 45
helpertype = normal
stateno = 4105
ID = 4105
name = "Blast 1"
postype = p1
pos = 3,-121
ownpal = 1

[State 4101, Temp Blast 2 helper]
type = helper
trigger1 = time = 29
helpertype = normal
stateno = 4105
ID = 4105
name = "Blast 2"
postype = p1
pos = -13,-121
ownpal = 1

[State 4101, Temp Blast Last helper]
type = helper
trigger1 = time = 61
helpertype = normal
stateno = 4106
ID = 4106
name = "Blast Last"
postype = p1
pos = -18,-131
ownpal = 1

[State 4102, Place Off-screen]
type = PosSet
trigger1 =  time = 143 ;192
x = cond(facing=1,-150,150)
y = 500
;ignorehitpause =
;persistent =

[State 4102, ChangeState]
type = ChangeState
trigger1 = target,stateno=4114 ;5050 ;time = 550
value = 4103
ctrl = 0


;-------------------------------------------------------------------------------
;[MAJIN]

; SGJ Cinematic (return to screen)
[Statedef 4103]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
facep2 = 1

[State 0, disable rage mode - sanity level]
type = VarSet
trigger1 = !time
var(58) = 0

[State 4104, AssertSpecial]
type = AssertSpecial
trigger1 = target,life<=10
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1

[State 0, Timer Freeze]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
ignorehitpause = 1

[State 4103, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4108
;ignorehitpause =
;persistent =


[State 4103, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = cond((target,life<=10),41041,2)
;elem = 1
;ignorehitpause =
;persistent =


[State 4103, Place On-screen]
type = PosSet
trigger1 = target,life>10
trigger1 = !time
x = cond(facing=1,-150,150)
y = 0
;ignorehitpause =
;persistent =

[State 4103, Place On-screen Killing Blow]
type = PosSet
trigger1 = target,life<=10
trigger1 = !time
x = cond(facing=1,-65,65)
y = 0
;ignorehitpause =
;persistent =

[State 4103, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 4103, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause =
;persistent =


[State 4103, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 0, ChangeState Killing Blow]
type = ChangeState
trigger1 = target,life<=10
trigger1 = target,Pos Y > -420 ;280 ;180
value = 4104
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


[State 4103, ChangeState normal]
type = ChangeState
trigger1 = target,Pos Y > -80 ;stateno=5050 ;time = 550
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;[MAJIN]

; SGJ Killing Blow
[Statedef 4104]
type = S
movetype = A
physics = S
anim = 4104
ctrl = 0
velset = 0,0
facep2 = 1

[State 4104, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 4104, AssertSpecial]
type = AssertSpecial
trigger1 = target,alive ;1
flag = noBG
flag2 = noFG
flag3 = nobardisplay
ignorehitpause = 1

[State 4104, Timer Freeze]
type = AssertSpecial
trigger1 = target,alive ;1
flag = timerfreeze
ignorehitpause = 1

[State 4104, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
;ignorehitpause =
;persistent =

[State 4104, 1]
type = null; screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = !time ;AnimElemTime(7)=0
x = 1 ;5
y = -9
;ignorehitpause =
;persistent =

[State 3553, FX Snd]
type = PlaySnd
trigger1 = !time ;AnimElemTime(7)=0
value = 0,24
channel = 5
persistent = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(1)>0 ;AnimElemTime(7)=0
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 3554, 1]
type = PlaySnd
trigger1 = AnimElemTime(5)=0
value = 0, 5

[State 3554, 3]
type = HitDef
trigger1 = AnimElem = 6 ;10
attr = A, HA
;damage = 10,0
damage = ceil(cond(fvar(11) * 10 < 7, 7, fvar(11) * 10)), 0
hitflag = MAF
;guardflag = L
priority = 4, Hit
pausetime = 13,13
sparkno = s7030
guard.sparkno = -1 ;s7000
sparkxy = -20,-55
hitsound   = s4104,0 ;s5, 5
guardsound = S6,2
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 0,0 ;-1,-5
guard.velocity = 0 ;-4
air.velocity = cond(p2movetype=H,-3,1),cond(p2movetype=H,-5,7)
fall = 1
fall.recover = 0
air.animtype = back
getpower= 0,0
givepower = 35,35
;envshake.time = 16
;envshake.freq = 60
;envshake.ampl = 4
yaccel = 0.5
;p2facing = -1
p2stateno = 651

[State 4104, end]
type = changestate
trigger1 = !animtime
value = 2120
ctrl = 0



;-------------------------------------------------------------------------------
;[MAJIN]

; SANITY GALACTIC JUGGLE
;Hit by Sanity GJ (Custom State)
[Statedef 4110]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,-10
facep2 = 1

[State 4110, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 4110 ;cond(selfanimexist(3555),3555,3556)
;elem = 1
;ignorehitpause =
;persistent =

[State 4110, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 4110, Place Off-screen]
type = PosSet
trigger1 =  ScreenPos Y < -50
x = 0
y = -500
;ignorehitpause =
;persistent =

[State 4110, ChangeState]
type = ChangeState
trigger1 = enemy,stateno!=[4100,4101]
trigger1 = enemy,stateno!=[41001,41002]
value = 4111
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


[State 4110, ChangeState]
type = SelfState
trigger1 = time >320 ;debug
;trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100

;-------------------------------------------------------------------------------
;[MAJIN]

; SANITY GALACTIC JUGGLE
;Hit by SGJ Spam (Custom State)
[Statedef 4111]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,-10
sprpriority = 2
facep2 = 1

[State 4111, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 4110
;elem = 1
;ignorehitpause =
;persistent =

[State 4111, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0


[State 4111, Place Off-screen]
type = PosSet
trigger1 =  !time
x = 0
y = 150
;ignorehitpause =
;persistent =

[State 4111, VelSet]
type = VelSet
trigger1 =  Pos Y <=-80
x = 0
y = 0
;ignorehitpause =
;persistent =


[State 4111, ChangeState]
type = SelfState
trigger1 = time >320 ;debug
;trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100

;-------------------------------------------------------------------------------
;[MAJIN]

; SANITY GALACTIC JUGGLE
;Hit by SGJ Spam 2 (Custom State)
[Statedef 4112]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1

[State 4112, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 4112
;elem = 1
;ignorehitpause =
;persistent =


[State 4112, ChangeState]
type = SelfState
trigger1 = time >320 ;debug
;trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100

;-------------------------------------------------------------------------------
;[MAJIN]

; SANITY GALACTIC JUGGLE
;Hit by SGJ Spam End (Custom State)
[Statedef 4113]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1

[State 4113, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5050
;elem = 1
;ignorehitpause =
;persistent =

[State 4113, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 4113, Gravity]
type = Gravity
trigger1 = 1
;ignorehitpause =
;persistent =

[State 4113, ChangeState]
type = ChangeState
trigger1 =  ScreenPos Y > 300
value = 4114
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


[State 4113, ChangeState]
type = SelfState
trigger1 = time >320 ;debug
value = 5050 ;5100

;-------------------------------------------------------------------------------
;[MAJIN]

; SANITY GALACTIC JUGGLE
;Hit by SGJ Fall to screen (Custom State)
[Statedef 4114]
type = A
movetype = H
physics = N ;A
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1

[State 4114, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 5050
;elem = 1
;ignorehitpause =
;persistent =

[State 4114, 1]
type = screenbound
trigger1 = 1
movecamera = 0,0
value = 0

[State 4114, Place Off-screen]
type = PosSet
trigger1 =  !time
x = 0
y = -500
;ignorehitpause =
;persistent =


[State 4114, Gravity]
type = Gravity
trigger1 = 1
;ignorehitpause =
;persistent =

[State 0, LifeAdd]
type = LifeAdd
trigger1 = pos Y>=0
value = -10
kill = 1
absolute = 1
;ignorehitpause =
;persistent =


[State 4114, ChangeState]
type = SelfState
trigger1 = pos Y>=0 ;time=1 ;time >320 ;debug
value = 5050 ;5100

;===========================================================================
; <<<<< SANITY MODE >>>>>
; Sanity Activation = 4700
;===========================================================================
; Sanity Mode
[Statedef 4700]
type = S
movetype = I
physics = S
anim = 2700
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000

[State 4500, 1];transform SND
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 188,0
volume = 255
channel = 2

[State 200, BGPalFX]
type = BGPalFX
trigger1 = time=[0,97]
time = 1
add	= -100,-100,-100
mul	= 256,100,100
invertall = 0
color = 256

[State 3000, superpause]
type = superpause
trigger1 = time=0
time = 97
p2defmul = 1
unhittable = 1
anim = -1
sound = s2350,0
darken = 0
movetime = 97

[State 3000, nhb]
type = nothitby
trigger1 = 1
time = 1
value = SCA

[State 13100, shake]
type = envshake
trigger1 = !(time%12)
time = 12
freq = 130
ampl = 5

[State 3000, reset Super Move Checker]
type = varset
trigger1 = !time
var(43) = 0

[State 3000, Buffer var]
type = varset
trigger1 = !time
var(53) = 1000

[State 3000, Flame var]
type = varset
trigger1 = !time
var(58) = 0


[State 200, Sanity Activation]
type = playsnd
triggerall = var(55)=0		;Voice=English
trigger1 = !time
value = 4700,1+random%3
channel = 0
volume = 300

[State 200, Sanity Activation]
type = playsnd
triggerall = var(55)=1		;Voice=Japan
trigger1 = !time
value = 2700,5
channel = 0
volume = 300

[State 200, Sanity Activation]
type = playsnd
triggerall = var(55)=2		;Voice=Eng Sabbat
trigger1 = !time
value = 2700,1
channel = 0
volume = 300

[State 3000, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1



